(this["webpackJsonpboxshall-web"]=this["webpackJsonpboxshall-web"]||[]).push([[0],{114:function(e,t,a){},140:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAArXSURBVHhe7d17rCNlGcfxPd6iiJdoMCpeYyJqVOJd4gUhKEiOu6ftnHM6bd/p7poc1CgQlBiNeojxDxeNRENcQ4y4MUHAiDFCJALejSggqwu6hEQSCRJjAFcMuKu7+rw9T8+e6XnettPOdLrl+0l+WWjnnfftTJ+5tNM5WwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAmiJDmx0mqdrP8LoGtxcfFJtUZyl+Q/lWbzBfowAK8auwulOP5Xi92h+ZWV4/RhAIuL7efW4uSAL5Bqw92qDwPwZK9xeWfv4Qskdl/Wh3MT1VtnVRvJr6T47uibOLmlWncf1WZBcgj4PBnzNeY8NiZ2t+vrmVtrmSaHlY+XPnfLtL/f1DbPxO4P8rr2RFH0FO06ZVu7/UyZ5grZSO0z22eMLJtfy7q8Sf57T63RPleW15u0q8yiOElkfr/t7WPUyLh+KrlOlvs35TVfII+dMT8/P71HLLIA3iwDPuKLwyeKW3V9Kjf+DdKd/zCpNhov1qamSuw+bbULRd4gb9WmKX7lWNMXldCylXVwjjV9npF1sLcat96nXQ5N3sidI4si4/uQXLaw7F6p3U6NOVlwN28c7LxzL9LnciNbxr9t7GNQKkv9t3iyMC+12oUir/FsbZoSNdyiNX1RiWL3Ie06Rfauq9b0BeSI70u7HcifixrzKCwytoOyrj6zurr6OB1CueQN4lKDjJN79alcUSBrmYIC0bht2nVfky6QbmT97tYhlGfrzp1Pk0OM+1IDa7ir9elcUSBrmaICuceff2n3QWUViI8/7NRhlEOK4fO9g6o03fn6dK4okLVMT4H4uHntPqjMApF1dr/fiOtQJmthOXmZP97bNLB66y06Sa4okLVMU4HIMrxEuw8qs0A6abq2DmWy5A3z/d7ByGOPrqysPFEnyRUFspbp2oMkP9Lug8ouEDnK+ZYOZXLkzXKmPZjk5zpJ7iiQtcgKd9p1Sil7kEbyO+0+qPQCid1+Hcpk+D2EdPzH3oH4+HMSnSx3s1IgMp+HOq9llMgWW06Mn6Fdp2QtkGrcusy36aYSu12yTO60pg1F1vcd2n3QFBTIAzqUyajU3fnWQNYy3Ed/o9A3iNGnnWktkIXYnapNc5W1QKzl8+5W66nyOu+3prdSUIFcq01T/Cdm25aXXyLnuBcbbYKR13NYZ1G8aMeOE2p+C2gMxKfSaj1HJ80dBdJfHgXiyev8jjW9mdjdps2C8iqQDeak30x7Om1XPL9btgbgI2+4u3WyTfxl8JWl1sn+mhxZAV+SF/hj+fcB+fcinWQgCqS/vApE1sn6NXVD5HptFlRAgWyRab7X06ZvtFmxKs3m62Ul/NcaQCfyBvbHx1EUPavWbL9L3oDnyWOXywLfK+02fxzcaeN+qbMfaGYKRA5Do2jHCYPSksMd7WIoue1BOhcn2m16I8vwK9osqIgCkdd6tdEuGG1WqDkZ1C+szsdJtd76hM5/oFkpkCyRPn8y7MfmeRWILOcbrOmtyPjO1GZBj4kC8VeQWh2PE1m4+/2hl3YxkKy4v1rzCWUWCqSTev212lVfeRSI/2Zc5hM+StiY2P1smAsCZ75A/Ccb8ua81+p4nMiu/AztYijyBr3Hmk8o1aXG27SpqVp3X7PahVKpt87SpilFF8igQu/KWiCygXiws1fWSPuHrekCua5e3/l87bqvmS8QGcxnrU7HiRTHVTr7ocnW7U/WvEKpxK1Em5qk4G602oUiJ9dv16Ypx2qBjBNZf7fK8vvCwrJ7uXYfNNMFErVaL5XBPGJ1Ompkfg+PckMH2eL9wJpfKLICr9Cmm8ih3fFyiPBvq10o/heI2jzlsVgg3cgyPiT9fkqHYJrpApEFMPxn4kNG5nmhzj6TSuwusuYXTOz+Gfp5avZzKnefNt3ksVwg66knn9NhbDKzBSKDOM3qbJxIcdw56sWMtbp7nTXPfqnUk4o2T5G90Xet6cNpf1WbbkKBdNbr4Uqzbf4keSYLxH+tLy8602/Ah4mc6J6uXYxiLut5iLyGTYdZ/vBKFnC2w8bl5ju0+SZFF4jfMGhXfZVZID5yXmL+UG4mC6Qatz5sdTROZAEGzwmGJfP5WO98+8Y4zBrhI+u7pJl5RxOvyAKRPd3+drv9ZO2qr9ILJE4O+A2rDmfdTBaIbKn/YnXkt7yyIG72H5HKvx+MYnfK/LwsgGU3b02/Hll4W4f8WLAff62X7BUOmX0EIodZkTbviDIuXOmv7zlT1gJZqLt21Gy+alCqcfyKLN8TlV0gPtaHLzNZIJU4uVI/H79BTsAulsT+dirWFsJbXt7+Qmtg3cib7AKddGyyJ7rK6iMUP7029ZfqHyeF/S9rOiuyIg76CzS1uSlzgUzJtVhFxBe2DmfdzJ6kZ1Hpf9iyL89fGcobPtN9qHxB+MLwbbO+maWvb3c67eOYLZDY7fK/TrQiy+y8rBsin0kViEzzw542faPNyiOHZN+wBibx91B6p06WlzlZgXcbfQUje7Br/F5M/tvfWNucxsowHyocqwUyzKdj/nISq20okyiQZrP5dJnm7z1t+kablmZOtjapW/90I48X8ntgOfT7uNVfzul7ct6Vfa+UrPo2I6XZPEm73aSIApEN0W6rbSg5Fcht5muX+DvmSNHuNdoEI8vloA6lHJWl1qvNgcmJeejb53GNcrKeNYNOzrv8irPaFxEZ0+Gasz/2LahAMl3QmVOB5BpZZsEveSfC3yjaGlit0TpXJymE7EWutPsdP36rM+jkvGuSBeKz2GivaNcpFIgdOYr5jQ6lHDKI63sHJdkb+sQrL/78wOg3lwxzct416QLxJ9HadQoFEkjsdulQJs9/CSe7sEd7BnUkdOVrzuakr0wn3cMmyzf+FMjRTGOBbOtzFUThas3kPb0Dkq3vHn26cP48obf/HDLUyXkXBXI0U1ggN+kwylFpJl9MDSh2DxV5Z5Ne/jzBny+kxjBmhj0576JAjmaaCkTGfqD0PyYrA9m3cVCVuvuIPjUx/nxh4xjGiS+2YU/OuyiQo5mWApFl8YjkNB1COaIoOVEGs/5XpWTLe3vRJ+YWfweV7hjGTZaT865aw1WteRWV0C39K3HySWv6YOrujdo0SArkErNtIMtu81938teTyXPr75OiI+/DG/2N1bX78lQbre0bBnZkKfB7gEmQhXLthrGMFCmOf0SNxmt0lkOTreZJsrUa7kYHOUT2IKdo1yny3Ht7pw3Fb2EXnHu2Ng2SImpb7c2sXc17vDZNkedSRxp5Rwr5z9VmcmmluX3gXnFiUoc2sfu6PlyKU1dXn7DQcPP+8GOU1Jpu5zhfai422m+w5pt3qo123xtRRPXW6Va7dJJzrEOhAP/n9c6253M0Mq6VrVH4W36/bGWD+n6r7WjxNyBs1/yPtKQozXsVl8rf7kW2Qp3rYaR6H8x63A7MNH/8ur73aLgP6MMAvFq9udTZezSSW8o4MQem2tohlnOD/hY5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjllbtvwf63VoLMc5DH4AAAAASUVORK5CYII="},156:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},192:function(e,t,a){e.exports=a(430)},225:function(e,t,a){},425:function(e,t,a){},427:function(e,t,a){},428:function(e,t,a){},429:function(e,t,a){},430:function(e,t,a){"use strict";a.r(t);var l=a(32),n=a(0),s=a.n(n),r=a(29),o=a.n(r),c=a(64),i=a(27),m=a(18),d=a(9),u=a(10),p=a(20),h=a(12),E=a(11),v=a(16),g=a.n(v),b=a(17),f=a(19),N=a.n(f),y=a(22),C=a.n(y),x="http://localhost:9000/",k=["Advertising & Marketing","Ask My Accountant","Bank Charges & Fees","Car & Truck","Contractors","Insurance","Interest Paid","Job Supplies","Legal & Professional Services","Meals & Entertainment","Office Supplies & Software","Other Business Expenses","Reimbursable Expenses","Rent & Lease","Repairs & Maintenance","Taxes & Licenses","Travel","Uncategorized Expense","Utilities"],S=["Airfare & Related Costs","Gas","Lodging","Meals & Entertainment","Mileage","Parking","Phone/Fax","Transportation"],w=["Accounts Payable","Accounts Receivable","Bank","Cost Of Goods Sold","Equity","Expense","Fixed Assets","Income","Loan","Long Term Liability","Non-Posting","Other Asset","Other Current Asset","Other Current Liability","Other Expense","Other Income"],D="https://s3.amazonaws.com/verd-dev/",A=[{value:"on-hold",label:"With Employee"},{value:"employer",label:"With Approver"},{value:"submitted",label:"Pending Download"},{value:"archived",label:"Archive"}],O=[{value:"WithEmployee",label:"With Employee"},{value:"WithApprover",label:"With Approver"},{value:"Approved",label:"Pending Download"},{value:"Archived",label:"Archive"}],T=["NAME","EMAIL","PHONE","ACTIVE","USER ROLE"],j={WITH_EMPLOYEE:"WithEmployee",WITH_APPROVER:"WithApprover",APPROVED:"Approved",ARCHIVED:"Archived",PENDING_APPROVAL:"PendingArroval",REJECTED:"Rejected"},L=[{value:"pendingApproval",label:"Pending Approval"},{value:"Approved",label:"Approved"}];Object.freeze(j);var I=a(5),P=a(140),R=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=Object(p.a)(l);t.setState({loading:!0});var a={email:l.state.email,password:l.state.password},n=x+"employee/login";console.log("URL:out"),console.log(n),N.a.post(n,a).then((function(e){if(e.data.success){console.log("URL:"),console.log(n);var a=e.data.employee.DisplayName?e.data.employee.DisplayName:e.data.employee.displayName;console.log("Access:"),console.log(e.data.employee.type);var l="employee"==e.data.employee.type?2:1;localStorage.setItem("token",e.data.token),localStorage.setItem("name",a),localStorage.setItem("access",l),localStorage.setItem("role",e.data.employee.user_type?e.data.employee.user_type:e.data.employee.type?e.data.employee.type:""),e.data.employee.isFirstTime?t.props.history.push("/changePassword"):t.props.history.push("/")}else t.setState({loading:!1}),I.ToastsStore.error(e.data.message)})).catch((function(e){t.setState({loading:!1}),I.ToastsStore.error(e.message),console.log(e)}))},l.handleChange=function(e){l.setState(Object(m.a)({},e.target.name,e.target.value))},l.state={email:"",password:"",isLoading:!1},l}return Object(u.a)(a,[{key:"render",value:function(){return this.state.isLoading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):s.a.createElement(s.a.Fragment,null,s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("main",null,s.a.createElement("section",{className:"section section-shaped section-lg"},s.a.createElement("div",{className:"shape shape-style-1 bg-gradient-default"},s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null)),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"card bg-secondary shadow border-0"},s.a.createElement("div",{className:"card-header bg-white text-center"},s.a.createElement("img",{src:P,height:"80px",alt:"Logo"})),s.a.createElement("div",{className:"card-body px-lg-5 py-lg-2"},s.a.createElement("div",{className:"text-center text-muted mb-4"},s.a.createElement("small",null,"sign in with credentials")),s.a.createElement("form",{htmlFor:"form",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form-group mb-3"},s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(g.a,{path:b.j,title:"User Profile",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#9e9e9e"}))),s.a.createElement("input",{className:"form-control",placeholder:"Email",type:"email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(g.a,{path:b.p,title:"User Profile",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#9e9e9e"}))),s.a.createElement("input",{className:"form-control",placeholder:"Password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customCheckLogin",type:"checkbox"}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customCheckLogin"},s.a.createElement("span",null,"Remember me"))),s.a.createElement("div",{className:"text-center"},s.a.createElement("button",{type:"submit",className:"btn btn-primary my-4"},"Sign in"))))),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"col text-right"},s.a.createElement("a",{href:"/",className:"text-light"},s.a.createElement("small",null,"Forgot Password?"))))))))),s.a.createElement("footer",{className:"footer"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row row-grid align-items-center mb-5"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("h3",{className:"text-primary font-weight-light mb-2"},"Thank you for supporting us!"),s.a.createElement("h4",{className:"mb-0 font-weight-light"},"Let's get in touch on any of these platforms.")),s.a.createElement("div",{className:"col-lg-6 text-lg-center btn-wrapper"},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/csa",className:"btn btn-neutral btn-icon-only btn-twitter btn-round btn-lg","data-toggle":"tooltip","data-original-title":"Follow us"},s.a.createElement(g.a,{path:b.y,title:"User Profile",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#fff"})),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.facebook.com/csa",className:"btn btn-neutral btn-icon-only btn-facebook btn-round btn-lg","data-toggle":"tooltip","data-original-title":"Like us"},s.a.createElement(g.a,{path:b.k,title:"User Profile",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#fff"})),s.a.createElement("a",{target:"_blank",href:"/",className:"btn btn-neutral btn-icon-only btn-dribbble btn-lg btn-round","data-toggle":"tooltip","data-original-title":"Follow us"},s.a.createElement(g.a,{path:b.o,title:"User Profile",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#fff"})))),s.a.createElement("hr",null),s.a.createElement("div",{className:"row align-items-center justify-content-md-between"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"copyright"},"\xa9 2019",s.a.createElement("a",{href:"/",target:"_blank"},"Verd"),".")),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("ul",{className:"nav nav-footer justify-content-end"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/",className:"nav-link",target:"_blank"},"Verd")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/",className:"nav-link",target:"_blank"},"About Us")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/",className:"nav-link",target:"_blank"},"License"))))))))}}]),a}(n.Component),F=(a(225),a(128)),_={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Data",fill:!1,lineTension:.1,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[65,59,80,81,56,55,40]}]},B=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).state={data:_},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e={token:localStorage.getItem("token")};N.a.post("http://localhost:9000/user/graphs",e).then((function(e){if(e.data.success){var t=[],a=[];console.log(e.data.data);var l=e.data.data;for(var n in l)t.push(l[n].user.name),a.push(l[n].count)}})).catch((function(e){}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xl-8 mb-5 mb-xl-0"},s.a.createElement("div",{className:"card bg-gradient-default shadow"},s.a.createElement("div",{className:"card-header bg-transparent"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col"},s.a.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Overview"),s.a.createElement("h2",{className:"text-white mb-0"},"Survey by employees")))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"chart"},s.a.createElement(F.Line,{data:this.state.data}))))),s.a.createElement("div",{className:"col-xl-4"},s.a.createElement("div",{className:"card shadow"},s.a.createElement("div",{className:"card-header bg-transparent"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col"},s.a.createElement("h6",{className:"text-uppercase text-muted ls-1 mb-1"},"Performance"),s.a.createElement("h2",{className:"mb-0"},"Survey by employees")))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"chart"},s.a.createElement(F.Bar,{data:this.state.data,width:100,height:50,options:{maintainAspectRatio:!1}})))))))}}]),a}(n.Component),M=a(3),z=a(38),H=a.n(z),U=(a(50),a(57),a(7)),V=a.n(U),q=a(15),W=a(21),G=function(){var e=localStorage.getItem("token");if(e){var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(t))}},Y=function(){return localStorage.getItem("token")},Q=function(){var e=Object(q.a)(V.a.mark((function e(t,a,l){var n,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"get"===(a=a.toUpperCase()).toLowerCase()&&l&&(n=Object.keys(l).map((function(e){return e+"="+l[e]})).join("&"),t+="?"+n,l=void 0),x,e.next=6,fetch("http://localhost:9000/"+t,{method:a.toUpperCase(),body:JSON.stringify(l),headers:{token:Y(),"Content-Type":"application/json; charset=utf-8"}});case 6:return s=e.sent,e.next=9,s.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(0),console.group("API ".concat(a," Error")),console.error(e.t0),console.groupEnd(),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a,l){return e.apply(this,arguments)}}(),J=function(e){switch(e){case"submitted":return"Submitted";case"archived":return"Archived";default:return"On Hold"}},K=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(d.a)(this,a);for(var l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label"},this.props.label),s.a.createElement("input",{className:"form-control form-control-alternative ".concat(this.props.showError?"is-invalid":""),type:this.props.type,placeholder:this.props.placeholder,name:this.props.name,value:this.props.value,onChange:this.props.onChange}),this.props.showError&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},this.props.error)))}}]),a}(n.Component),X=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleChange=function(e){var t=Object(M.a)({},e);l.setState(Object(m.a)({},t.target.name,t.target.value))},l.handleCloseDialog=function(e){var t=!0,a=void 0;e&&(l.state.date||(t=!1,l.props.showToast("Please select date","error")),l.state.rate||(t=!1,l.props.showToast("Please add cost rate","error")),t&&(a={date:l.state.date,rate:l.state.rate})),t&&l.props.handleCloseDialog(a)},l.state={date:new Date,rate:""},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"bill_rate_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Bill Rate")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-12"},s.a.createElement(K,{label:"Date",type:"date",placeholder:"Date",name:"date",value:this.state.date,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-12"},s.a.createElement(K,{label:"Bill Rate/Hr",type:"number",placeholder:"Bill Rate/Hr",name:"rate",value:this.state.rate,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.handleCloseDialog(!1)}},"Cancel"),s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"button",onClick:function(){return e.handleCloseDialog(!0)}},"Create"))))))))))))}}]),a}(n.Component),Z=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleChange=function(e){var t=Object(M.a)({},e);l.setState(Object(m.a)({},t.target.name,t.target.value))},l.handleCloseDialog=function(e){var t=!0,a=void 0;e&&(l.state.date||(t=!1,l.props.showToast("Please select date","error")),l.state.rate||(t=!1,l.props.showToast("Please add cost rate","error")),t&&(a={date:l.state.date,rate:l.state.rate})),t&&l.props.handleCloseDialog(a)},l.state={date:new Date,rate:""},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"cost_rate_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Cost Rate")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-12"},s.a.createElement(K,{label:"Date",type:"date",placeholder:"Date",name:"date",value:this.state.date,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-12"},s.a.createElement(K,{label:"Cost Rate/Hr",type:"number",placeholder:"Cost Rate/Hr",name:"rate",value:this.state.rate,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.handleCloseDialog(!1)}},"Cancel"),s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"button",onClick:function(){return e.handleCloseDialog(!0)}},"Create"))))))))))))}}]),a}(n.Component),$=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).getCostRates=function(){},l.getBillRates=function(){},l.handleOpenCostRateDialog=function(e,t){e||window.$("#cost_rate_dialog").modal("hide");var a=Object(W.a)(l.state.costRates);void 0!==t&&a.splice(t,1),l.setState({costRateDialog:{isOpen:e,data:void 0!==t?Object(M.a)({},l.state.costRates[t]):void 0,editIndex:t,costRates:a}},(function(){e&&window.$("#cost_rate_dialog").modal("show")}))},l.handleCloseCostRateDialog=function(e){console.log("cost rate data ",e),window.$("#cost_rate_dialog").modal("hide"),l.setState({costRateDialog:{isOpen:!1,data:void 0,editIndex:-1}},(function(){e&&l.getCostRates(0)}))},l.handleDeleteCostRate=function(e){l.props.confirmDialog.show("Are you sure","Do you want to delete",Object(q.a)(V.a.mark((function t(){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.setState({isLoading:!0}),t.next=3,Q("cost-rates/".concat(l.state.costRates[e]._id),"DELETE");case 3:t.sent.success?(l.showToast("Cost rate deleted successfully","success"),(a=Object(W.a)(l.state.costRates)).splice(e,1),l.setState({costRates:a,isLoading:!1})):(l.setState({isLoading:!1}),l.showToast("Error while getting deleting cost rate","error"));case 5:case"end":return t.stop()}}),t)}))))},l.handleOpenBillRateDialog=function(e,t){e||window.$("#bill_rate_dialog").modal("hide");var a=Object(W.a)(l.state.billRates);void 0!==t&&a.splice(t,1),l.setState({billRateDialog:{isOpen:e,data:void 0!==t?Object(M.a)({},l.state.billRates[t]):void 0,editIndex:t,billRates:a}},(function(){e&&window.$("#bill_rate_dialog").modal("show")}))},l.handleCloseBillRateDialog=function(e){console.log("bill rate data ",e),window.$("#bill_rate_dialog").modal("hide"),l.setState({billRateDialog:{isOpen:!1,data:void 0,editIndex:-1}},(function(){e&&l.getBillRates(0)}))},l.handleDeleteBillRate=function(e){l.props.confirmDialog.show("Are you sure","Do you want to delete",Object(q.a)(V.a.mark((function t(){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.setState({isLoading:!0}),t.next=3,Q("bill-rates/".concat(l.state.billRates[e]._id),"DELETE");case 3:t.sent.success?(l.showToast("bill deleted successfully","success"),(a=Object(W.a)(l.state.billRates)).splice(e,1),l.setState({billRates:a,isLoading:!1})):(l.setState({isLoading:!1}),l.showToast("Error while getting deleting bill rate","error"));case 5:case"end":return t.stop()}}),t)}))))},l.state={costRates:[{date:"01/12/2020",rate:12}],billRates:[{date:"02/1/2020",rate:10}],costRateDialog:{isOpen:!1,data:void 0,editIndex:-1},billRateDialog:{isOpen:!1,data:void 0,editIndex:-1}},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getCostRates(),this.getBillRates()}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h5",null,"Cost Rate/Hr"),s.a.createElement("button",{onClick:function(){return e.handleOpenCostRateDialog(!0)},className:"btn btn-sm btn-primary"},"Add")),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Begin Date"),s.a.createElement("th",{scope:"col"},"Rate/hr"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.costRates.map((function(t,a){return s.a.createElement("tr",{key:"costRate".concat(a)},s.a.createElement("td",null,t.date),s.a.createElement("td",null,t.rate),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenCostRateDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDeleteCostRate(a)},className:"btn btn-sm btn-danger"},"Delete")))})))))),s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h5",null,"Bill Rate/Hr"),s.a.createElement("button",{onClick:function(){return e.handleOpenBillRateDialog(!0)},className:"btn btn-sm btn-primary"},"Add")),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Begin Date"),s.a.createElement("th",{scope:"col"},"Rate/hr"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.billRates.map((function(t,a){return s.a.createElement("tr",{key:"billRate".concat(a)},s.a.createElement("td",null,t.date),s.a.createElement("td",null,t.rate),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenBillRateDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDeleteBillRate(a)},className:"btn btn-sm btn-danger"},"Delete")))}))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")))),this.state.billRateDialog.isOpen&&s.a.createElement(X,{showToast:this.props.showToast,handleCloseDialog:this.handleCloseBillRateDialog}),this.state.costRateDialog.isOpen&&s.a.createElement(Z,{showToast:this.props.showToast,handleCloseDialog:this.handleCloseCostRateDialog}))}}]),a}(n.Component),ee=(a(156),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleChange=function(e){var t=Object(M.a)({},e);l.setState((function(e){return{searchObj:Object(M.a)(Object(M.a)({},e.searchObj),{},Object(m.a)({},t.target.name,t.target.value))}}))},l.state={employeesTimeSheets:[{date:"12-02-2020",project:"test",task:"task",hours:"8",description:"description",billable:"Yes",status:"Hold"}],searchObj:{status:""}},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex flex-wrap align-items-center employee-time-sheet-filter"},s.a.createElement("label",null,"Current Period"),s.a.createElement("label",null,"Last Period"),s.a.createElement("label",null,"This Year"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"status"},"Status"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"status",value:this.state.searchObj.status,onChange:this.handleChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"on-hold"},"On Hold"),s.a.createElement("option",{value:"rejected"},"Rejected"),s.a.createElement("option",{value:"with-approver"},"With Approver"),s.a.createElement("option",{value:"approved"},"Approved"),s.a.createElement("option",{value:"submitted"},"Submitted"),s.a.createElement("option",{value:"downloaded"},"Downloaded"))),s.a.createElement("div",null,s.a.createElement(K,{label:"Start Date",type:"date",placeholder:"Start Date",name:"startDate",value:this.state.startDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement(K,{label:"End Date",type:"date",placeholder:"End Date",name:"endDate",value:this.state.endDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary"},"Search"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Date"),s.a.createElement("th",{scope:"col"},"Customer:Project"),s.a.createElement("th",{scope:"col"},"Task"),s.a.createElement("th",{scope:"col"},"Hours"),s.a.createElement("th",{scope:"col"},"Description"),s.a.createElement("th",{scope:"col"},"Billable"),s.a.createElement("th",{scope:"col"},"Status"))),s.a.createElement("tbody",null,this.state.employeesTimeSheets.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.date),s.a.createElement("td",null,e.project),s.a.createElement("td",null,e.task),s.a.createElement("td",null,e.hours),s.a.createElement("td",null,e.description),s.a.createElement("td",null,e.billable),s.a.createElement("td",null,s.a.createElement("span",null," ",e.status)))}))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")))}}]),a}(n.Component)),te=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleChange=function(e){var t=Object(M.a)({},e);l.setState((function(e){return{searchObj:Object(M.a)(Object(M.a)({},e.searchObj),{},Object(m.a)({},t.target.name,t.target.value))}}))},l.state={employeeExpenses:[{date:"12-02-2020",project:"test",task:"task",hours:"8",description:"description",billable:"Yes",status:"Hold"}],searchObj:{status:""}},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex flex-wrap align-items-center employee-time-sheet-filter"},s.a.createElement("label",null,"Current Period"),s.a.createElement("label",null,"Last Period"),s.a.createElement("label",null,"This Year"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"sub_class"},"Sub Class"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"status",value:this.state.searchObj.status,onChange:this.handleChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"on-hold"},"On Hold"),s.a.createElement("option",{value:"rejected"},"Rejected"),s.a.createElement("option",{value:"with-approver"},"With Approver"),s.a.createElement("option",{value:"approved"},"Approved"),s.a.createElement("option",{value:"submitted"},"Submitted"),s.a.createElement("option",{value:"downloaded"},"Downloaded"))),s.a.createElement("div",null,s.a.createElement(K,{label:"Start Date",type:"date",placeholder:"Start Date",name:"startDate",value:this.state.startDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement(K,{label:"End Date",type:"date",placeholder:"End Date",name:"endDate",value:this.state.endDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary"},"Search"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Date"),s.a.createElement("th",{scope:"col"},"Customer:Project"),s.a.createElement("th",{scope:"col"},"Task"),s.a.createElement("th",{scope:"col"},"Hours"),s.a.createElement("th",{scope:"col"},"Description"),s.a.createElement("th",{scope:"col"},"Billable"),s.a.createElement("th",{scope:"col"},"Status"))),s.a.createElement("tbody",null,this.state.employeeExpenses.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.date),s.a.createElement("td",null,e.project),s.a.createElement("td",null,e.task),s.a.createElement("td",null,e.hours),s.a.createElement("td",null,e.description),s.a.createElement("td",null,e.billable),s.a.createElement("td",null,s.a.createElement("span",null," ",e.status)))}))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")))}}]),a}(n.Component),ae=a(31),le=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).state={address:{home:{address:"",city:"",state:"",country:""},office:{address:"",city:"",state:"",country:""}}},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ae.a,{initialValues:this.state.address,validate:function(e){return{}},onSubmit:function(){var e=Object(q.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},(function(t){var a=t.values,l=t.errors,n=t.touched,r=(t.handleChange,t.handleSubmit),o=t.setFieldValue;t.resetForm;return s.a.createElement("form",{onSubmit:r},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Home Address",type:"text",placeholder:"Home Address",name:"home.address",value:a.home.address,onChange:function(e){o("Name",e.target.value)},showError:!!(l.home&&l.home.address&&n.home&&n.home.address),error:!(!l.home||!l.home.address)})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"City",type:"text",placeholder:"City",name:"home.city",value:a.home.city,onChange:function(e){o("Name",e.target.value)},showError:!!(l.home&&l.home.city&&n.home&&n.home.city),error:!(!l.home||!l.home.city)})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"State",type:"text",placeholder:"State",name:"home.state",value:a.home.state,onChange:function(e){o("Name",e.target.value)},showError:!!(l.home&&l.home.state&&n.home&&n.home.state),error:!(!l.home||!l.home.state)})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Country",type:"text",placeholder:"Country",name:"home.country",value:a.home.country,onChange:function(e){o("Name",e.target.value)},showError:!!(l.home&&l.home.country&&n.home&&n.home.country),error:!(!l.home||!l.home.country)})))),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Office Address",type:"text",placeholder:"Office Address",name:"office.address",value:a.office.address,onChange:function(e){o("Name",e.target.value)},showError:!!(l.office&&l.office.address&&n.office&&n.office.address),error:!(!l.office||!l.office.address)})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"City",type:"text",placeholder:"City",name:"office.city",value:a.office.city,onChange:function(e){o("Name",e.target.value)},showError:!!(l.office&&l.office.city&&n.office&&n.office.city),error:!(!l.office||!l.office.city)})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"State",type:"text",placeholder:"State",name:"office.state",value:a.office.state,onChange:function(e){o("Name",e.target.value)},showError:!!(l.office&&l.office.state&&n.office&&n.office.state),error:!(!l.office||!l.office.state)})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Country",type:"text",placeholder:"Country",name:"office.country",value:a.office.country,onChange:function(e){o("Name",e.target.value)},showError:!!(l.office&&l.office.country&&n.office&&n.office.country),error:!(!l.office||!l.office.country)})))),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(){return e.props.handleCloseDialog()}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))))})))}}]),a}(n.Component),ne=a(63),se=a(24),re=a.n(se),oe=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).state={projectData:[],tasks:{},beginDates:{}},l}return Object(u.a)(a,[{key:"showContent",value:function(e){document.getElementById(e.target.getAttribute("name")).classList.toggle("removeContent"),e.target.classList.toggle("active")}},{key:"componentDidMount",value:function(){var e=this,t={token:localStorage.getItem("token"),empId:this.props.employeeId};Promise.all([N.a.post("http://localhost:9000/client/retriveClientForEmployee",t),N.a.post("http://localhost:9000/task/list",t)]).then((function(t){var a=Object(ne.a)(t,2),l=a[0],n=a[1];if(l.data.success){var s=l.data.data,r={},o=[];s&&s.length&&(s.forEach((function(t){var a=t.employees&&t.employees.length?t.employees.filter((function(t){return t.employeeId==e.props.employeeId})):[];if(a.length){var l=[];n.data.success&&a[0].tasks&&a[0].tasks.length&&(l=n.data.data.filter((function(e){return-1!=a[0].tasks.indexOf(e.Id)})));var s=a[0].beginDate;r[t.Id]=l,o.push(Object(m.a)({},t.Id,s))}})),e.setState({projectData:l.data.data,tasks:r,beginDates:o}))}else e.props.showToast(l.data.message,"error")}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.loading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):"",s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null),s.a.createElement("th",{scope:"col"},"Name"),s.a.createElement("th",{scope:"col"},"Begin Date"),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,this.state.projectData&&this.state.projectData.length?this.state.projectData.map((function(t,a){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{className:"thead-light",key:a},s.a.createElement("td",null,s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("span",{name:"client_"+t.Id,onClick:function(t){return e.showContent(t)},className:"accordion"})))," ",s.a.createElement("td",null,s.a.createElement("p",null,t.DisplayName)),s.a.createElement("td",null,s.a.createElement("p",null,re()(e.state.beginDates[t.Id]).format("Do MMM dddd YYYY"))),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-info",name:"client_"+t.Id},"edit"))),s.a.createElement("tr",{className:"removeContent",id:"client_"+t.Id},s.a.createElement("td",null),s.a.createElement("td",null,s.a.createElement("h3",null,"Tasks Assigned"),e.state.tasks&&e.state.tasks[t.Id]?e.state.tasks[t.Id].map((function(e,t){return s.a.createElement("p",null,e.FullyQualifiedName)})):s.a.createElement("p",null,"No Active tasks!"))))})):""))),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")))}}]),a}(s.a.Component),ce=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.handleChange=function(e){l.setState(Object(m.a)({},e.target.name,e.target.value))},l.handleApproverChange=function(e,t){var a={token:localStorage.getItem("access-token"),approverId:e.target.value,employeeId:t};N.a.post("http://localhost:9000/employee/setApprover",a).then((function(e){e.data.success&&I.ToastsStore.success("Approver changed successfully","success")})),l.setState(Object(m.a)({},e.target.name,e.target.value))},l.handleHireDateChange=function(e){l.setState({HiredDate:e})},l.handleEndDateChange=function(e){l.setState({ReleasedDate:e})},l.handleTypeChange=function(e){l.setState(Object(m.a)({},e.target.name,e.target.value))},l.handleEditEmployee=function(e){var t=Object(M.a)({},l.state.employees[e]),a=l.state.employees;l.setState({FirstName:t.FirstName||"",FamilyName:t.FamilyName||"",Title:t.Title,PrimaryPhone:t.PrimaryPhone.FreeFormNumber,CountrySubDivisionCode:t.PrimaryAddr.CountrySubDivisionCode,City:t.PrimaryAddr.City,PostalCode:t.PrimaryAddr.PostalCode,Line1:t.PrimaryAddr.Line1,email:t.email,HiredDate:t.HiredDate?new Date(t.HiredDate):"",ReleasedDate:t.ReleasedDate?new Date(t.ReleasedDate):"",selectedEmployeeId:t._id,possibleApprovers:a,approverId:t.employeeExtended&&t.employeeExtended.approverId?t.employeeExtended.approverId:"",DisplayName:t.DisplayName},(function(){window.$("#call-modal-form").modal("show")}))},l.handleOpenEmployeeDialog=function(){l.setState({FirstName:"",FamilyName:"",Title:"",PrimaryPhone:"",CountrySubDivisionCode:"",City:"",PostalCode:"",Line1:"",email:"",HiredDate:new Date,ReleasedDate:new Date,selectedEmployeeId:void 0},(function(){window.$("#call-modal-form").modal("show")}))},l.handleSubmit=function(e){e.preventDefault();var t=Object(p.a)(l);t.setState({loading:!0});var a={token:localStorage.getItem("access-token"),FirstName:t.state.FirstName,FamilyName:t.state.FamilyName,Title:t.state.Title,PrimaryPhone:t.state.PrimaryPhone,CountrySubDivisionCode:t.state.CountrySubDivisionCode,City:t.state.City,PostalCode:t.state.PostalCode,Line1:t.state.Line1,email:t.state.email,HiredDate:t.state.HiredDate,ReleasedDate:t.state.ReleasedDate};window.$("#call-modal-form").modal("hide"),N.a.post("http://localhost:9000/employee/register",a).then((function(e){e.data.success?window.location.reload():t.setState({FirstName:"",FamilyName:"",Title:"",PrimaryPhone:"",CountrySubDivisionCode:"",City:"",PostalCode:"",Line1:"",email:"",HiredDate:new Date,ReleasedDate:new Date,employees:t.state.employees.concat([e.data.data]),selectedEmployeeId:void 0})})).catch((function(e){t.setState({loading:!1})}))},l.setActiveIndex=function(e){l.setState({selectedTabIndex:e})},l.handleCloseDialog=function(){window.$("#call-modal-form").modal("hide")},l.state={FirstName:"",FamilyName:"",Title:"Mr",PrimaryPhone:"",CountrySubDivisionCode:"",City:"",PostalCode:"",Line1:"",email:"",HiredDate:new Date,ReleasedDate:new Date,employees:[],selectedEmployeeId:void 0,selectedTabIndex:0,employeeExtended:""},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={token:localStorage.getItem("token")};N.a.post("http://localhost:9000/employee/list",t).then((function(t){t.data.success&&(console.log(t.data.data),e.setState({employees:t.data.data}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-icon btn-3 btn-primary text-right",type:"button"},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(g.a,{path:b.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{onClick:function(){return e.handleOpenEmployeeDialog()},className:"btn-inner--text"},"Add Employee")),s.a.createElement("div",{className:"modal fade",id:"call-modal-form",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg full-page-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-12"},s.a.createElement("h3",{className:"mb-0 text-center"},this.state.selectedEmployeeId?"Edit Employee":"Add Employee")))),s.a.createElement("div",{className:"card-body text-left employee-dialog-body"},this.state.selectedEmployeeId&&s.a.createElement("ul",{className:"nav nav-pills"},s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(0)}},s.a.createElement("a",{className:"nav-link ".concat(0===this.state.selectedTabIndex?"active":""),href:"#"},"General")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(1)}},s.a.createElement("a",{className:"nav-link ".concat(1===this.state.selectedTabIndex?"active":""),href:"#"},"Projects")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(2)}},s.a.createElement("a",{className:"nav-link ".concat(2===this.state.selectedTabIndex?"active":""),href:"#"},"Accounting")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(3)}},s.a.createElement("a",{className:"nav-link ".concat(3===this.state.selectedTabIndex?"active":""),href:"#"},"Expenses")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(4)}},s.a.createElement("a",{className:"nav-link ".concat(4===this.state.selectedTabIndex?"active":""),href:"#"},"Time Sheets")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(5)}},s.a.createElement("a",{className:"nav-link ".concat(5===this.state.selectedTabIndex?"active":""),href:"#"},"Address"))),s.a.createElement("br",null),1===this.state.selectedTabIndex&&s.a.createElement(oe,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),2===this.state.selectedTabIndex&&s.a.createElement($,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),3===this.state.selectedTabIndex&&s.a.createElement(te,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),4===this.state.selectedTabIndex&&s.a.createElement(ee,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),5===this.state.selectedTabIndex&&s.a.createElement(le,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),0===this.state.selectedTabIndex&&s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-2"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-title"},"Title"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",type:"text",id:"input-title",placeholder:"Title",name:"Title",value:this.state.Title,onChange:this.handleTypeChange},s.a.createElement("option",{value:"Mr"},"Mr"),s.a.createElement("option",{value:"Mrs"},"Mrs"),s.a.createElement("option",{value:"Miss"},"Miss")))),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-first-name"},"First Name"),s.a.createElement("input",{type:"text",id:"input-first-name",className:"form-control form-control-alternative",placeholder:"First Name",name:"FirstName",value:this.state.FirstName,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-last-name"},"Last Name"),s.a.createElement("input",{type:"text",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Last Name",name:"FamilyName",value:this.state.FamilyName,onChange:this.handleChange,required:!0})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-email"},"Email"),s.a.createElement("input",{type:"email",id:"input-email",className:"form-control form-control-alternative",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-mobile"},"Mobile"),s.a.createElement("input",{type:"number",id:"input-mobile",className:"form-control form-control-alternative",placeholder:"Mobile",name:"PrimaryPhone",value:this.state.PrimaryPhone,onChange:this.handleChange,required:!0}))))),s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Contact information"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-address"},"Address"),s.a.createElement("input",{id:"input-address",className:"form-control form-control-alternative",placeholder:"Home Address",name:"Line1",value:this.state.Line1,onChange:this.handleChange,type:"text"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-City"},"City"),s.a.createElement("input",{type:"text",id:"input-City",className:"form-control form-control-alternative",placeholder:"City",name:"City",value:this.state.City,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Country"),s.a.createElement("input",{type:"text",id:"input-country",className:"form-control form-control-alternative",placeholder:"Country",name:"CountrySubDivisionCode",value:this.state.CountrySubDivisionCode,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Postal code"),s.a.createElement("input",{type:"number",id:"input-postal-code",className:"form-control form-control-alternative",placeholder:"Postal code",name:"PostalCode",value:this.state.PostalCode,onChange:this.handleChange})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Hire Date"),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(g.a,{path:b.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(H.a,{className:"form-control datepicker",selected:this.state.HiredDate,onChange:this.handleHireDateChange})))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"End Date"),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(g.a,{path:b.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(H.a,{className:"form-control datepicker",selected:this.state.ReleasedDate,onChange:this.handleEndDateChange})))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"approver"},"Choose the approver for timesheets and expenses"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"approverId",id:"approver",value:this.state.approverId,onChange:function(t){return e.handleApproverChange(t,e.state.selectedEmployeeId)}},s.a.createElement("option",{value:""}),this.state.possibleApprovers?this.state.possibleApprovers.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e._id,key:"approver".concat(t)},e.DisplayName))})):"")))),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:this.handleCloseDialog},"Cancel"),s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"submit"},"Save")))))))))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Name"),s.a.createElement("th",{scope:"col"},"Email"),s.a.createElement("th",{scope:"col"},"Phone"),s.a.createElement("th",{scope:"col"},"Active"),s.a.createElement("th",{scope:"col"}))),s.a.createElement("tbody",null,this.state.employees.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",{className:"badge badge-dot mr-4"},t.DisplayName)),s.a.createElement("td",null,s.a.createElement("span",{className:"badge badge-dot mr-4"},t.email)),s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null,t.PrimaryPhone?t.PrimaryPhone.FreeFormNumber:"N/A"))),s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null," ",t.Active?"Yes":"No"))),s.a.createElement("td",{className:"text-right"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("a",{className:"btn btn-sm btn-icon-only text-light",href:"/",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement(g.a,{path:b.i,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#000000"})),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-right dropdown-menu-arrow"},s.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.handleEditEmployee(a)}},"Edit")))))}))))))}}]),a}(n.Component),ie=(a(170),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleChange=function(e){var t=Object(M.a)({},e);l.setState((function(e){return{searchObj:Object(M.a)(Object(M.a)({},e.searchObj),{},Object(m.a)({},t.target.name,t.target.value))}}))},l.state={employeesTimeSheets:[{date:"12-02-2020",project:"test",task:"task",hours:"8",description:"description",billable:"Yes",status:"Hold"}],searchObj:{status:""}},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex flex-wrap align-items-center employee-time-sheet-filter"},s.a.createElement("label",null,"Current Period"),s.a.createElement("label",null,"Last Period"),s.a.createElement("label",null,"This Year"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"status"},"Status"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"status",value:this.state.searchObj.status,onChange:this.handleChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"on-hold"},"On Hold"),s.a.createElement("option",{value:"rejected"},"Rejected"),s.a.createElement("option",{value:"with-approver"},"With Approver"),s.a.createElement("option",{value:"approved"},"Approved"),s.a.createElement("option",{value:"submitted"},"Submitted"),s.a.createElement("option",{value:"downloaded"},"Downloaded"))),s.a.createElement("div",null,s.a.createElement(K,{label:"Start Date",type:"date",placeholder:"Start Date",name:"startDate",value:this.state.startDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement(K,{label:"End Date",type:"date",placeholder:"End Date",name:"endDate",value:this.state.endDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary"},"Search"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Date"),s.a.createElement("th",{scope:"col"},"Customer:Project"),s.a.createElement("th",{scope:"col"},"Task"),s.a.createElement("th",{scope:"col"},"Hours"),s.a.createElement("th",{scope:"col"},"Description"),s.a.createElement("th",{scope:"col"},"Billable"),s.a.createElement("th",{scope:"col"},"Status"))),s.a.createElement("tbody",null,this.state.employeesTimeSheets.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.date),s.a.createElement("td",null,e.project),s.a.createElement("td",null,e.task),s.a.createElement("td",null,e.hours),s.a.createElement("td",null,e.description),s.a.createElement("td",null,e.billable),s.a.createElement("td",null,s.a.createElement("span",null," ",e.status)))}))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")))}}]),a}(n.Component)),me=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleChange=function(e){var t=Object(M.a)({},e);l.setState((function(e){return{searchObj:Object(M.a)(Object(M.a)({},e.searchObj),{},Object(m.a)({},t.target.name,t.target.value))}}))},l.state={employeeExpenses:[{date:"12-02-2020",project:"test",task:"task",hours:"8",description:"description",billable:"Yes",status:"Hold"}],searchObj:{status:""}},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex flex-wrap align-items-center employee-time-sheet-filter"},s.a.createElement("label",null,"Current Period"),s.a.createElement("label",null,"Last Period"),s.a.createElement("label",null,"This Year"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"sub_class"},"Sub Class"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"status",value:this.state.searchObj.status,onChange:this.handleChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"on-hold"},"On Hold"),s.a.createElement("option",{value:"rejected"},"Rejected"),s.a.createElement("option",{value:"with-approver"},"With Approver"),s.a.createElement("option",{value:"approved"},"Approved"),s.a.createElement("option",{value:"submitted"},"Submitted"),s.a.createElement("option",{value:"downloaded"},"Downloaded"))),s.a.createElement("div",null,s.a.createElement(K,{label:"Start Date",type:"date",placeholder:"Start Date",name:"startDate",value:this.state.startDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement(K,{label:"End Date",type:"date",placeholder:"End Date",name:"endDate",value:this.state.endDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary"},"Search"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Date"),s.a.createElement("th",{scope:"col"},"Customer:Project"),s.a.createElement("th",{scope:"col"},"Task"),s.a.createElement("th",{scope:"col"},"Hours"),s.a.createElement("th",{scope:"col"},"Description"),s.a.createElement("th",{scope:"col"},"Billable"),s.a.createElement("th",{scope:"col"},"Status"))),s.a.createElement("tbody",null,this.state.employeeExpenses.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.date),s.a.createElement("td",null,e.project),s.a.createElement("td",null,e.task),s.a.createElement("td",null,e.hours),s.a.createElement("td",null,e.description),s.a.createElement("td",null,e.billable),s.a.createElement("td",null,s.a.createElement("span",null," ",e.status)))}))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")))}}]),a}(n.Component),de=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleChange=function(e){var t=Object(M.a)({},e);l.setState(Object(m.a)({},t.target.name,t.target.value))},l.handleCloseDialog=function(e){var t=!0,a=void 0;e&&(l.state.date||(t=!1,l.props.showToast("Please select date","error")),l.state.rate||(t=!1,l.props.showToast("Please add cost rate","error")),t&&(a={beginDate:l.state.date,rate:l.state.rate})),t&&l.props.handleCloseDialog(a)},l.state={date:new Date,rate:""},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"cost_rate_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Cost Rate")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-12"},s.a.createElement(K,{label:"Date",type:"date",placeholder:"Date",name:"date",value:this.state.date,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-12"},s.a.createElement(K,{label:"Cost Rate/Hr",type:"number",placeholder:"Cost Rate/Hr",name:"rate",value:this.state.rate,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.handleCloseDialog(!1)}},"Cancel"),s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"button",onClick:function(){return e.handleCloseDialog(!0)}},"Create"))))))))))))}}]),a}(n.Component),ue=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleOpenCostRateDialog=function(e,t){e||window.$("#cost_rate_dialog").modal("hide");var a=Object(W.a)(l.state.hourlyRates);void 0!==t&&a.splice(t,1),l.setState({costRateDialog:{isOpen:e,data:void 0!==t?Object(M.a)({},l.state.hourlyRates[t]):void 0,editIndex:t,costRates:a}},(function(){e&&window.$("#cost_rate_dialog").modal("show")}))},l.handleCloseCostRateDialog=function(e){console.log("cost rate data ",e),window.$("#cost_rate_dialog").modal("hide");var t=l.state.hourlyRates;t.push(e),l.setState({costRateDialog:{isOpen:!1,data:void 0,editIndex:-1},hourlyRates:t})},l.handleDeleteCostRate=function(e){var t=l.state.hourlyRates;t.splice(e,1),l.setState({hourlyRates:t})},l.handleOpenBillRateDialog=function(e,t){e||window.$("#bill_rate_dialog").modal("hide");var a=Object(W.a)(l.state.billRates);void 0!==t&&a.splice(t,1),l.setState({billRateDialog:{isOpen:e,data:void 0!==t?Object(M.a)({},l.state.billRates[t]):void 0,editIndex:t,billRates:a}},(function(){e&&window.$("#bill_rate_dialog").modal("show")}))},l.handleDropdown=function(e,t){l.setState(Object(m.a)({},t,e.target.value))},l.handleCheckbox=function(e,t){l.setState(Object(m.a)({},t,e.target.checked))},l.handleChange=function(e){l.setState(Object(m.a)({},e.target.name,e.target.value))},l.handleSave=function(e){var t;"employee"==e&&l.state.linkedEmployee&&l.state.hourlyRates&&l.state.hourlyRates.length||"supplier"==e&&l.state.hourlyRateSupplier&&(!l.state.GSTApplicable||l.state.GSTApplicable&&l.state.taxTypeApplicable)&&(!l.state.superAnnuationRequired||l.state.superAnnuationRequired&&l.state.superAnuationPercentage&&l.state.superBaseAccount&&l.state.superPayableAccount)?(t="employee"==e?{linkEmployeeId:l.state.linkedEmployee,linkUserId:l.props.employeeId,token:localStorage.getItem("token"),hourlyRate:l.state.hourlyRates,quickBookSync:l.state.quickBookSyncEmployee,type:"Employee"}:{linkSupplierId:l.state.linkedSupplier,linkUserId:l.props.employeeId,token:localStorage.getItem("token"),hourlyRate:l.state.hourlyRateSupplier,quickBookSync:l.state.quickBookSyncSupplier,taxRequired:l.state.GSTApplicable,taxType:l.state.taxTypeApplicable,superRequired:l.state.superAnnuationRequired,superPercentage:l.state.superAnuationPercentage,superBase:l.state.superBaseAccount,superPayable:l.state.superPayableAccount,supplierBillVoid:l.state.voidSupplierBill,type:"Supplier"},N.a.post("http://localhost:9000/user/linkEmployee",t).then((function(e){e.data.success?l.props.showToast(e.data.message,"success"):l.props.showToast(e.data.message,"error")})).catch((function(e){l.props.showToast(e.message,"error")}))):l.props.showToast("Fill all the required details","error")},l.handleQuickbook=function(e){l.setState({quickBookSyncEmployee:e.target.checked})},l.state={hourlyRates:[],costRateDialog:{isOpen:!1,data:void 0,editIndex:-1},billRateDialog:{isOpen:!1,data:void 0,editIndex:-1},employeeList:[],suppliersList:[],accountList:[],taxList:[{value:"TaxExcluded",key:"Tax Excluded"},{value:"TaxInclusive",key:"Tax Inclusive"},{value:"NotApplicable",key:"Not Applicable"}],approver:"",linkedEmployee:"",linkedSupplier:"",quickBookSyncEmployee:!1,superBaseAccount:"",superPayableAccount:"",GSTApplicable:!1,quickBookSyncSupplier:!1,hourlyRateSupplier:0,superAnnuationRequired:!1,superAnuationPercentage:0,voidSupplierBill:!1,taxTypeApplicable:""},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this,a={token:localStorage.getItem("token")},l=this.props.userList?this.props.userList.filter((function(t){return t._id==e.props.employeeId})):[];(l=l&&l.length?l[0]:{}).linkedEmployee&&this.setState({linkedEmployee:l.linkedEmployee}),l.linkedEmployeeSettings&&l.linkedEmployeeSettings.importTimesheetsToQB&&this.setState({quickBookSyncEmployee:l.linkedEmployeeSettings.importTimesheetsToQB}),l.hourlyRate&&this.setState({hourlyRates:l.hourlyRate}),l.linkedSupplier&&this.setState({linkedSupplier:l.linkedSupplier}),l.linkedSupplierSettings&&(l.linkedSupplierSettings.superPayableAccount&&this.setState({superPayableAccount:l.linkedSupplierSettings.superPayableAccount}),l.linkedSupplierSettings.hourlyRate&&this.setState({hourlyRateSupplier:l.linkedSupplierSettings.hourlyRate}),l.linkedSupplierSettings.superBaseAccount&&this.setState({superBaseAccount:l.linkedSupplierSettings.superBaseAccount}),l.linkedSupplierSettings.superPercentage&&this.setState({superAnuationPercentage:l.linkedSupplierSettings.superPercentage}),l.linkedSupplierSettings.superRequired&&this.setState({superAnnuationRequired:l.linkedSupplierSettings.superRequired}),l.linkedSupplierSettings.quickBookSyncRequired&&this.setState({quickBookSyncSupplier:l.linkedSupplierSettings.quickBookSyncRequired}),l.linkedSupplierSettings.voidSupplierBill&&this.setState({voidSupplierBill:l.linkedSupplierSettings.voidSupplierBill}),l.linkedSupplierSettings.gstApplicable&&this.setState({GSTApplicable:l.linkedSupplierSettings.gstApplicable}),l.linkedSupplierSettings.taxType&&this.setState({taxTypeApplicable:l.linkedSupplierSettings.taxType}));Promise.all([N.a.post("http://localhost:9000/employee/getAllEmployees",a),N.a.post("http://localhost:9000/vendor/list",a),N.a.post("http://localhost:9000/account/list",a)]).then((function(e){var a=Object(ne.a)(e,3),l=a[0],n=a[1],s=a[2];t.setState({employeeList:l.data.data,suppliersList:n.data.data,accountList:s.data.data})})).catch((function(t){console.log(t),e.props.showToast(t.message,"error")}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"container-fluid"},s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Link Employee"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"linkedEmployee"},"Select Employee to link"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"linkedEmployee",id:"linkedEmployee",value:this.state.linkedEmployee,onChange:function(t){return e.handleDropdown(t,"linkedEmployee")}},s.a.createElement("option",{value:""}),this.state.employeeList?this.state.employeeList.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.id,key:"emp".concat(t)},e.displayName))})):""))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{className:"custom-control-input",id:"employee_timeSheets",type:"checkbox",name:"employee_timeSheets",checked:this.state.quickBookSyncEmployee,onChange:function(t){return e.handleCheckbox(t,"quickBookSyncEmployee")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"employee_timeSheets"},"Import timesheets of employee to Quickbook")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h5",null,"Cost Rate/Hr"),s.a.createElement("button",{onClick:function(){return e.handleOpenCostRateDialog(!0)},className:"btn btn-sm btn-primary"},"Add")),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Begin Date"),s.a.createElement("th",{scope:"col"},"Rate/hr"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.hourlyRates.map((function(t,a){return s.a.createElement("tr",{key:"costRate".concat(a)},s.a.createElement("td",null,re()(t.beginDate).format("Do MMM YYYY")),s.a.createElement("td",null,t.rate),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenCostRateDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDeleteCostRate(a)},className:"btn btn-sm btn-danger"},"Delete")))}))))))),s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"button",onClick:function(){return e.handleSave("employee")}},"Save"))),s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Link Supplier"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"supplier"},"Select Supplier to link"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"supplier",id:"supplier",value:this.state.linkedSupplier,onChange:function(t){return e.handleDropdown(t,"linkedSupplier")}},s.a.createElement("option",{value:""}),this.state.suppliersList?this.state.suppliersList.map((function(e,t){return e.Active?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.Id,key:"emp".concat(t)},e.DisplayName)):""})):"")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{className:"custom-control-input",id:"supplier_qblink",type:"checkbox",name:"supplier_qblink",checked:this.state.quickBookSyncSupplier,onChange:function(t){return e.handleCheckbox(t,"quickBookSyncSupplier")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"supplier_qblink"},"Import Supplier bill to Quickbook")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"hourlyRateSupplier"},"Hourly Rate"),s.a.createElement("input",{type:"number",id:"hourlyRateSupplier",className:"form-control form-control-alternative",placeholder:"Hourly rate",name:"hourlyRateSupplier",value:this.state.hourlyRateSupplier,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{className:"custom-control-input",id:"supplier_billvoid",type:"checkbox",name:"supplier_billvoid",checked:this.state.voidSupplierBill,onChange:function(t){return e.handleCheckbox(t,"voidSupplierBill")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"supplier_billvoid"},"Void Supplier bill")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{className:"custom-control-input",id:"supplier_gst",type:"checkbox",name:"supplier_gst",checked:this.state.GSTApplicable,onChange:function(t){return e.handleCheckbox(t,"GSTApplicable")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"supplier_gst"},"GST/Tax")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"gst_type"},"Select tax type"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"gst_type",id:"gst_type",value:this.state.taxTypeApplicable,onChange:function(t){return e.handleDropdown(t,"taxTypeApplicable")},required:this.state.GSTApplicable},s.a.createElement("option",{value:""}),this.state.taxList?this.state.taxList.map((function(e,t){return e.key?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.value,key:"emp".concat(t)},e.key)):""})):"")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{className:"custom-control-input",id:"superAnnuationRequired",type:"checkbox",name:"superAnnuationRequired",checked:this.state.superAnnuationRequired,onChange:function(t){return e.handleCheckbox(t,"superAnnuationRequired")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"superAnnuationRequired"},"Superanuation")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"superAnuationPercentage"},"Superannuation Percentage (%)"),s.a.createElement("input",{type:"number",id:"superAnuationPercentage",className:"form-control form-control-alternative",placeholder:"Superanuation %",name:"superAnuationPercentage",value:this.state.superAnuationPercentage,onChange:this.handleChange,required:this.state.superAnnuationRequired}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"supplier_superbase"},"Superannuation Account"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"supplier_superbase",id:"supplier_superbase",value:this.state.superBaseAccount,onChange:function(t){return e.handleDropdown(t,"superBaseAccount")},required:this.state.superAnnuationRequired},s.a.createElement("option",{value:""}),this.state.accountList?this.state.accountList.map((function(e,t){return e.Id?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.Id,key:"emp".concat(t)},e.FullyQualifiedName)):""})):"")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"supplier_superbase"},"Superannuation Payable Account"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"supplier_superPayable",id:"supplier_superPayable",value:this.state.superPayableAccount,onChange:function(t){return e.handleDropdown(t,"superPayableAccount")},required:this.state.superAnnuationRequired},s.a.createElement("option",{value:""}),this.state.accountList?this.state.accountList.map((function(e,t){return e.Id?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.Id,key:"emp".concat(t)},e.FullyQualifiedName)):""})):"")))),s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"button",onClick:function(){return e.handleSave("supplier")}},"Save")))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")),this.state.costRateDialog.isOpen&&s.a.createElement(de,{showToast:this.props.showToast,handleCloseDialog:this.handleCloseCostRateDialog}))}}]),a}(n.Component),pe=a(185),he=a(186),Ee=a.n(he),ve=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).setActiveIndex=function(e){l.setState({selectedTabIndex:e})},l.handleColumnsVisible=function(e){l.setState({columnsToBeShown:e})},l.handleChange=function(e){l.setState(Object(m.a)({},e.target.name,e.target.value))},l.handleHireDateChange=function(e){l.setState({HiredDate:e})},l.handleEndDateChange=function(e){l.setState({ReleasedDate:e})},l.handleTypeChange=function(e){l.setState(Object(m.a)({},e.target.name,e.target.value))},l.handleEditUser=function(e){var t=Object(p.a)(l),a=Object(M.a)({},l.state.userList[e]);l.setState({loading:!0});var n={selectedUser:a._id,token:localStorage.getItem("token")};N.a.post("http://localhost:9000/user/getApprovers",n).then((function(e){var l;e.data.success?t.setState((l={FirstName:a.givenName||"",FamilyName:a.middleName||"",Title:a.title,PrimaryPhone:a.mobile,CountrySubDivisionCode:a.primaryAddr.CountrySubDivisionCode,City:a.primaryAddr.City,PostalCode:a.primaryAddr.PostalCode,Line1:a.primaryAddr.Line1,email:a.email,HiredDate:a.HiredDate?new Date(a.HiredDate):"",ReleasedDate:a.ReleasedDate?new Date(a.ReleasedDate):"",selectedEmployeeId:a._id,possibleApprovers:e.data.data,approverId:a.approver,DisplayName:a.displayName,portalAccess:!!a.access&&-1!=a.access.indexOf("PORTAL"),accessLevels:a.access},Object(m.a)(l,"approverId",a.approver),Object(m.a)(l,"loading",!1),Object(m.a)(l,"approvalRequired",!!a.approver),Object(m.a)(l,"invitationSent",!!a.invitation),l),(function(){window.$("#call-modal-form").modal("show")})):I.ToastsStore.error(e.data.message)})).catch((function(e){console.log(e),I.ToastsStore.error(e.message)}))},l.handleApproverChange=function(e){""==e.target.value?l.setState({approver:{},approverId:""}):l.setState({approverId:e.target.value,approver:{id:e.target.value,model:l.state.possibleApprovers.filter((function(t){return t.id==e.target.value}))[0].approverModel},approvalRequired:!0})},l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.handleOpenUserDialog=function(){l.setState({FirstName:"",FamilyName:"",Title:"",PrimaryPhone:"",CountrySubDivisionCode:"",City:"",PostalCode:"",Line1:"",email:"",HiredDate:new Date,ReleasedDate:new Date,selectedEmployeeId:void 0},(function(){window.$("#call-modal-form").modal("show")}))},l.handleSubmit=function(e){e.preventDefault();var t,a=Object(p.a)(l);a.setState({loading:!0});var n=l.state.accessLevels;t=l.state.selectedEmployeeId?x+"user/update":x+"employee/register",l.state.portalAccess&&-1==n.indexOf("PORTAL")?n.push("PORTAL"):l.state.portalAccess||-1==n.indexOf("PORTAL")||n.splice(n.indexOf("PORTAL"),1);var s={token:localStorage.getItem("token"),FirstName:a.state.FirstName,FamilyName:a.state.FamilyName,Title:a.state.Title,PrimaryPhone:a.state.PrimaryPhone,CountrySubDivisionCode:a.state.CountrySubDivisionCode,City:a.state.City,PostalCode:a.state.PostalCode,Line1:a.state.Line1,email:a.state.email,HiredDate:a.state.HiredDate,ReleasedDate:a.state.ReleasedDate,approver:a.state.approver,updateUserId:a.state.selectedEmployeeId,access:n};N.a.post(t,s).then((function(e){a.setState({loading:!1}),e.data.success?I.ToastsStore.success(e.data.message):I.ToastsStore.error(e.data.message)})).catch((function(e){a.setState({loading:!1}),I.ToastsStore.error(e.message)}))},l.handleCloseDialog=function(){window.location.reload(!1),window.$("#call-modal-form").modal("hide")},l.addOrRemoveAccessLevels=function(e){var t=l.state.accessLevels;switch(e.target.name){case"accessLevel_timeSheets":e.target.checked&&-1==t.indexOf("TIMESHEETS")?t.push("TIMESHEETS"):e.target.checked||-1==t.indexOf("TIMESHEETS")||t.splice(t.indexOf("TIMESHEETS"),1);break;case"accessLevel_expenses":e.target.checked&&-1==t.indexOf("EXPENSES")?t.push("EXPENSES"):e.target.checked||-1==t.indexOf("EXPENSES")||t.splice(t.indexOf("EXPENSES"),1);break;case"accessLevel_projects":e.target.checked&&-1==t.indexOf("PROJECTS")?t.push("PROJECTS"):e.target.checked||-1==t.indexOf("PROJECTS")||t.splice(t.indexOf("PROJECTS"),1);break;case"accessLevel_purchasing":e.target.checked&&-1==t.indexOf("PURCHASING")?t.push("PURCHASING"):e.target.checked||-1==t.indexOf("PURCHASING")||t.splice(t.indexOf("PURCHASING"),1)}l.setState({accessLevels:t})},l.handlePortalAccess=function(e){Object(p.a)(l);if(!l.state.invitationSent&&e){if(window.confirm("An invitation mail with auto generated password will be sent to the user email id.")){l.setState({loading:!0});var t={inviteUserId:l.state.selectedEmployeeId,token:localStorage.getItem("token")};N.a.post("http://localhost:9000/user/sendInvitation",t).then((function(t){this.setState({loading:!1}),t.data.success?(I.ToastsStore.success(t.data.message),this.setState({invitationSent:!0}),this.setState({portalAccess:e})):I.ToastsStore.error(t.data.message)}))}}else l.setState({portalAccess:e})},l.resetPassword=function(){var e=Object(p.a)(l);if(window.confirm("Mail will be sent to the user with new login credentials")){var t={token:localStorage.getItem("token"),inviteUserId:e.state.selectedEmployeeId};N.a.post("http://localhost:9000/user/resetPassword",t).then((function(e){e.data.success&&I.ToastsStore.success(e.data.message)})).catch((function(e){console.log(e),I.ToastsStore.error(e.message)}))}},l.state={FirstName:"",FamilyName:"",Title:"Mr",PrimaryPhone:"",CountrySubDivisionCode:"",City:"",PostalCode:"",Line1:"",email:"",HiredDate:new Date,ReleasedDate:new Date,userList:[],selectedTabIndex:0,portalAccess:!1,accessLevels:[],approvalRequired:!1,approver:{},approverId:"",columnsToBeShown:["NAME","EMAIL","PHONE","ACTIVE","USER ROLE"]},l.handlePortalAccess=l.handlePortalAccess.bind(Object(p.a)(l)),l.handleApproverRequired=l.handleApproverRequired.bind(Object(p.a)(l)),l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={token:localStorage.getItem("token")};N.a.post("http://localhost:9000/employee/list",t).then((function(t){t.data.success&&(console.log("USERLIST"),console.log(t.data.data),e.setState({userList:t.data.data}))})).catch((function(e){console.log("ERROR"),console.log(e),I.ToastsStore.error(e.message)}))}},{key:"handleApproverRequired",value:function(e){this.setState({approvalRequired:e.target.checked})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),this.state.loading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):"",s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleOpenUserDialog()}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(g.a,{path:b.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add User")),s.a.createElement("div",{className:"modal fade",id:"call-modal-form",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg full-page-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-12"},s.a.createElement("h3",{className:"mb-0 text-center"},this.state.selectedEmployeeId?"Edit User":"Add User")))),s.a.createElement("div",{className:"card-body text-left employee-dialog-body"},this.state.selectedEmployeeId&&s.a.createElement("ul",{className:"nav nav-pills"},s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(0)}},s.a.createElement("a",{className:"nav-link ".concat(0===this.state.selectedTabIndex?"active":""),href:"#"},"General")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(1)}},s.a.createElement("a",{className:"nav-link ".concat(1===this.state.selectedTabIndex?"active":""),href:"#"},"Projects")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(2)}},s.a.createElement("a",{className:"nav-link ".concat(2===this.state.selectedTabIndex?"active":""),href:"#"},"Accounting")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(3)}},s.a.createElement("a",{className:"nav-link ".concat(3===this.state.selectedTabIndex?"active":""),href:"#"},"Expenses")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(4)}},s.a.createElement("a",{className:"nav-link ".concat(4===this.state.selectedTabIndex?"active":""),href:"#"},"Time Sheets"))),s.a.createElement("br",null),2===this.state.selectedTabIndex&&s.a.createElement(ue,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId,userList:this.state.userList}),3===this.state.selectedTabIndex&&s.a.createElement(me,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),4===this.state.selectedTabIndex&&s.a.createElement(ie,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),0===this.state.selectedTabIndex?s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"User information"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-2"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-title"},"Title"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",type:"text",id:"input-title",placeholder:"Title",name:"Title",value:this.state.Title,onChange:this.handleTypeChange},s.a.createElement("option",{value:"Mr"},"Mr"),s.a.createElement("option",{value:"Mrs"},"Mrs"),s.a.createElement("option",{value:"Miss"},"Miss")))),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-first-name"},"First Name"),s.a.createElement("input",{type:"text",id:"input-first-name",className:"form-control form-control-alternative",placeholder:"First Name",name:"FirstName",value:this.state.FirstName,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-last-name"},"Last Name"),s.a.createElement("input",{type:"text",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Last Name",name:"FamilyName",value:this.state.FamilyName,onChange:this.handleChange,required:!0})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-email"},"Email"),s.a.createElement("input",{type:"email",id:"input-email",className:"form-control form-control-alternative",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-mobile"},"Mobile"),s.a.createElement("input",{type:"number",id:"input-mobile",className:"form-control form-control-alternative",placeholder:"Mobile",name:"PrimaryPhone",value:this.state.PrimaryPhone,onChange:this.handleChange,required:!0})))),this.state.selectedEmployeeId?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"portalAccess"},s.a.createElement("span",null,"Portal Access"),s.a.createElement(Ee.a,{html:"portalAccess",onChange:this.handlePortalAccess,checked:this.state.portalAccess}))),s.a.createElement("a",{href:"#",onClick:this.resetPassword},"Reset Password")))):""),s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Contact information"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-address"},"Address"),s.a.createElement("input",{id:"input-address",className:"form-control form-control-alternative",placeholder:"Home Address",name:"Line1",value:this.state.Line1,onChange:this.handleChange,type:"text"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-City"},"City"),s.a.createElement("input",{type:"text",id:"input-City",className:"form-control form-control-alternative",placeholder:"City",name:"City",value:this.state.City,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Country"),s.a.createElement("input",{type:"text",id:"input-country",className:"form-control form-control-alternative",placeholder:"Country",name:"CountrySubDivisionCode",value:this.state.CountrySubDivisionCode,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Postal code"),s.a.createElement("input",{type:"number",id:"input-postal-code",className:"form-control form-control-alternative",placeholder:"Postal code",name:"PostalCode",value:this.state.PostalCode,onChange:this.handleChange}))))),this.state.selectedEmployeeId?s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Access Levels"),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("span",null,"Choose the access levels for the user"),s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"accessLevel_timeSheets",type:"checkbox",name:"accessLevel_timeSheets",checked:-1!=this.state.accessLevels.indexOf("TIMESHEETS"),onChange:function(t){return e.addOrRemoveAccessLevels(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"accessLevel_timeSheets"},"TimeSheets")))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"accessLevel_expenses",type:"checkbox",name:"accessLevel_expenses",checked:-1!=this.state.accessLevels.indexOf("EXPENSES"),onChange:function(t){return e.addOrRemoveAccessLevels(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"accessLevel_expenses"},"Expenses")))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"accessLevel_projects",type:"checkbox",name:"accessLevel_projects",checked:-1!=this.state.accessLevels.indexOf("PROJECTS"),onChange:function(t){return e.addOrRemoveAccessLevels(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"accessLevel_projects"},"Projects")))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"accessLevel_purchasing",type:"checkbox",name:"accessLevel_purchasing",checked:-1!=this.state.accessLevels.indexOf("PURCHASING"),onChange:function(t){return e.addOrRemoveAccessLevels(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"accessLevel_purchasing"},"Purchasing"))))):"",this.state.selectedEmployeeId?s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Approval"),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{class:"form-group"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"approvalRequired",type:"checkbox",name:"approvalRequired",checked:this.state.approvalRequired,onChange:function(t){return e.handleApproverRequired(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"approvalRequired"},"Requires Approval?")))),s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"approver"},"Choose the approver for timesheets and expenses"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"approverId",id:"approver",required:this.state.approvalRequired,value:this.state.approverId,onChange:function(t){return e.handleApproverChange(t)}},s.a.createElement("option",{value:""}),this.state.possibleApprovers?this.state.possibleApprovers.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.id,key:"approver".concat(t)},e.displayName))})):""))))):"",s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:this.handleCloseDialog},"Cancel"),s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"submit"},"Save"))):""))))))),s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"columns"},"Columns to be displayed"),s.a.createElement(pe.Multiselect,{options:T,selectedValues:this.state.columnsToBeShown,onSelect:this.handleColumnsVisible,onRemove:this.handleColumnsVisible,isObject:!1}))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,-1!=this.state.columnsToBeShown.indexOf("NAME")?s.a.createElement("th",{scope:"col"},"Name"):"",-1!=this.state.columnsToBeShown.indexOf("EMAIL")?s.a.createElement("th",{scope:"col"},"Email"):"",-1!=this.state.columnsToBeShown.indexOf("PHONE")?s.a.createElement("th",{scope:"col"},"Phone"):"",-1!=this.state.columnsToBeShown.indexOf("ACTIVE")?s.a.createElement("th",{scope:"col"},"Active"):"",-1!=this.state.columnsToBeShown.indexOf("USER ROLE")?s.a.createElement("th",{scope:"col"},"User role"):"",s.a.createElement("th",{scope:"col"}))),s.a.createElement("tbody",null,this.state.userList.map((function(t,a){return s.a.createElement("tr",{key:a},-1!=e.state.columnsToBeShown.indexOf("NAME")?s.a.createElement("td",null,s.a.createElement("span",{className:"d-flex align-items-center"},t.DisplayName)):"",-1!=e.state.columnsToBeShown.indexOf("EMAIL")?s.a.createElement("td",null,s.a.createElement("span",{className:"d-flex align-items-center"},t.email)):"",-1!=e.state.columnsToBeShown.indexOf("PHONE")?s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null,t.PrimaryPhone.FreeFormNumber))):"",-1!=e.state.columnsToBeShown.indexOf("ACTIVE")?s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null," ",t.active?"Yes":"No"))):"",-1!=e.state.columnsToBeShown.indexOf("USER ROLE")?s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null," ",t.type))):"",s.a.createElement("td",{className:"text-right"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("a",{className:"btn btn-sm btn-icon-only text-light",href:"/",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement(g.a,{path:b.i,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#000000"})),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-right dropdown-menu-arrow"},s.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.handleEditUser(a)}},"Edit")))))}))))))}}]),a}(n.Component),ge=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).state={},l}return Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement("p",null,"About")}}]),a}(n.Component),be=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).state={reports:{userCount:0,surveyCount:0,responseCount:0,productCount:0}},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={token:localStorage.getItem("token")};N.a.post("http://localhost:9000/user/reports",t).then((function(t){t.data.success&&(console.log(t.data.data),e.setState({reports:t.data.data}))})).catch((function(e){}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xl-3 col-lg-6"},s.a.createElement("div",{className:"card card-stats mb-4 mb-xl-0"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h5",{className:"card-title text-uppercase text-muted mb-0"},"Users"),s.a.createElement("span",{className:"h2 font-weight-bold mb-0"},this.state.reports.userCount)),s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow"},s.a.createElement(g.a,{path:b.a,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"}))))))),s.a.createElement("div",{className:"col-xl-3 col-lg-6"},s.a.createElement("div",{className:"card card-stats mb-4 mb-xl-0"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h5",{className:"card-title text-uppercase text-muted mb-0"},"Surveys"),s.a.createElement("span",{className:"h2 font-weight-bold mb-0"},"0")),s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow"},s.a.createElement(g.a,{path:b.s,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"}))))))),s.a.createElement("div",{className:"col-xl-3 col-lg-6"},s.a.createElement("div",{className:"card card-stats mb-4 mb-xl-0"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h5",{className:"card-title text-uppercase text-muted mb-0"},"Response"),s.a.createElement("span",{className:"h2 font-weight-bold mb-0"},"0")),s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"icon icon-shape bg-yellow text-white rounded-circle shadow"},s.a.createElement(g.a,{path:b.m,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"}))))))),s.a.createElement("div",{className:"col-xl-3 col-lg-6"},s.a.createElement("div",{className:"card card-stats mb-4 mb-xl-0"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h5",{className:"card-title text-uppercase text-muted mb-0"},"Products"),s.a.createElement("span",{className:"h2 font-weight-bold mb-0"},"0")),s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow"},s.a.createElement(g.a,{path:b.t,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})))))))))}}]),a}(n.Component),fe=(a(171),a(123)),Ne=a.n(fe),ye=a(124),Ce=a.n(ye),xe=a(37),ke=a(187),Se=a.n(ke),we=(a(404),n.Component,a(97)),De=a(55),Ae=a(92),Oe=window.$,Te=[{value:"Hours",label:"Hours"},{value:"BillableStatus",label:"BillableStatus"},{value:"CustomerRef",label:"CustomerRef"},{value:"Description",label:"Description"},{value:"images",label:"images"},{value:"status",label:"status"}],je=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).getService=function(){var e=Object(p.a)(l),t={token:localStorage.getItem("token")};N.a.post("http://localhost:9000/task/list",t).then((function(t){t.data.success&&(console.log(t.data.data),e.setState({taskList:t.data.data}))})).catch((function(t){e.setState({isLoading:!1}),console.log(t)}))},l.getClients=function(){var e=Object(p.a)(l),t={token:localStorage.getItem("token")};N.a.post("http://localhost:9000/client/list",t).then((function(t){t.data.success&&e.setState({clientList:t.data.data})})).catch((function(t){e.setState({isLoading:!1}),console.log(t)}))},l.sendApproval=function(){console.log("tslength"),console.log(l.state.timesheets.length);for(var e=0;e<l.state.timesheets.length;e++)if(console.log(document.getElementById("checkid"+e)),document.getElementById("checkid"+e).checked){var t=Object(p.a)(l),a={token:localStorage.getItem("token"),id:t.state.timesheets[e]._id};Oe("#call-modal-form-filled").removeClass("show"),Oe("#call-modal-form-filled").css("display",""),Oe(".modal-backdrop.fade.show").remove(),N.a.post("http://localhost:9000/timesheet/updatestatus",a).then((function(e){console.log(e),e.data.success&&(t.setState({loading:!1}),window.location.reload(!1),I.ToastsStore.success(e.data.message),console.log(e.data.success))})).catch((function(e){t.setState({loading:!1})}))}console.log("sendApproval"),console.log(l.state.timesheets)},l.getMyTimeSheets=function(){re.a.locale("en");var e=Object(p.a)(l),t={token:localStorage.getItem("token")},a=x+"timesheet/listWithCount";console.log(e.state.timesheetss.rows),N.a.post(a,t).then((function(t){if(t.data.success){var a=JSON.parse(JSON.stringify(e.state.timesheetss));a.rows=t.data.data,console.log(t.data.data),e.setState({timesheets:t.data.data,isLoading:!1,totalCount:Math.ceil(t.data.totalCount/10)});for(var l=function(t){console.log("checkid"+t),a.rows[t].check=s.a.createElement("input",{type:"checkbox",id:"checkid"+t,name:"check",value:"check"}),a.rows[t].CustomerRef=a.rows[t].CustomerRef.value,a.rows[t].EmployeeRef=a.rows[t].EmployeeRef.value,a.rows[t].ItemRef=a.rows[t].ItemRef.value,"WithEmployee"==e.state.timesheets[t].status?a.rows[t].edit=s.a.createElement("button",{type:"button","data-toggle":"modal",id:"button1","data-target":"#call-modal-form-filled",disabled:"Approved"==e.state.timesheets[t].status||"Rejected"==e.state.timesheets[t].status||"Archived"==e.state.timesheets[t].status,onClick:function(){console.log("UpdateModal"),console.log(e.state.timesheets[t]),e.setState({Description:e.state.timesheets[t].Description,clientValue:e.state.timesheets[t].CustomerRef,serviceValue:e.state.timesheets[t].ItemRef,Hours:e.state.timesheets[t].Hours,StartTime:Date.parse(e.state.timesheets[t].StartTime),obj_id:e.state.timesheets[t]._id,status_temp:e.state.timesheets[t].status})}},s.a.createElement("i",{class:"fas fa-user-edit"})):a.rows[t].edit=s.a.createElement("button",{type:"button","data-toggle":"modal",id:"button1","data-target":"#call-modal-form-filled",disabled:!0,title:"Cannot edit data sent to approver"},s.a.createElement("i",{class:"fas fa-user-edit"}))},n=0;n<a.rows.length;n++)l(n);e.setState({timesheetss:a,isLoading:!1,totalCount:Math.ceil(t.data.totalCount/10)}),console.log(e.state.timesheetss)}})).catch((function(t){e.setState({isLoading:!1}),console.log(t)})),a=x+"employee/getEmployeeDetails",N.a.post(a,t).then((function(t){t.data.success&&e.setState({clients:t.data.clients,clientTasks:t.data.clientTasks,empData:t.data.empData,tasks:t.data.tasks})})).catch((function(e){console.log(e)}))},l.toggleChange=function(e){l.setState({isBillable:!l.state.isBillable}),l.setState({isVariation:!l.state.isVariation})},l.handleChange=function(e){l.setState(Object(m.a)({},e.target.name,e.target.value))},l.handleDateChange=function(e){l.setState({StartTime:e})},l.handleFileChange=function(e){if(l.state.images&&l.state.images.length){var t=Array.from(l.state.images);t.push.apply(t,Object(W.a)(e.target.files)),l.setState({images:t})}else l.setState({images:e.target.files||[]})},l.handleClientChange=function(e){l.setState({clientId:e.target.value}),l.setState({clientValue:e.target.value})},l.handleTaskChange=function(e){l.setState({taskId:e.target.value}),l.setState({serviceValue:e.target.value})},l.chooseColumn=function(e){console.log(e);for(var t=Object(p.a)(l),a=t.state.timesheetss,n=1;n<t.state.timesheetss.columns.length-1;n++)delete a.columns[n];console.log(a);for(var s=0;s<e.length;s++)a.columns[1+s]={label:e[s].value,field:e[s].value,sort:"asc",width:100};console.log(a),t.setState({timesheetss:a,loading:!0}),console.log(a)},l.handleSubmit=function(e){e.preventDefault(),console.log("Handle submit::::");var t=[],a=G().userid;if(Object.keys(l.state.images).length>0){var n=Object(M.a)({},l.state.images);Object.values(n).forEach((function(e){t.push("timesheet/".concat(a,"/").concat((new Date).getTime(),"-").concat(e.name.replace(/&/g,"")))}));var s=Object(p.a)(l);s.setState({loading:!0});N.a.post("http://localhost:9000/upload/generate-signed-urls",{imageNames:t,token:Y()}).then((function(e){if(e.data.success){var a=Object(W.a)(s.state.images);e.data.data.forEach(function(){var e=Object(q.a)(V.a.mark((function e(t,l){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("key",t.params.key),n.append("acl",t.params.acl),n.append("x-amz-credential",t.params["x-amz-credential"]),n.append("x-amz-algorithm",t.params["x-amz-algorithm"]),n.append("x-amz-date",t.params["x-amz-date"]),n.append("policy",t.params.policy),n.append("x-amz-signature",t.params["x-amz-signature"]),n.append("file",a[l]),e.next=11,fetch(t.form_url,{method:"POST",body:n});case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),s.addTimeSheet(t),s.setState({clientValue:"default",serviceValue:"default",isVariation:!1}),console.log(s.isVariation)}})).catch((function(e){s.setState({loading:!1})}))}else l.addTimeSheet([]),l.setState({clientValue:"default",serviceValue:"default",isVariation:!1}),console.log(l.state.isVariation)},l.handleEdit=function(e){if("WithEmployee"==l.state.status_temp){e.preventDefault();var t=[],a=G().userid;if(Object.keys(l.state.images).length>0){var n=Object(M.a)({},l.state.images);Object.values(n).forEach((function(e){t.push("timesheet/".concat(a,"/").concat((new Date).getTime(),"-").concat(e.name.replace(/&/g,"")))}));var s=Object(p.a)(l);s.setState({loading:!0});N.a.post("http://localhost:9000/upload/generate-signed-urls",{imageNames:t,token:Y()}).then((function(e){if(e.data.success){var a=Object(W.a)(s.state.images);e.data.data.forEach(function(){var e=Object(q.a)(V.a.mark((function e(t,l){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("key",t.params.key),n.append("acl",t.params.acl),n.append("x-amz-credential",t.params["x-amz-credential"]),n.append("x-amz-algorithm",t.params["x-amz-algorithm"]),n.append("x-amz-date",t.params["x-amz-date"]),n.append("policy",t.params.policy),n.append("x-amz-signature",t.params["x-amz-signature"]),n.append("file",a[l]),e.next=11,fetch(t.form_url,{method:"POST",body:n});case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),s.editTimeSheet(t),s.setState({clientValue:"default",serviceValue:"default",isVariation:!1}),console.log(s.isVariation)}})).catch((function(e){s.setState({loading:!1}),console.log("E")}))}else l.editTimeSheet([]),l.setState({clientValue:"default",serviceValue:"default",isVariation:!1}),console.log(l.state.isVariation)}else alert("Cannot edit entry already sent to approver")},l.editTimeSheet=function(e){var t=Object(p.a)(l);t.setState({loading:!0});var a={token:localStorage.getItem("token"),StartTime:new Date((new Date).toDateString()),Hours:t.state.Hours,clientId:t.state.clientValue,classId:t.state.classId,taskId:t.state.serviceValue,isBillable:t.state.isBillable,Description:t.state.Description,notes:t.state.notes,images:e,empId:t.state.empData.Id,objid:t.state.obj_id};Oe("#call-modal-form").removeClass("show"),Oe("#call-modal-form").css("display",""),Oe(".modal-backdrop.fade.show").remove(),N.a.post("http://localhost:9000/timesheet/edit",a).then((function(e){if(e.data.success){var a=document.getElementById("file_upload");a&&(a.value=""),t.setState({StartTime:new Date((new Date).toDateString()),Hours:"",clientId:"",classId:"",taskId:"",isBillable:!1,Description:"",notes:"",images:[],loading:!1,timesheets:t.state.timesheets.concat([e.data.data])}),window.location.reload(!1)}})).catch((function(e){t.setState({loading:!1})}))},l.handleDraft=function(e){e.preventDefault(),console.log("Handle draft::::");var t=[],a=G().userid;if(Object.keys(l.state.images).length>0){var n=Object(M.a)({},l.state.images);Object.values(n).forEach((function(e){t.push("timesheet/".concat(a,"/").concat((new Date).getTime(),"-").concat(e.name.replace(/&/g,"")))}));var s=Object(p.a)(l);s.setState({loading:!0});N.a.post("http://localhost:9000/upload/generate-signed-urls",{imageNames:t,token:Y()}).then((function(e){if(e.data.success){var a=Object(W.a)(s.state.images);e.data.data.forEach(function(){var e=Object(q.a)(V.a.mark((function e(t,l){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("key",t.params.key),n.append("acl",t.params.acl),n.append("x-amz-credential",t.params["x-amz-credential"]),n.append("x-amz-algorithm",t.params["x-amz-algorithm"]),n.append("x-amz-date",t.params["x-amz-date"]),n.append("policy",t.params.policy),n.append("x-amz-signature",t.params["x-amz-signature"]),n.append("file",a[l]),e.next=11,fetch(t.form_url,{method:"POST",body:n});case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),s.addTimeSheet(t),s.setState({clientValue:"default",serviceValue:"default",isVariation:!1}),console.log(s.isVariation)}})).catch((function(e){s.setState({loading:!1})}))}else l.draftTimeSheet([]),l.setState({clientValue:"default",serviceValue:"default",isVariation:!1}),console.log(l.state.isVariation)},l.addTimeSheet=function(e){var t=x+"timesheet/add";console.log(t);var a=Object(p.a)(l);a.setState({loading:!0});var n={token:localStorage.getItem("token"),StartTime:a.state.StartTime,Hours:a.state.Hours,clientId:a.state.clientId,classId:a.state.classId,taskId:a.state.taskId,isBillable:a.state.isBillable,Description:a.state.Description,notes:a.state.notes,images:e,empId:a.state.empData.Id};Oe("#call-modal-form").removeClass("show"),Oe("#call-modal-form").css("display",""),Oe(".modal-backdrop.fade.show").remove(),N.a.post(t,n).then((function(e){if(e.data.success){var t=document.getElementById("file_upload");t&&(t.value=""),a.setState({StartTime:new Date((new Date).toDateString()),Hours:"",clientId:"",classId:"",taskId:"",isBillable:!1,Description:"",notes:"",images:[],timesheets:a.state.timesheets.concat([e.data.data])})}})).catch((function(e){a.setState({loading:!1})}))},l.draftTimeSheet=function(e){var t=Object(p.a)(l);t.setState({loading:!0});var a={token:localStorage.getItem("token"),StartTime:t.state.StartTime,Hours:t.state.Hours,clientId:t.state.clientId,classId:t.state.classId,taskId:t.state.taskId,isBillable:t.state.isBillable,Description:t.state.Description,notes:t.state.notes,images:e,empId:t.state.empData.Id};Oe("#call-modal-form").removeClass("show"),Oe("#call-modal-form").css("display",""),Oe(".modal-backdrop.fade.show").remove(),N.a.post("http://localhost:9000/timesheet/draft",a).then((function(e){if(e.data.success){var a=document.getElementById("file_upload");a&&(a.value=""),t.setState({StartTime:new Date((new Date).toDateString()),Hours:"",clientId:"",classId:"",taskId:"",isBillable:!1,Description:"",notes:"",images:[],loading:!1,timesheets:t.state.timesheets.concat([e.data.data])}),window.location.reload(!1)}})).catch((function(e){t.setState({loading:!1})}))},l.handlePageClick=function(e){var t=10*e.selected,a=Object(p.a)(l),n={token:localStorage.getItem("token"),from:t};N.a.post("http://localhost:9000/timesheet/list",n).then((function(e){e.data.success&&a.setState({timesheets:e.data.data,isLoading:!1})})).catch((function(e){a.setState({isLoading:!1}),console.log(e)}))},l.displayImages=function(e,t){t.preventDefault();var a=[];e.forEach((function(e){a.push({src:e.startsWith("http")?e:"".concat(D).concat(e)})})),l.setState({displayImages:a,viewerIsOpen:!0})},l.reteiveImages=function(e){var t=[];return e.forEach((function(e){t.push({src:e.startsWith("http")?e:"".concat(D).concat(e)})})),t},l.gotoPrev=function(){l.setState({currImg:l.state.currImg-1})},l.gotoNext=function(){l.setState({currImg:l.state.currImg+1})},l.gotoImg=function(e){l.setState({currImg:e})},l.openImgsViewer=function(e,t){t.preventDefault(),l.setState({currImg:e,viewerIsOpen:!0})},l.closeImgsViewer=function(){l.setState({currImg:0,displayImages:[],viewerIsOpen:!1})},l.handleClickImg=function(){l.state.currImg!==l.displayImages.length-1&&l.gotoNext()},l.renderGallery=function(){if(l.state.displayImages){var e=l.state.displayImages.filter((function(e){return e.useForDemo})).map((function(e,t){return s.a.createElement("a",{href:e.src,className:Object(xe.css)(Pe.thumbnail,Pe[e.orientation]),key:t,onClick:function(e){return l.openImgsViewer(t,e)}},s.a.createElement("img",{src:e.thumbnail,className:Object(xe.css)(Pe.source),alt:""}))}));return s.a.createElement("div",{className:Object(xe.css)(Pe.gallery)},e)}},l.takePhoto=function(){l.setState({displayCamera:!0}),we.a.requestFullscreen(document.getElementById("camera"))},l.handleTakePhoto=function(){var e=Object(q.a)(V.a.mark((function e(t){var a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.blob()})).then((function(e){return new File([e],"Attachement",{type:"image/png"})}));case 2:a=e.sent,l.state.images&&l.state.images.length?((n=Array.from(l.state.images)).push(a),l.setState({images:n})):l.setState({images:[a]}),we.a.exitFullscreen(),l.setState({displayCamera:!1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.onCameraError=function(e){I.ToastsStore.error("Please give permission to access the camera!"),we.a.exitFullscreen()},l.removeFile=function(e,t){var a=Array.from(l.state.images);a=a.filter((function(e){return e.name!==t})),l.setState({images:a})},l.updateModal=function(){console.log(document.getElementById("button1"))},l.handleTimeChange=function(e){l.setState({time:e})},l.toggleUpdateChange=function(e){l.setState({billable:!l.state.billable})},l.handleFileUpdateChange=function(e){if(l.state.image&&l.state.image.length){var t=Array.from(l.state.image);t.push.apply(t,Object(W.a)(e.target.files)),l.setState({image:t})}else l.setState({image:e.target.files||[]})},l.removeFileUpdate=function(e,t){var a=Array.from(l.state.image);a=a.filter((function(e){return l.state.image!==t})),l.setState({image:a})},l.removeImageUrl=function(e,t){var a=l.state.imgUrls;a=a.filter((function(e){return e!=t})),l.setState({imgUrls:a})},l.handleUpdate=function(e){e.preventDefault();var t=[],a=G().userid;if(Object.keys(l.state.image).length>0){var n=Object(M.a)({},l.state.image);Object.values(n).forEach((function(e){t.push("timesheet/".concat(a,"/").concat((new Date).getTime(),"-").concat(e&&e.name?e.name.replace(/&/g,""):""))}));var s=Object(p.a)(l);s.setState({loading:!0});N.a.post("http://localhost:9000/upload/generate-signed-urls",{imageNames:t,token:Y()}).then((function(e){if(e.data.success){var a=Object(W.a)(s.state.image);e.data.data.forEach(function(){var e=Object(q.a)(V.a.mark((function e(t,l){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("key",t.params.key),n.append("acl",t.params.acl),n.append("x-amz-credential",t.params["x-amz-credential"]),n.append("x-amz-algorithm",t.params["x-amz-algorithm"]),n.append("x-amz-date",t.params["x-amz-date"]),n.append("policy",t.params.policy),n.append("x-amz-signature",t.params["x-amz-signature"]),n.append("file",a[l]),e.next=11,fetch(t.form_url,{method:"POST",body:n});case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),s.updateTimeSheet(t)}})).catch((function(e){s.setState({loading:!1})}))}else l.updateTimeSheet([])},l.updateTimeSheet=function(e){var t,a=Object(p.a)(l);l.state.imgUrls&&(e?(t=e).push.apply(t,Object(W.a)(l.state.imgUrls)):e=Object(W.a)(l.state.imgUrls));a.setState({loading:!0});var n={token:localStorage.getItem("token"),time:a.state.time,hours:a.state.hours,client:a.state.client,class:a.state.class,billable:a.state.billable,description:a.state.description,notes:a.state.notes,image:e,id:a.state.id};Oe("#call-modal-form-filled").removeClass("show"),Oe("#call-modal-form-filled").css("display",""),Oe(".modal-backdrop.fade.show").remove(),N.a.post("http://localhost:9000/timesheet/update",n).then((function(e){e.data.success&&(a.setState({loading:!1}),window.location.reload(!1),I.ToastsStore.success(e.data.message))})).catch((function(e){a.setState({loading:!1})}))},l.state={StartTime:new Date((new Date).toDateString()),Hours:"",taskId:"",isBillable:!1,Description:"",notes:"",dm:"",tasks:[],classes:[],clients:[],timesheets:[],status_temp:"WithEmployee",obj_id:"",timesheetss:{columns:[{label:"Check",field:"check",sort:"asc"},{label:"BillableStatus",field:"BillableStatus",sort:"asc",width:150},{label:"CustomerRef",field:"CustomerRef",sort:"asc",width:270},{label:"Date",field:"StartTime",sort:"asc",width:270},{label:"Hours",field:"Hours",sort:"asc",width:100},{label:"Description",field:"Description",sort:"asc",width:200},{label:"ItemRef",field:"ItemRef",sort:"asc",width:100},{label:"images",field:"images",sort:"asc",width:100},{label:"status",field:"status",sort:"asc",width:100},{label:"Edit",field:"edit",sort:"asc"}],rows:[]},totalCount:0,isLoading:!0,displayImages:[],viewerIsOpen:!1,currImg:0,images:[],displayCamera:!1,uploadPreviewOpen:!1,uploadImageIndex:0,empData:{},clientTasks:{},taskDropdown:[],clientList:[],clientValue:"default",serviceValue:"default",isVariation:!1},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getMyTimeSheets(),this.getClients(),this.getService()}},{key:"render",value:function(){var e,t=this;return this.state.isLoading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):s.a.createElement(s.a.Fragment,null,s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),(function(){return t.renderGallery()}),s.a.createElement(Ce.a,{backdropCloseable:!0,currImg:this.state.currImg,imgs:this.state.displayImages,isOpen:this.state.viewerIsOpen,onClickImg:this.handleClickImg,onClickNext:this.gotoNext,onClickPrev:this.gotoPrev,onClickThumbnail:this.gotoImg,onClose:this.closeImgsViewer,showThumbnails:!0}),console.log(this.state.timesheetss),s.a.createElement("div",{className:"text-right"},s.a.createElement("table",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement(Ae.a,{options:Te,isMulti:!0,id:"tableList",onChange:this.chooseColumn})),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-icon btn-3 btn-primary text-right",type:"button","data-toggle":"modal","data-target":"#call-modal-form"},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(g.a,{path:b.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"ADD"))))),s.a.createElement("div",{className:"modal fade",id:"call-modal-form",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-6"},s.a.createElement("h3",{className:"mb-0"},"My Time")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Activity Date"),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(g.a,{path:b.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(H.a,{className:"form-control datepicker",selected:this.state.StartTime,onChange:this.handleDateChange})))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-first-name"},"Hours"),s.a.createElement("input",{type:"number",id:"input-hours",className:"form-control form-control-alternative",placeholder:"Hours",name:"Hours",value:this.state.Hours,onChange:this.handleChange,required:!0})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"client"},"Client"),s.a.createElement("select",(e={className:"form-control input-group input-group-alternative",name:"clientId",id:"client",value:"lol"},Object(m.a)(e,"value",this.state.clientValue),Object(m.a)(e,"onChange",this.handleClientChange),e),s.a.createElement("option",{value:"default"},"Choose Client"),this.state.clientList.map((function(e,t){return s.a.createElement("option",{value:e.CompanyName},e.CompanyName)})))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"task"},"Service"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"taskId",id:"task",value:this.state.serviceValue,onChange:this.handleTaskChange},s.a.createElement("option",{value:"default"},"Choose Service"),this.state.taskList.map((function(e,t){return s.a.createElement("option",{value:e.FullyQualifiedName},e.FullyQualifiedName)}))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customCheckLogin",type:"checkbox",checked:this.state.isBillable,onChange:this.toggleChange}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customCheckLogin"},s.a.createElement("span",null,"Variation?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-last-name"},"Description"),s.a.createElement("textarea",{rows:"4",cols:"50",type:"text",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Description",name:"Description",value:this.state.Description,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-6"},this.state.isVariation?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-last-name"},"Variation Notes"),s.a.createElement("textarea",{rows:"4",cols:"50",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Notes",name:"notes",value:this.state.notes,onChange:this.handleChange,required:this.state.isBillable})):s.a.createElement("div",null,console.log(this.state.isVariation))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"file_upload"},"Attachements"),s.a.createElement("input",{type:"file",multiple:!0,id:"file_upload",className:"form-control form-control-alternative",placeholder:"Images",name:"images",onChange:this.handleFileChange}))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"btn btn-secondary",for:"camera"},"Take a photo"),s.a.createElement("input",{type:"file",multiple:!0,accept:"image/*",capture:"camera",className:"form-control form-control-alternative",id:"camera",name:"camera",style:{display:"none"},onChange:this.handleFileChange}))),this.state.images&&this.state.images.length?Array.from(this.state.images).map((function(e){return s.a.createElement("div",null,s.a.createElement("span",null,e.name),s.a.createElement("button",{type:"button",className:"btn btn-icon",name:e.name,onClick:function(a){return t.removeFile(a,e.name)}},s.a.createElement(g.a,{path:b.h,title:"delete",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"})))})):"")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link","data-dismiss":"modal"},"Close"),s.a.createElement("button",{type:"button",className:"btn btn-primary",value:"draft",onClick:this.handleDraft},"Draft"),s.a.createElement("button",{type:"submit",className:"btn btn-primary",value:"submit"},"Create"))))))))),s.a.createElement("div",{className:"modal fade",id:"call-modal-form-filled",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-6"},s.a.createElement("h3",{className:"mb-0"},"My Time")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement("form",{onSubmit:this.handleEdit},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Activity Date"),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(g.a,{path:b.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(H.a,{className:"form-control datepicker",selected:this.state.StartTime,onChange:this.handleDateChange})))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-first-name"},"Hours"),s.a.createElement("input",{type:"number",id:"input-hours",className:"form-control form-control-alternative",placeholder:"Hours",name:"Hours",value:this.state.Hours,onChange:this.handleChange,required:!0})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"client"},"Client"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"clientId",id:"client",value:this.state.clientValue,onChange:this.handleClientChange},s.a.createElement("option",{value:"default"},"Choose Client"),this.state.clientList.map((function(e,t){return s.a.createElement("option",{value:e.CompanyName},e.CompanyName)})))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"task"},"Service"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"taskId",id:"task",value:this.state.serviceValue,onChange:this.handleTaskChange},s.a.createElement("option",{value:"default"},"Choose Service"),this.state.taskList.map((function(e,t){return s.a.createElement("option",{value:e.FullyQualifiedName},e.FullyQualifiedName)}))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customCheckLogin",type:"checkbox",checked:this.state.isBillable,onChange:this.toggleChange}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customCheckLogin"},s.a.createElement("span",null,"Variation?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-last-name"},"Description"),s.a.createElement("textarea",{rows:"4",cols:"50",type:"text",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Description",name:"Description",value:this.state.Description,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-6"},this.state.isVariation?s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-last-name"},"Variation Notes"),s.a.createElement("textarea",{rows:"4",cols:"50",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Notes",name:"notes",value:this.state.notes,onChange:this.handleChange,required:this.state.isBillable})):s.a.createElement("div",null,console.log(this.state.isVariation))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"file_upload"},"Attachements"),s.a.createElement("input",{type:"file",multiple:!0,id:"file_upload",className:"form-control form-control-alternative",placeholder:"Images",name:"images",onChange:this.handleFileChange}))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"btn btn-secondary",for:"camera"},"Take a photo"),s.a.createElement("input",{type:"file",multiple:!0,accept:"image/*",capture:"camera",className:"form-control form-control-alternative",id:"camera",name:"camera",style:{display:"none"},onChange:this.handleFileChange}))),this.state.images&&this.state.images.length?Array.from(this.state.images).map((function(e){return s.a.createElement("div",null,s.a.createElement("span",null,e.name),s.a.createElement("button",{type:"button",className:"btn btn-icon",name:e.name,onClick:function(a){return t.removeFile(a,e.name)}},s.a.createElement(g.a,{path:b.h,title:"delete",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"})))})):"")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link","data-dismiss":"modal"},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary",value:"submit"},"Edit")))))))))),console.log(this.state.timesheets),s.a.createElement(De.c,{sortable:!0,autoWidth:!0,hover:!0,responsive:!0,checkboxFirstColumn:!1,bordered:!0,data:this.state.timesheetss,fullPagination:!0}),s.a.createElement("button",{className:"btn btn-icon btn-3 btn-primary text-right",type:"button","data-toggle":"modal",onClick:function(){return t.sendApproval(t.state.selectedTimesheet,0)}},"Submit for Approval"))}}]),a}(n.Component);je.displayName="Gallery";var Le=2,Ie=4,Pe=xe.StyleSheet.create({gallery:{marginRight:-Le,overflow:"hidden","@media (min-width: 500px)":{marginRight:-Ie}},thumbnail:{boxSizing:"border-box",display:"block",float:"left",lineHeight:0,paddingRight:Le,paddingBottom:Le,overflow:"hidden","@media (min-width: 500px)":{paddingRight:Ie,paddingBottom:Ie}},landscape:{width:"30%"},square:{paddingBottom:Ie,width:"40%","@media (min-width: 500px)":{paddingBottom:Ie}},source:{border:0,display:"block",height:"auto",maxWidth:"100%",width:"auto"}}),Re=je,Fe=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(d.a)(this,a);for(var l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},this.props.label),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(g.a,{path:b.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(H.a,{className:"form-control datepicker",selected:this.props.selected,onChange:this.props.onChange})),this.props.showError&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},this.props.error)))}}]),a}(n.Component),_e=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleCloseDialog=function(e){l.props.handleCloseDialog(e)},l.state={expenseMain:{reportDate:l.props.reportDate||re()().toDate(),reason:l.props.reason||"New Expense"}},console.log(l.props),l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"my_expense_main_modal","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Expense Envelope")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement(ae.a,{initialValues:this.state.expenseMain,validate:function(){return{}},onSubmit:function(t){e.handleCloseDialog({reportDate:t.reportDate,reason:t.reason})}},(function(t){var a=t.values,l=t.errors,n=t.touched,r=t.handleChange,o=t.handleSubmit,c=t.setFieldValue;return s.a.createElement("form",{onSubmit:o},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(Fe,{label:"Report Date",selected:a.reportDate,onChange:function(e){c("reportDate",e)},showError:!(!l.reportDate||!n.reportDate),error:l.reportDate})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Reason for expense",type:"text",placeholder:"Reason",name:"reason",value:a.reason,onChange:r,showError:!(!l.reason||!n.reason),error:l.reason}))," ")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){return e.handleCloseDialog()}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Continue")))})))))))))}}]),a}(n.Component),Be=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleCloseDialog=function(e){l.props.handleCloseDialog(e)},l.handleOpenMyExpenseDetailsDialog=function(e,t){console.log(t),e||window.$("#my_expense_main_modal").modal("hide");var a=Object(M.a)({},l.state.expenseMain);!1===e&&t&&(a=Object(M.a)(Object(M.a)({},a),{},{reportDate:t.reportDate,reason:t.reason})),l.setState({expenseMainDialog:{isOpen:e,reportDate:t?t.reportDate:"",reason:t?t.reason:""},expenseMain:a},(function(){e&&window.$("#my_expense_main_modal").modal("show")}))},l.saveExpense=function(){var e=Object(q.a)(V.a.mark((function e(t){var a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(M.a)({},l.state.expenseMain),l.setState({isLoading:!0}),!l.props.data||!l.props.data._id){e.next=9;break}return a._id=l.props.data._id,e.next=6,Q("expenses/update","PATCH",{data:a});case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,Q("expenses/add","PUT",a);case 11:n=e.sent;case 12:n.success?(l.props.showToast("Expense ".concat(l.props.data&&l.props.data._id?"update":"added"," successfully"),"success"),t&&l.handleCloseDialog(n.data)):l.props.showToast("Error while saving","error");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.changeStatus=function(){var e=Object(q.a)(V.a.mark((function e(t,a){var n,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(M.a)({},l.state.expenseMain)).expensesList[t].status=a,n._id=l.props.data._id,l.setState({isLoading:!0}),e.next=6,Q("expenses/update","PATCH",{data:n});case 6:(s=e.sent).success?(l.props.showToast("Expense updated successfully","success"),l.setState({expenseMain:n,isLoading:!1}),l.handleCloseDialog(s.data)):(l.setState({isLoading:!1}),l.props.showToast("Error while submitting expense","error"));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),l.handleDeleteExpense=function(e){var t=Object(M.a)({},l.state.expenseMain);t.expensesList.splice(e,1),l.setState({expenseMain:t})},l.state={isLoading:!1,expenseMain:{reportDate:l.props.reportDate||re()().toDate(),reason:l.props.reason||"New Expense",expensesList:l.props.data?Object(W.a)(l.props.data.expensesList):[]},expenseMainDialog:{isOpen:!1,reportDate:l.props.reportDate||re()().toDate(),reason:l.props.reason||"New Expense"},editIndex:-1,expense:{reportDate:"",type:"",isBillable:!1,reason:"",expenseDate:"",customerProject:"",amount:"",paidBy:"me",merchant:"",creditCard:"",details:"",status:"on-hold",file:"",fileUrl:""}},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement("div",{className:"modal fade",id:"my_expense_modal",tabIndex:"-1",role:"dialog","data-backdrop":"static","data-keyboard":"false","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-12 d-flex"},s.a.createElement("div",{className:"mr-2"},s.a.createElement("h3",{className:"mb-0"},this.state.expenseMain.reason),s.a.createElement("strong",null,re()(this.state.expenseMain.reportDate).format("DD MMM YYYY"))),!1!==this.props.canUpdate&&s.a.createElement("div",{className:"pointer",onClick:function(){e.handleOpenMyExpenseDetailsDialog(!0,e.state.expenseMainDialog)}},s.a.createElement(g.a,{path:b.u,title:"Edit",size:1,horizontal:!0,vertical:!0,rotate:180}))))),s.a.createElement("div",{className:"card-body text-left modal-height"},s.a.createElement(ae.a,{initialValues:this.state.expense,validate:function(e){var t={};return e.reportDate||(t.reportDate="Please select date"),e.expenseDate||(t.expenseDate="Please select date"),e.type||(t.type="Please select expense type"),e.amount||(t.amount="Please add amount"),console.log(t),t},onSubmit:function(){var t=Object(q.a)(V.a.mark((function t(a,l){var n,s,r,o,c,i,m,d,u,p,h;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.setSubmitting,n=l.resetForm,s=Object(M.a)({},e.state.expenseMain),!(r=Object(M.a)({},a)).file){t.next=35;break}return o=[],r.fileUrl?o.push(r.fileUrl):(c=G(),i=c.userid,m=Object(M.a)({},r.file),Object.keys(m).length>0&&Object.values(m).forEach((function(e){o.push("expenses/".concat(i,"/").concat((new Date).getTime(),"-").concat(e.name.replace(/&/g,"")))}))),e.setState({loading:!0}),t.next=10,Q("upload/generate-signed-urls","POST",{imageNames:o});case 10:if(!(d=t.sent).success){t.next=33;break}u=0;case 13:if(!(u<d.data.length)){t.next=31;break}return p=d.data[u],(h=new FormData).append("key",p.params.key),h.append("acl",p.params.acl),h.append("x-amz-credential",p.params["x-amz-credential"]),h.append("x-amz-algorithm",p.params["x-amz-algorithm"]),h.append("x-amz-date",p.params["x-amz-date"]),h.append("policy",p.params.policy),h.append("x-amz-signature",p.params["x-amz-signature"]),h.append("file",r.file[0]),t.next=26,fetch(p.form_url,{method:"POST",body:h});case 26:r.fileUrl=o[0],r.file=void 0;case 28:u++,t.next=13;break;case 31:t.next=35;break;case 33:return e.props.showToast("Error while uploading file","error"),t.abrupt("return");case 35:e.state.editIndex>-1?s.expensesList[e.state.editIndex]=r:s.expensesList.push(r),e.setState({editIndex:-1,expenseMain:s},(function(){n({reportDate:"",type:"",isBillable:!1,reason:"",expenseDate:"",customerProject:"",amount:"",paidBy:"me",merchant:"",creditCard:"",details:"",status:"on-hold",file:"",fileUrl:""})}));case 37:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},(function(t){var a=t.values,l=t.errors,n=t.touched,r=(t.handleReset,t.handleChange),o=t.handleSubmit,c=(t.isSubmitting,t.resetForm),i=t.setFieldValue;return s.a.createElement("form",{onSubmit:o},s.a.createElement("div",{className:"pl-lg-4"},(e.props.canUpdate||e.state.editIndex>-1)&&s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(Fe,{label:"Report Date",selected:a.reportDate,onChange:function(e){i("reportDate",e)},showError:!(!l.reportDate||!n.reportDate),error:l.reportDate})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Reason for expense",type:"text",placeholder:"Reason",name:"reason",value:a.reason,onChange:function(e){i("reason",e.target.value)},showError:!(!l.reason||!n.reason),error:l.reason})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"expenseType"},"Expense Type"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"type",id:"expenseType",value:a.type,onChange:r},s.a.createElement("option",{value:""}),k.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}))),l.type&&n.type&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},l.type)))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(Fe,{label:"Expense Date",selected:a.expenseDate,onChange:function(e){i("expenseDate",e)},showError:!(!l.expenseDate||!n.expenseDate),error:l.expenseDate})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customCheckLogin",type:"checkbox",value:a.isBillable,checked:!!a.isBillable,onChange:function(){i("isBillable",!a.isBillable)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customCheckLogin"},s.a.createElement("span",null,"Billable?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Customer Project",type:"text",placeholder:"Project",name:"customerProject",value:a.customerProject,onChange:function(e){i("customerProject",e.target.value)},showError:!(!l.customerProject||!n.customerProject),error:l.customerProject})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Amount",type:"number",placeholder:"Amount",name:"amount",value:a.amount,onChange:function(e){i("amount",Number(e.target.value))},showError:!(!l.amount||!n.amount),error:l.amount})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Merchant",type:"text",placeholder:"Merchant",name:"merchant",value:a.merchant,onChange:function(e){i("merchant",e.target.value)},showError:!(!l.merchant||!n.merchant),error:l.merchant})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" paid_by_me",type:"checkbox",checked:"me"===a.paidBy,onChange:function(){i("paidBy","me")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" paid_by_me"},s.a.createElement("span",null,"Paid by Me")))),s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" paid_by_company",type:"checkbox",checked:"company"===a.paidBy,onChange:function(){i("paidBy","company")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" paid_by_company"},s.a.createElement("span",null,"Paid by Company"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Credit Card",type:"text",placeholder:"Select Credit Card",name:"creditCard",value:a.creditCard,onChange:function(e){i("creditCard",e.target.value)},showError:!(!l.creditCard||!n.creditCard),error:l.creditCard})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Details",type:"text",placeholder:"Details",name:"details",value:a.details,onChange:function(e){i("details",e.target.value)},showError:!(!l.details||!n.details),error:l.details})),s.a.createElement("div",{className:"col-lg-6"},a.fileUrl?s.a.createElement("div",{className:"expense-img-container"},s.a.createElement("img",{src:"".concat(D).concat(a.fileUrl),className:"expense-img",alt:"expense"}),s.a.createElement("span",{className:"ni ni-2x ni-fat-remove expense-remove-icon",onClick:Object(q.a)(V.a.mark((function t(){var l,n;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=Object(M.a)({},a),t.next=3,Q("upload/delete-images","DELETE",{fileUrls:[a.fileUrl]});case 3:t.sent.success?e.props.data&&e.props.data._id&&e.state.editIndex>-1&&(l.fileUrl="",(n=Object(W.a)(e.state.expenseMain.expensesList))[e.state.editIndex]=l,c(Object(M.a)({},l)),e.setState((function(e){return{expenseMain:Object(M.a)(Object(M.a)({},e.expenseMain),{},{expensesList:n})}}),Object(q.a)(V.a.mark((function t(){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.saveExpense();case 2:return t.next=4,e.props.getExpensesFrom(0);case 4:case"end":return t.stop()}}),t)}))))):e.props.showToast("Error while deleting file");case 5:case"end":return t.stop()}}),t)})))})):s.a.createElement(K,{label:"Image",type:"file",name:"file",onChange:function(e){i("file",e.target.files)}})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"d-flex justify-content-end"},0===e.state.expenseMain.expensesList.length&&s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:"btn btn-link  ml-auto",onClick:function(){return e.handleCloseDialog()}},"Close")),s.a.createElement("div",null,s.a.createElement("button",{type:"submit",className:"btn btn-primary"},-1===e.state.editIndex?"Add":"Update"))))),e.state.expenseMain.expensesList.length>0&&s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("br",null),s.a.createElement("div",{className:"bt-table"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Customer:Project"),s.a.createElement("th",null,"Type"),s.a.createElement("th",null,"Details"),s.a.createElement("th",null,"Amount"),s.a.createElement("th",null,"Reimbursable"),s.a.createElement("th",null,"Billable"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"Receipts"),s.a.createElement("th",null,"Attendees"),e.props.data&&e.props.data._id&&s.a.createElement("th",null,"Actions"))),s.a.createElement("tbody",null,e.state.expenseMain.expensesList.map((function(t,a){return(!e.props.selectedStatus||e.props.selectedStatus===t.status)&&s.a.createElement("tr",{key:a},s.a.createElement("td",null,re()(t.expenseDate).format("DD MMM YYYY")),s.a.createElement("td",null,t.customerProject),s.a.createElement("td",null,t.type),s.a.createElement("td",null,t.details),s.a.createElement("td",null,t.amount),s.a.createElement("td",null,"company"===t.paidBy?"Yes":"NO"),s.a.createElement("td",null,t.isBillable?"Yes":"No"),s.a.createElement("td",null,J(t.status)),s.a.createElement("td",null),s.a.createElement("td",null),e.props.data&&e.props.data._id&&s.a.createElement("td",null,!1===e.props.canUpdate?s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",onClick:function(){var l=Object(M.a)({},t);l.reportDate=re()(l.reportDate).toDate(),l.expenseDate=re()(l.expenseDate).toDate(),e.setState({editIndex:a},(function(){c(l)}))},className:"btn btn-sm btn-primary"},"Edit"),"submitted"===t.status&&s.a.createElement("button",{type:"button",onClick:function(){return e.changeStatus(a,"archived")},className:"btn btn-sm btn-success"},"Archive"),"archived"===t.status&&s.a.createElement("button",{type:"button",onClick:function(){return e.changeStatus(a,"submitted")},className:"btn btn-sm btn-success"},"Submit")):s.a.createElement(s.a.Fragment,null,"submitted"!==t.status&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",onClick:function(){if("submitted"===t.status)e.props.showToast("This expense has already been submitted to approver","error");else{var l=Object(M.a)({},t);l.reportDate=re()(l.reportDate).toDate(),l.expenseDate=re()(l.expenseDate).toDate(),e.setState({editIndex:a},(function(){c(l)}))}},className:"btn btn-sm btn-primary"},"Edit"),e.state.expenseMain.expensesList.length>1&&s.a.createElement("button",{type:"button",onClick:function(){return e.handleDeleteExpense(a)},className:"btn btn-sm btn-danger"},"Delete"),s.a.createElement("button",{type:"button",onClick:function(){return e.changeStatus(a,"submitted")},className:"btn btn-sm btn-success"},"Submit")))))}))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:"btn btn-link  ml-auto",onClick:function(){return e.handleCloseDialog()}},"Close")),s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.saveExpense(!0)}},"Save"))))))})))))))),this.state.expenseMainDialog.isOpen&&s.a.createElement(_e,{reportDate:this.state.expenseMain.reportDate,reason:this.state.expenseMain.reason,handleCloseDialog:function(t){return e.handleOpenMyExpenseDetailsDialog(!1,t)}}))}}]),a}(n.Component),Me=(a(82),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).state={},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return console.log("props",this.props.selectedStatus),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Reason"),s.a.createElement("th",{scope:"col"},"Date"),s.a.createElement("th",{scope:"col"},"Amount"),s.a.createElement("th",{scope:"col"},"Due"),!1!==this.props.canUpdate&&s.a.createElement("th",{scope:"col"},"Status"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.props.expenses.map((function(t,a){return s.a.createElement("tr",{key:a,onClick:function(){return e.props.handleAddMyExpenseDialog(!0,a)}},s.a.createElement("td",null,s.a.createElement("span",null,t.reason)),s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null,re()(t.reportDate).format("LL")))),s.a.createElement("td",null,s.a.createElement("span",null,t.amount)),s.a.createElement("td",null,s.a.createElement("span",null,t.due)),!1!==e.props.canUpdate&&s.a.createElement("td",null,s.a.createElement("span",null,J(t.status))),s.a.createElement("td",{className:"text-right"}))})),0===this.props.expenses.length&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"5"},"No Expenses Found"))))))}}]),a}(n.Component)),ze=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).getExpensesList=Object(q.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.a)(l),l.setState({isLoading:!0}),e.next=4,Q("expenses/list","POST",Object(M.a)({},l.state.expenses.search));case 4:a=e.sent,console.log(a),a.success?(a.data=a.data.map((function(e){var t="submitted",a=e.expensesList.reduce((function(e,a){return e.amount+=Number(a.amount),a.isBillable&&(e.due+=Number(a.amount)),"on-hold"===a.status&&(t="on-hold"),a.isBillable&&(e.billable+=Number(a.amount)),e}),{amount:0,due:0,billable:0});return e.amount=a.amount,e.due=a.due,e.status=t,e})),t.setState((function(e){return{expenses:Object(M.a)(Object(M.a)({},e.expenses),{},{data:a.data}),hasMoreResults:a.data.length===l.state.expenses.search.size,isLoading:!1}}))):(l.setState({isLoading:!1}),l.showToast("Error while getting my expenses","error"));case 7:case"end":return e.stop()}}),e)}))),l.getExpensesFrom=function(e){l.setState((function(t){return{expenses:Object(M.a)(Object(M.a)({},t.expenses),{},{search:Object(M.a)(Object(M.a)({},t.expenses.search),{},{from:e})})}}),l.getExpensesList)},l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.handleAddMyExpenseDialog=function(e,t){var a=void 0,n=Object(M.a)({},l.state.expenseMainDialog);void 0!==t&&(a=l.state.expenses.data[t],n.reportDate=re()(a.reportDate).toDate(),n.reason=a.reason),l.setState({expenseDialog:{isOpen:!0,data:a},expenseMainDialog:Object(M.a)({},n)},(function(){console.log("data"),window.$("#my_expense_modal").modal("show")}))},l.handleOpenMyExpenseDetailsDialog=function(e,t){e||window.$("#my_expense_main_modal").modal("hide"),l.setState({expenseMainDialog:{isOpen:e,reportDate:t?t.reportDate:void 0,reason:t?t.reason:""}},(function(){e&&window.$("#my_expense_main_modal").modal("show"),!1===e&&t&&l.handleAddMyExpenseDialog(!0)}))},l.handleCloseDialog=function(e){window.$("#my_expense_modal").modal("hide"),l.setState({expenseDialog:{isOpen:!1,data:void 0}},(function(){e&&l.getExpensesFrom(0)}))},l.state={isLoading:!1,expenses:{data:[],search:{from:0,size:10}},hasMoreResults:!1,expenseDialog:{isOpen:!1,data:void 0},expenseMainDialog:{isOpen:!1,reportDate:void 0,reason:""}},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getExpensesList()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleOpenMyExpenseDetailsDialog(!0)}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(g.a,{path:b.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add"))),s.a.createElement(Me,{expenses:this.state.expenses.data,handleAddMyExpenseDialog:this.handleAddMyExpenseDialog}),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getExpensesFrom(e.state.expenses.search.from-e.state.expenses.search.size)},disabled:0===this.state.expenses.search.from},"Previous"),s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getExpensesFrom(e.state.expenses.search.from+e.state.expenses.search.size)},disabled:!this.state.hasMoreResults},"Next")),this.state.expenseDialog.isOpen&&s.a.createElement(Be,{showToast:this.showToast,getExpensesFrom:this.getExpensesFrom,reportDate:this.state.expenseMainDialog.reportDate,canUpdate:!0,reason:this.state.expenseMainDialog.reason,data:this.state.expenseDialog.data,handleCloseDialog:this.handleCloseDialog}),this.state.expenseMainDialog.isOpen&&s.a.createElement(_e,{handleCloseDialog:function(t){return e.handleOpenMyExpenseDetailsDialog(!1,t)}}))}}]),a}(n.Component),He=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(d.a)(this,a);for(var l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={},e}return Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label"},this.props.label),s.a.createElement("textarea",{className:"form-control form-control-alternative ".concat(this.props.showError?"is-invalid":""),type:this.props.type,placeholder:this.props.placeholder,name:this.props.name,value:this.props.value,onChange:this.props.onChange}),this.props.showError&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},this.props.error)))}}]),a}(n.Component),Ue=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).getCustomerList=Object(q.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.a)(l),l.setState({isLoading:!0}),e.next=4,Q("client/listAll","POST",{});case 4:(a=e.sent).success?t.setState({subClients:a.data,isLoading:!1}):(l.setState({isLoading:!1}),l.showToast("Error while getting my sub clients","error"));case 6:case"end":return e.stop()}}),e)}))),l.showToast=function(e,t){l.props.showToast(e,t)},l.handleCloseDialog=function(e){l.props.handleCloseDialog(e)},l.state={initialValues:l.props.data?l.props.data:{DisplayName:"",parentId:"",Notes:""},subClients:[],isLoading:!1},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getCustomerList()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement("div",{className:"modal fade",id:"add_customer_modal","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-md",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Customer Info")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement(ae.a,{initialValues:this.state.initialValues,validate:function(e){var t={};return e.DisplayName||(t.DisplayName="Enter customer/project name"),t},onSubmit:function(){var t=Object(q.a)(V.a.mark((function t(a){var l,n;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l={DisplayName:a.DisplayName,parentId:a.parentId,Notes:a.Notes},e.setState({isLoading:!0}),!a._id){t.next=9;break}return l=Object(M.a)(Object(M.a)({},e.props.data),l),t.next=6,Q("client/update","PATCH",l);case 6:n=t.sent,t.next=12;break;case 9:return t.next=11,Q("client/add","POST",l);case 11:n=t.sent;case 12:n.success?(e.showToast("Details ".concat(a._id?"updated":"added"," successfully"),"success"),e.handleCloseDialog(n.data)):e.showToast("Error while getting my expenses","error"),e.setState({isLoading:!1});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var a=t.values,l=t.errors,n=t.touched,r=t.handleChange,o=t.handleSubmit;t.setFieldValue,t.resetForm;return s.a.createElement("form",{onSubmit:o},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement(K,{label:"Customer/Project",type:"text",placeholder:"Customer/Project",name:"DisplayName",value:a.DisplayName,onChange:r,showError:!(!l.DisplayName||!n.DisplayName),error:l.DisplayName}),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label"},"Sub Project Of"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",label:"Sub Project Of",type:"text",placeholder:"Sub Project Of",name:"parentId",value:a.parentId,onChange:r},s.a.createElement("option",{value:""}),e.state.subClients.map((function(e,t){return s.a.createElement("option",{value:e._id,key:t},e.DisplayName)})))),s.a.createElement(He,{label:"Description",type:"text",placeholder:"Description",name:"Notes",value:a.Notes,onChange:r,showError:!(!l.Notes||!n.Notes),error:l.Notes,required:!0})),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){return e.handleCloseDialog(void 0)}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))})))))))))}}]),a}(n.Component),Ve=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleCloseDialog=function(e){l.props.handleCloseDialog(e)},l.state={},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ae.a,{initialValues:this.state.initialValues,validate:function(e){return{}},onSubmit:function(){var t=Object(q.a)(V.a.mark((function t(a){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({isLoading:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var a=t.values,l=t.errors,n=t.touched,r=(t.handleChange,t.handleSubmit),o=t.setFieldValue;t.resetForm;return s.a.createElement("form",{onSubmit:r},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Project",type:"text",placeholder:"Project",name:"project",value:a.project,onChange:function(e){o("project",e.target.value)},showError:!(!l.project||!n.project),error:l.project})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Sub Project of",type:"text",placeholder:"Sub Project of",name:"subProjectOf",value:a.subProjectOf,onChange:function(e){o("subProjectOf",e.target.value)},showError:!(!l.subProjectOf||!n.subProjectOf),error:l.subProjectOf})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Project Code",type:"text",placeholder:"Project Code",name:"projectCode",value:a.projectCode,onChange:function(e){o("projectCode",e.target.value)},showError:!(!l.projectCode||!n.projectCode),error:l.projectCode})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Approver",type:"text",placeholder:"Approver",name:"approver",value:a.approver,onChange:function(e){o("approver",e.target.value)},showError:!(!l.approver||!n.approver),error:l.approver})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Class",type:"text",placeholder:"Class",name:"class",value:a.class,onChange:function(e){o("class",e.target.value)},showError:!(!l.class||!n.class),error:l.class})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Phone",type:"text",placeholder:"Phone",name:"phone",value:a.phone,onChange:function(e){o("phone",e.target.value)},showError:!(!l.phone||!n.phone),error:l.phone})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Fax",type:"text",placeholder:"Fax",name:"fax",value:a.fax,onChange:function(e){o("fax",e.target.value)},showError:!(!l.fax||!n.fax),error:l.fax})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"description",type:"text",placeholder:"description",name:"description",value:a.description,onChange:function(e){o("description",e.target.value)},showError:!(!l.description||!n.description),error:l.description})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Address",type:"text",placeholder:"Address",name:"address",value:a.address,onChange:function(e){o("address",e.target.value)},showError:!(!l.address||!n.address),error:l.address})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"City",type:"text",placeholder:"City",name:"city",value:a.city,onChange:function(e){o("city",e.target.value)},showError:!(!l.city||!n.city),error:l.city})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"State",type:"text",placeholder:"State",name:"state",value:a.state,onChange:function(e){o("state",e.target.value)},showError:!(!l.state||!n.state),error:l.state})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"ZipCode",type:"text",placeholder:"ZipCode",name:"zipCode",value:a.zipCode,onChange:function(e){o("zipCode",e.target.value)},showError:!(!l.zipCode||!n.zipCode),error:l.zipCode})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Country",type:"text",placeholder:"Country",name:"country",value:a.country,onChange:function(e){o("country",e.target.value)},showError:!(!l.country||!n.country),error:l.country})))),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"form-group mt-4 h-52px"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customStatus",type:"checkbox",value:a.Status,checked:!!a.Status,onChange:function(){o("Status",!a.Status)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customStatus"},s.a.createElement("span",null,"Status?"))))),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Manager",type:"text",placeholder:"Manager",name:"manager",value:a.manager,onChange:function(e){o("manager",e.target.value)},showError:!(!l.manager||!n.manager),error:l.manager})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Sales Rep",type:"text",placeholder:"Sales Rep",name:"salesRep",value:a.salesRep,onChange:function(e){o("salesRep",e.target.value)},showError:!(!l.salesRep||!n.salesRep),error:l.salesRep})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Email",type:"text",placeholder:"Email",name:"email",value:a.email,onChange:function(e){o("email",e.target.value)},showError:!(!l.email||!n.email),error:l.email})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Group",type:"text",placeholder:"Group",name:"group",value:a.group,onChange:function(e){o("group",e.target.value)},showError:!(!l.group||!n.group),error:l.group})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"Begin Date",type:"date",placeholder:"Begin Date",name:"beginDate",value:a.beginDate,onChange:function(e){o("beginDate",e.target.value)},showError:!(!l.beginDate||!n.beginDate),error:l.beginDate})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(K,{label:"End Date",type:"date",placeholder:"End Date",name:"endDate",value:a.endDate,onChange:function(e){o("endDate",e.target.value)},showError:!(!l.endDate||!n.endDate),error:l.endDate})))),s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(){return e.handleCloseDialog()}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save"))))))})))}}]),a}(n.Component),qe=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).assignTask=function(e,t){if(l.state.employeeSelected){var a=l.state.unassignedTasks[t].Id,n=l.state.assignedTasks;n.push(l.state.unassignedTasks[t]);var s=l.state.unassignedTasks,r=!1;s.splice(t,1);for(var o=l.state.updates,c=0;c<l.state.updates.length;c++)if(o[c].employeeId==l.state.employeeSelected){o[c].tasks?o[c].tasks.push(a):o[c].tasks=[a],r=!0;break}r||o.push({employeeId:l.state.employeeSelected,tasks:[a]}),l.setState({updates:o,assignedTasks:n,unassignedTasks:s})}else l.props.showToast("Select an employee to assign!","error")},l.handleDropdown=function(e){var t=l.state.updates.filter((function(t){return t.employeeId==e.target.value})),a=[],n=[];t&&t.length&&(a=t[0].tasks),a&&a.length?(n=l.props.taskList.filter((function(e){return-1==a.indexOf(e.Id)})),a=l.props.taskList.filter((function(e){return-1!=a.indexOf(e.Id)}))):n=Array.from(l.props.taskList),l.setState({assignedTasks:a,unassignedTasks:n,employeeSelected:e.target.value})},l.save=function(){l.setState({loading:!0});var e={teamDetails:l.state.updates,token:localStorage.getItem("token"),clientId:l.props.data.Id};N.a.post("http://localhost:9000/client/addToTeam",e).then((function(e){l.setState({loading:!1}),e.data.success?l.props.showToast(e.data.message,"success"):l.props.showToast(e.data.message,"error")})).catch((function(e){l.setState({loading:!1}),l.props.showToast(e.message,"error")}))},l.unassignTask=function(e,t){if(l.state.employeeSelected){var a=l.state.assignedTasks[t],n=l.state.assignedTasks;n.splice(t,1);var s=l.state.unassignedTasks;s.push(a);for(var r=l.state.updates,o=0;o<r.length;o++)r[o].employeeId==l.state.employeeSelected&&(r[o].tasks=r[o].tasks?r[o].tasks.filter((function(e){return e!=a.Id})):[],r[o].tasks.length||(r=r.splice(o,1)));l.setState({updates:r,assignedTasks:n,unassignedTasks:s})}else l.props.showToast("Select an employee to assign!","error")},l.state={updates:{},edit:!1,assignedTasks:[],unassignedTasks:[],employeeSelected:"",loading:!1},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.teamDetails?this.props.teamDetails.map((function(e){return{employeeId:e.employeeId,tasks:e.tasks}})):[];if(void 0!=this.props.selectedId){var a=this.props.teamDetails.filter((function(t){return t.employeeId==e.props.selectedId}))[0],l=a.tasks,n=this.props.taskList.filter((function(e){return-1!=l.indexOf(e.Id)})),s=this.props.taskList.filter((function(e){return-1==l.indexOf(e.Id)}));this.setState({index:!0,assignedTasks:n,unassignedTasks:s,updates:t,employeeSelected:a.employeeId})}else this.setState({index:!1,assignedTasks:[],unassignedTasks:Array.from(this.props.taskList),updates:t})}},{key:"render",value:function(){var e=this,t={display:"block",maxHeight:"250px",overflowY:"auto",width:"100%",padding:"1rem"},a={borderColor:"lightGrey",borderRadius:"5px",borderStyle:"solid",margin:"1rem"};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"task_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Add employees to project")))),s.a.createElement("div",{className:"card-body text-left"},this.state.loading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):"",s.a.createElement("section",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"linkedEmployee"},"Select Employee"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"linkedEmployee",id:"linkedEmployee",value:this.state.employeeSelected,onChange:function(t){return e.handleDropdown(t,"linkedEmployee")}},s.a.createElement("option",{value:""}),this.props.employeeList?this.props.employeeList.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.id,key:"emp".concat(t)},e.displayName))})):""))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"column col-lg-5 col-md-5 col-sm-12 col-xs-12",style:a},s.a.createElement("h3",null,"Tasks Available"),s.a.createElement("table",{style:t},s.a.createElement("tbody",null,this.state.unassignedTasks&&this.state.unassignedTasks.length?this.state.unassignedTasks.map((function(t,a){return s.a.createElement("tr",null,s.a.createElement("td",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement("div",null,s.a.createElement("label",null,t.FullyQualifiedName))),s.a.createElement("td",null,s.a.createElement("div",{className:"pointer col-lg-12 col-md-12 col-sm-12 col-xs-12",onClick:function(t){return e.assignTask(t,a)}},s.a.createElement(g.a,{path:b.w,color:"blue",title:"Add",size:1,horizontal:!0,vertical:!0}))))})):""))),s.a.createElement("div",{className:"column col-lg-5 col-md-5 col-sm-12 col-xs-12",style:a},s.a.createElement("h3",null,"Tasks Assigned"),s.a.createElement("table",{style:t},s.a.createElement("tbody",null,this.state.assignedTasks&&this.state.assignedTasks.length?this.state.assignedTasks.map((function(t,a){return s.a.createElement("tr",null,s.a.createElement("td",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement("div",null,s.a.createElement("label",null,t.FullyQualifiedName))),s.a.createElement("td",null,s.a.createElement("div",{className:"pointer col-lg-12 col-md-12 col-sm-12 col-xs-12",onClick:function(t){return e.unassignTask(t,a)}},s.a.createElement(g.a,{path:b.q,color:"red",title:"Remove",size:1,horizontal:!0,vertical:!0}))))})):"")))),s.a.createElement("div",{className:"row",style:{justifyContent:"center",marginTop:"2rem"}},s.a.createElement("div",{className:"column m-1"},s.a.createElement("button",{onClick:this.props.handleCloseDialog,className:"btn btn-secondary"},"Close")),s.a.createElement("div",{className:"column m-1"},s.a.createElement("button",{onClick:this.save,className:"btn btn-primary"},"Save")))))))))))}}]),a}(s.a.Component),We=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleCloseDialog=function(e){l.props.handleCloseDialog(e)},l.openEditPopUp=function(e,t){var a=e.target.name?e.target.name.split("_")[1]:void 0;l.setState({selectedId:a,editPopUpOpen:!0},(function(){window.$("#task_dialog").modal("show")}))},l.closeEditPopUp=function(e,t){l.setState({editPopUpOpen:!1,loading:!0}),window.$("#task_dialog").modal("hide");var a={token:localStorage.getItem("token")};N.a.post("http://localhost:9000/client/list",a).then((function(e){if(e.data.success){var t=e.data.data.filter((function(e){return e.Id==l.props.data.Id}));l.setState({teams:t[0].teamDetails,teamDetails:t[0].employees,data:t[0],loading:!1}),l.props.updateCustomers(e.data.data)}}))},l.state={teams:[],employeeList:[],taskList:[],teamDetails:[],editPopUpOpen:!1,selectedId:"",data:[],loading:!1},l}return Object(u.a)(a,[{key:"showContent",value:function(e){document.getElementById(e.target.getAttribute("name")).classList.toggle("removeContent"),e.target.classList.toggle("active")}},{key:"componentDidMount",value:function(){var e=this,t=this;this.setState({loading:!0});var a={token:localStorage.getItem("token")};Promise.all([N.a.post("http://localhost:9000/employee/getAllEmployees",a),N.a.post("http://localhost:9000/task/list",a)]).then((function(a){var l=Object(ne.a)(a,2),n=l[0],s=l[1];t.setState({teams:e.props.data.teamDetails,employeeList:n.data.data,taskList:s.data.data,teamDetails:e.props.data?e.props.data.employees:[],data:e.props.data,loading:!1})}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.loading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):"",s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(t){return e.openEditPopUp(t)}},"Add New Assignment")),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null),s.a.createElement("th",{scope:"col"},"Name"),s.a.createElement("th",{scope:"col"},"Begin Date"),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,this.state.teams&&this.state.teams.length?this.state.teams.map((function(t,a){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{className:"thead-light",key:a},s.a.createElement("td",null," ",s.a.createElement("div",null,s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("span",{name:"team_"+t.employee.Id,onClick:function(t){return e.showContent(t)},className:"accordion"})))),s.a.createElement("td",null,s.a.createElement("p",null,t.employee.DisplayName)),s.a.createElement("td",null,t.beginDate?s.a.createElement("p",null,re()(t.beginDate).format("Do MMM dddd YYYY")):""),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-info",name:"button_"+t.employee.Id,onClick:function(t){return e.openEditPopUp(t,a)}},"edit"))),s.a.createElement("tr",{className:"removeContent",id:"team_"+t.employee.Id},s.a.createElement("td",null),s.a.createElement("td",null,s.a.createElement("h3",null,"Tasks Assigned"),t.tasks?t.tasks.map((function(e,t){return s.a.createElement("p",null,e.FullyQualifiedName)})):s.a.createElement("p",null,"No Active tasks!"))))})):""))),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.handleCloseDialog()}},"Close")),this.state.editPopUpOpen&&s.a.createElement(qe,{showToast:this.props.showToast,handleCloseDialog:this.closeEditPopUp,teamDetails:this.state.teamDetails,selectedId:this.state.selectedId,taskList:this.state.taskList,employeeList:this.state.employeeList,data:this.state.data}))}}]),a}(s.a.Component),Ge=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleOpenBillRateDialog=function(e,t){e||window.$("#bill_rate_dialog").modal("hide");var a=Object(W.a)(l.state.costRates);void 0!==t&&a.splice(t,1),l.setState({costRateDialog:{isOpen:e,data:void 0!==t?Object(M.a)({},l.state.costRates[t]):void 0,editIndex:t,costRates:a}},(function(){e&&window.$("#bill_rate_dialog").modal("show")}))},l.handleCloseBillRateDialog=function(e){console.log("cost rate data ",e),window.$("#bill_rate_dialog").modal("hide"),l.setState({costRateDialog:{isOpen:!1,data:void 0,editIndex:-1}},(function(){e&&l.getCostRates(0)}))},l.state={billRates:[{date:"01/12/2020",rate:12}]},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h5",null,"Bill Rate/Hr"),s.a.createElement("button",{onClick:function(){return e.handleOpenBillRateDialog(!0)},className:"btn btn-sm btn-primary"},"Add")),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Begin Date"),s.a.createElement("th",{scope:"col"},"Rate/hr"))),s.a.createElement("tbody",null,this.state.billRates.map((function(e,t){return s.a.createElement("tr",{key:"costRate".concat(t)},s.a.createElement("td",null,e.date),s.a.createElement("td",null,e.rate))})))))))))}}]),a}(n.Component),Ye=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleCloseDialog=function(e){l.props.handleCloseDialog(e)},l.setActiveIndex=function(e){l.setState({selectedTabIndex:e})},l.state={selectedTabIndex:0},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"customer_edit_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- full-page-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Task")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement("ul",{className:"nav nav-pills"},s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(0)}},s.a.createElement("a",{className:"nav-link ".concat(0===this.state.selectedTabIndex?"active":""),href:"#"},"General")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(1)}},s.a.createElement("a",{className:"nav-link ".concat(1===this.state.selectedTabIndex?"active":""),href:"#"},"Team")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(2)}},s.a.createElement("a",{className:"nav-link ".concat(2===this.state.selectedTabIndex?"active":""),href:"#"},"Billing")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(3)}},s.a.createElement("a",{className:"nav-link ".concat(3===this.state.selectedTabIndex?"active":""),href:"#"},"Transactions")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(4)}},s.a.createElement("a",{className:"nav-link ".concat(4===this.state.selectedTabIndex?"active":""),href:"#"},"Invoice Pref."))),s.a.createElement("br",null),0===this.state.selectedTabIndex&&s.a.createElement(Ve,{handleCloseDialog:this.handleCloseDialog}),1===this.state.selectedTabIndex&&s.a.createElement(We,{handleCloseDialog:this.handleCloseDialog,showToast:this.props.showToast,data:this.props.data,updateCustomers:this.props.updateCustomers}),2===this.state.selectedTabIndex&&s.a.createElement(Ge,{handleCloseDialog:this.handleCloseDialog}))))))))}}]),a}(n.Component),Qe=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).updateCustomers=function(e){l.setState({customers:e})},l.getCustomerList=function(){var e=Object(q.a)(V.a.mark((function e(t){var a,n,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(p.a)(l),n=10*t.selected,l.setState({isLoading:!0}),e.next=5,Q("client/list","POST",{from:n});case 5:(s=e.sent).success?a.setState({customers:s.data,isLoading:!1,totalCount:Math.ceil(s.totalCount/10)}):(l.setState({isLoading:!1}),l.showToast("Error while getting customers","error"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.handleAddCustomer=function(){l.setState({customerDialog:{isOpen:!0,editIndex:-1,data:void 0}},(function(){window.$("#add_customer_modal").modal("show")}))},l.handleEditCustomer=function(e){l.setState({customerDialog:{isOpen:!0,editIndex:e,data:l.state.customers[e]}},(function(){window.$("#customer_edit_dialog").modal("show")}))},l.handleCloseDialog=function(){var e=Object(q.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.$("#customer_edit_dialog").modal("hide"),window.$("#add_customer_modal").modal("hide"),l.setState({customerDialog:{isOpen:!1,editIndex:-1,data:void 0}},(function(){t&&Object(p.a)(l).getCustomerList({selected:0})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l.state={isLoading:!1,customers:[],totalCount:0,customerDialog:{isOpen:!1,editIndex:-1,data:void 0}},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getCustomerList({selected:0})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleAddCustomer()}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(g.a,{path:b.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Customer:Project"),s.a.createElement("th",{scope:"col"},"Team"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.customers.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",null,t.FullyQualifiedName)),s.a.createElement("td",null,s.a.createElement("span",null,t.employees?"All Employees":"N/A")),s.a.createElement("td",null,s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleEditCustomer(a)},className:"btn btn-sm btn-primary"},"Edit"))))})))),s.a.createElement(Ne.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.totalCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.getCustomerList,pageClassName:"page-item",pageLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active"})),this.state.customerDialog.isOpen&&s.a.createElement(s.a.Fragment,null,-1===this.state.customerDialog.editIndex?s.a.createElement(Ue,{data:this.state.customerDialog.data,showToast:this.showToast,handleCloseDialog:this.handleCloseDialog}):s.a.createElement(Ye,{data:this.state.customerDialog.data,showToast:this.showToast,handleCloseDialog:this.handleCloseDialog,updateCustomers:this.updateCustomers})))}}]),a}(n.Component),Je=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).getExpensesList=Object(q.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.a)(l),l.setState({isLoading:!0}),e.next=4,Q("expenses/admin-list","POST",Object(M.a)(Object(M.a)({},l.state.expenses.search),{},{status:l.state.selectedStatus}));case 4:a=e.sent,console.log(a),a.success?(a.data=a.data.map((function(e){var t="submitted",a=e.expensesList.reduce((function(e,a){return a.status===l.state.selectedStatus&&(e.amount+=Number(a.amount),a.isBillable&&(e.due+=Number(a.amount)),"on-hold"===a.status&&(t="on-hold"),a.isBillable&&(e.billable+=Number(a.amount))),e}),{amount:0,due:0,billable:0});return e.amount=a.amount,e.due=a.due,e.status=t,e})),t.setState((function(e){return{expenses:Object(M.a)(Object(M.a)({},e.expenses),{},{data:a.data}),hasMoreResults:l.state.expenses.search.size===a.data.length,isLoading:!1}}))):(l.setState({isLoading:!1}),l.showToast("Error while getting my expenses","error"));case 7:case"end":return e.stop()}}),e)}))),l.getExpensesFrom=function(e){l.setState((function(t){return{expenses:Object(M.a)(Object(M.a)({},t.expenses),{},{search:Object(M.a)(Object(M.a)({},t.expenses.search),{},{from:e})})}}),l.getExpensesList)},l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.handleAddMyExpenseDialog=function(e,t){var a=void 0,n=Object(M.a)({},l.state.expenseMainDialog);void 0!==t&&(a=l.state.expenses.data[t],n.reportDate=re()(a.reportDate).toDate(),n.reason=a.reason),l.setState({expenseDialog:{isOpen:!0,data:a},expenseMainDialog:Object(M.a)({},n)},(function(){console.log("data"),window.$("#my_expense_modal").modal("show")}))},l.handleCloseDialog=function(e){window.$("#my_expense_modal").modal("hide"),l.setState({expenseDialog:{isOpen:!1,data:void 0}},(function(){e&&(l.props.updateExpenseCount(),l.getExpensesFrom(0))}))},l.state={isLoading:!1,expensesCountDetails:{},expenses:{data:[],search:{from:0,size:10}},hasMoreResults:!1,expenseDialog:{isOpen:!1,data:void 0},selectedStatus:""},l}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.selectedStatus!==this.state.selectedStatus&&(console.log("status updated"),this.setState((function(e){return{selectedStatus:a.props.selectedStatus,expenses:Object(M.a)(Object(M.a)({},e.expenses),{},{search:Object(M.a)(Object(M.a)({},e.expenses.search),{},{from:0})})}}),this.getExpensesList))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-6"})),s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement(Me,{selectedStatus:this.state.selectedStatus,canUpdate:!1,expenses:this.state.expenses.data,handleAddMyExpenseDialog:this.handleAddMyExpenseDialog}),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getExpensesFrom(e.state.expenses.search.from-e.state.expenses.search.size)},disabled:0===this.state.expenses.search.from},"Previous"),s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getExpensesFrom(e.state.expenses.search.from+e.state.expenses.search.size)},disabled:!this.state.hasMoreResults},"Next")),this.state.expenseDialog.isOpen&&s.a.createElement(Be,{showToast:this.showToast,getExpensesFrom:this.getExpensesFrom,reportDate:this.state.expenseMainDialog.reportDate,canUpdate:!1,selectedStatus:this.state.selectedStatus,reason:this.state.expenseMainDialog.reason,data:this.state.expenseDialog.data,handleCloseDialog:this.handleCloseDialog}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.selectedStatus!==t.selectedStatus?{selectedStatus:e.selectedStatus}:null}}]),a}(n.Component),Ke=(a(425),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).componentDidMount=Object(q.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getExpensesCount();case 2:case"end":return e.stop()}}),e)}))),l.getExpensesCount=Object(q.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.setState({isLoading:!0}),e.next=3,Q("expenses/admin-expenses-count","GET");case 3:(t=e.sent).success?(a=t.data.reduce((function(e,t){return e[t.status]=t,e}),{}),l.setState({expensesCountDetails:a,isLoading:!1})):(l.setState({isLoading:!1}),l.showToast("Error while getting my expenses","error"));case 5:case"end":return e.stop()}}),e)}))),l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.state={expensesCountDetails:{}},l}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.isUpdateCount!==this.state.isUpdateCount&&this.setState((function(e){return{isUpdateCount:a.props.isUpdateCount}}),this.getExpensesCount)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"row"},A.map((function(t){return s.a.createElement("div",{key:t.value,className:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-xs-12",onClick:function(){return e.props.onStatusSelected(t.value)}},s.a.createElement("div",{className:"align-items-center d-flex status-card  ".concat(t.value," ").concat(t.value===e.props.selectedStatus?"selected":"")},s.a.createElement("div",{className:"align-items-center d-flex justify-content-center status-count"},e.state.expensesCountDetails[t.value]?e.state.expensesCountDetails[t.value].count:0),s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("label",null,t.label),s.a.createElement("span",null,e.state.expensesCountDetails[t.value]?e.state.expensesCountDetails[t.value].totalAmount:0))))}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isUpdateCount!==t.isUpdateCount?{isUpdateCount:e.isUpdateCount}:null}}]),a}(n.Component)),Xe=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).showToast=function(e,t){l.props.showToast(e,t)},l.handleCloseDialog=function(e){l.props.handleCloseDialog(e)},l.state={initialValues:l.props.data?l.props.data:{Active:!1,Name:"",ParentRef:"",Type:"Service Item",ExpenseAccountRef:"",Description:"",PurchaseTaxIncluded:!1,ClassRef:"",Taxable:!1,PurchaseCost:"",UnitPrice:""},subClients:[],isLoading:!1},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"list_task_add_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Task")))),s.a.createElement("div",{className:"card-body text-left"},this.state.isLoading&&s.a.createElement("div",{className:"centered loading-dialog"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(ae.a,{initialValues:this.state.initialValues,validate:function(e){var t={};return e.Name||(t.Name="Required"),t},onSubmit:function(){var t=Object(q.a)(V.a.mark((function t(a){var l;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isLoading:!0}),!a._id){t.next=7;break}return t.next=4,Q("task/update","PATCH",a);case 4:l=t.sent,t.next=10;break;case 7:return t.next=9,Q("task/add","POST",a);case 9:l=t.sent;case 10:l.success?(e.showToast("Task ".concat(a._id?"updated":"added"," successfully"),"success"),e.handleCloseDialog(l.data)):(e.setState({isLoading:!1}),e.showToast("Error while getting task","error"));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var a=t.values,l=t.errors,n=t.touched,r=t.handleChange,o=t.handleSubmit,c=t.setFieldValue;t.resetForm;return s.a.createElement("form",{onSubmit:o},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customActive",type:"checkbox",value:a.Active,checked:!!a.Active,onChange:function(){c("Active",!a.Active)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customActive"},s.a.createElement("span",null,"Active?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Task",type:"text",placeholder:"Task",name:"Name",value:a.Name,onChange:function(e){c("Name",e.target.value)},showError:!(!l.Name||!n.Name),error:l.Name})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"sub_Item"},"Sub Items of"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"ParentRef",id:"sub_Item",value:a.ParentRef,onChange:r},s.a.createElement("option",{value:""}),(e.props.subItems||[]).map((function(e,t){return s.a.createElement("option",{value:e._id,key:t},e.task)}))),l.ParentRef&&n.ParentRef&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},l.ParentRef))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Task Type",type:"text",placeholder:"Task Type",name:"Type",value:a.Type,onChange:function(e){c("Type",e.target.value)},showError:!(!l.Type||!n.Type),error:l.Type})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"ExpenseAccountRef"},"Account"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"ExpenseAccountRef",id:"ExpenseAccountRef",value:a.ExpenseAccountRef,onChange:r},s.a.createElement("option",{value:""}),S.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}))),l.ExpenseAccountRef&&n.ExpenseAccountRef&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},l.ExpenseAccountRef))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Description",type:"text",placeholder:"Description",name:"Description",value:a.Description,onChange:function(e){c("Description",e.target.value)},showError:!(!l.Description||!n.Description),error:l.Description})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customBillable",type:"checkbox",value:a.PurchaseTaxIncluded,checked:!!a.PurchaseTaxIncluded,onChange:function(){c("PurchaseTaxIncluded",!a.PurchaseTaxIncluded)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customBillable"},s.a.createElement("span",null,"Billable?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Class",type:"text",placeholder:"Class",name:"ClassRef",value:a.ClassRef,onChange:function(e){c("ClassRef",e.target.value)},showError:!(!l.ClassRef||!n.ClassRef),error:l.ClassRef})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customTaxable",type:"checkbox",value:a.Taxable,checked:!!a.Taxable,onChange:function(){c("Taxable",!a.Taxable)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customTaxable"},s.a.createElement("span",null,"Taxable?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Cost Rate",type:"text",placeholder:"Cost Rate",name:"PurchaseCost",value:a.PurchaseCost,onChange:function(e){c("PurchaseCost",e.target.value)},showError:!(!l.PurchaseCost||!n.PurchaseCost),error:l.PurchaseCost})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Bill Rate",type:"text",placeholder:"Bill Rate",name:"UnitPrice",value:a.UnitPrice,onChange:function(e){c("UnitPrice",e.target.value)},showError:!(!l.UnitPrice||!n.UnitPrice),error:l.UnitPrice})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(){return e.handleCloseDialog(void 0)}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))})))))))))}}]),a}(n.Component),Ze=s.a.createContext(),$e=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(d.a)(this,a);for(var l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={open:!1,options:{},yesText:"",isHideCancel:!1,show:function(t,a,l,n,s){e.setState({open:!e.state.open,heading:t,body:a,successHandler:l,yesText:n,isHideCancel:s},(function(){window.$("#confirm_dialog").modal("show")}))}},e.handleCloseDialog=function(){e.setState({open:!1},(function(){window.$("#confirm_dialog").modal("hide")}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(Ze.Provider,{value:Object(M.a)({},this.state)},s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"confirm_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-md",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},this.state.heading)))),s.a.createElement("div",{className:"card-body text-left"},this.state.body),s.a.createElement("div",{className:"modal-footer"},!this.state.isHideCancel&&s.a.createElement("button",{type:"button",className:"btn btn-link  ml-auto",onClick:this.handleCloseDialog},"Cancel"),s.a.createElement("button",{onClick:function(){e.state.successHandler(),e.handleCloseDialog()},className:"btn btn-primary"},this.state.yesText||"Yes"))))))),this.props.children))}}]),a}(n.Component),et=function(e){return function(t){return s.a.createElement(Ze.Consumer,null,(function(a){return s.a.createElement(e,Object.assign({},t,{confirmDialog:a}))}))}},tt=et(function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).componentDidMount=Object(q.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getTasksList();case 2:case"end":return e.stop()}}),e)}))),l.getTasksList=Object(q.a)(V.a.mark((function e(){var t,a,n,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.setState({isLoading:!0}),t=Object(M.a)({},l.state.search),e.next=4,Q("task/list","POST",t);case 4:(a=e.sent).success?(n=[],s=a.data.reduce((function(e,t){e[t._id]=t.task;var a=Object(M.a)({},t);return a.ParentRef&&a.ParentRef.value&&(a.ParentRef=a.ParentRef.value),a.ExpenseAccountRef&&a.ExpenseAccountRef.value&&(a.ExpenseAccountRef=a.ExpenseAccountRef.value),a.ClassRef&&a.ClassRef.value&&(a.ClassRef=a.ClassRef.value),n.push(a),e}),{}),l.setState({tasksList:n,allTasksList:n,tasksDic:s,hasMoreResults:a.data.length===l.state.search.size,isLoading:!1})):(l.setState({isLoading:!1}),l.showToast("Error while getting my tasks","error"));case 6:case"end":return e.stop()}}),e)}))),l.getTasksListFrom=function(e){l.setState((function(t){return{search:Object(M.a)(Object(M.a)({},t.search),{},{from:e})}}),l.getTasksList)},l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.handleOpenTaskDialog=function(e,t){e||window.$("#list_task_add_dialog").modal("hide");var a=Object(W.a)(l.state.allTasksList);if(void 0!==t){var n=l.state.tasksList[t],s=a.findIndex((function(e){return e._id===n._id}));a.splice(s,1)}l.setState({taskDialog:{isOpen:e,data:void 0!==t?Object(M.a)({},l.state.tasksList[t]):void 0,editIndex:t,tasks:a}},(function(){e&&window.$("#list_task_add_dialog").modal("show")}))},l.handleCloseDialog=function(e){window.$("#list_task_add_dialog").modal("hide"),l.setState({taskDialog:{isOpen:!1,data:void 0,editIndex:-1,tasks:[]}},(function(){e&&l.getTasksListFrom(0)}))},l.handleDelete=function(e){l.canDeleteTask(l.state.tasksList[e])?l.props.confirmDialog.show("Are you sure","Do you want to delete",Object(q.a)(V.a.mark((function t(){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.setState({isLoading:!0}),t.next=3,Q("tasks/".concat(l.state.tasksList[e]._id),"DELETE");case 3:t.sent.success?(l.showToast("Task deleted successfully","success"),(a=Object(W.a)(l.state.tasksList)).splice(e,1),l.setState({tasksList:a,isLoading:!1})):(l.setState({isLoading:!1}),l.showToast("Error while getting deleting tasks","error"));case 5:case"end":return t.stop()}}),t)})))):l.props.confirmDialog.show("Can not Delete","It is linked with another task. You can make in active",Object(q.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),"Okay",!0)},l.handleStatusChange=function(e){var t=Object(M.a)({},e);l.setState((function(e){var a;return{search:Object(M.a)(Object(M.a)({},e.search),{},(a={},Object(m.a)(a,t.target.name,t.target.value),Object(m.a)(a,"from",0),a))}}),(function(){l.getTasksList()}))},l.canDeleteTask=function(e){return!e.subItem&&!(Object(W.a)(l.state.tasksList).filter((function(e){return""!==e.subItem&&void 0!==e.subItem})).map((function(e){return e.subItem})).indexOf(e._id)>-1)},l.state={isLoading:!1,allTasksList:[],tasksList:[],tasksDic:{},search:{from:0,size:10,status:""},hasMoreResults:!1,taskDialog:{isOpen:!1,data:void 0,editIndex:-1,tasks:[]}},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("select",{name:"status",className:"mr-1",value:this.state.search.status,onChange:this.handleStatusChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"active"},"Active"),s.a.createElement("option",{value:"not-active"},"In Active")),s.a.createElement("button",{className:"btn btn-sm btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleOpenTaskDialog(!0)}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(g.a,{path:b.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Task"),s.a.createElement("th",{scope:"col"},"Type"),s.a.createElement("th",{scope:"col"},"Status"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.tasksList.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",null,t.Name)),s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null,t.Type?t.Type:""))),s.a.createElement("td",null,t.Active?"Active":"Not Active"),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenTaskDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDelete(a)},className:"btn btn-sm btn-danger"},"Delete")))})),0===this.state.tasksList.length&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-center"},"No Tasks found"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getTasksListFrom(e.state.search.from-e.state.search.size)},disabled:0===this.state.search.from},"Previous"),s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getTasksListFrom(e.state.search.from+e.state.search.size)},disabled:!this.state.hasMoreResults},"Next")),this.state.taskDialog.isOpen&&s.a.createElement(Xe,{subItems:this.state.taskDialog.tasks,data:this.state.taskDialog.data,showToast:this.showToast,handleCloseDialog:this.handleCloseDialog}))}}]),a}(n.Component)),at=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).showToast=function(e,t){l.props.showToast(e,t)},l.handleCloseDialog=function(e){l.props.handleCloseDialog(e)},l.state={initialValues:l.props.data?l.props.data:{Active:!1,Name:"",ParentRef:"",addressLine1:"",addressLine2:"",state:"",zipCode:""},subClients:[],isLoading:!1},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"list_classes_add_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Class")))),s.a.createElement("div",{className:"card-body text-left"},this.state.isLoading&&s.a.createElement("div",{className:"centered loading-dialog"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(ae.a,{initialValues:this.state.initialValues,validate:function(e){var t={};return e.Name||(t.Name="Required"),t},onSubmit:function(){var t=Object(q.a)(V.a.mark((function t(a){var l;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isLoading:!0}),!a._id){t.next=7;break}return t.next=4,Q("class/update","PATCH",a);case 4:l=t.sent,t.next=10;break;case 7:return t.next=9,Q("class/add","POST",a);case 9:l=t.sent;case 10:l.success?(e.showToast("Class ".concat(a._id?"updated":"added"," successfully"),"success"),e.handleCloseDialog(l.data)):(e.setState({isLoading:!1}),e.showToast("Error while ".concat(a._id?"updating":"adding"," class"),"error"));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var a=t.values,l=t.errors,n=t.touched,r=t.handleChange,o=t.handleSubmit,c=t.setFieldValue;t.resetForm;return s.a.createElement("form",{onSubmit:o},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customActive",type:"checkbox",value:a.Active,checked:!!a.Active,onChange:function(){c("Active",!a.Active)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customActive"},s.a.createElement("span",null,"Active?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Class",type:"text",placeholder:"Class",name:"Name",value:a.Name,onChange:function(e){c("Name",e.target.value)},showError:!(!l.Name||!n.Name),error:l.Name})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"sub_class"},"Sub Class"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"ParentRef",id:"sub_class",value:a.ParentRef,onChange:r},s.a.createElement("option",{value:""}),(e.props.classes||[]).map((function(e,t){return s.a.createElement("option",{value:e._id,key:t},e.Name)}))),l.ParentRef&&n.ParentRef&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},l.ParentRef)))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Address Line 1",type:"text",placeholder:"Address Line 1",name:"addressLine1",value:a.addressLine1,onChange:function(e){c("addressLine1",e.target.value)},showError:!(!l.addressLine1||!n.addressLine1),error:l.addressLine1})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Address Line 2",type:"text",placeholder:"Address Line 2",name:"addressLine2",value:a.addressLine2,onChange:function(e){c("addressLine2",e.target.value)},showError:!(!l.addressLine2||!n.addressLine2),error:l.addressLine2})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"State",type:"text",placeholder:"State",name:"state",value:a.state,onChange:function(e){c("state",e.target.value)},showError:!(!l.state||!n.state),error:l.state})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Zip Code",type:"number",placeholder:"Zip Code",name:"zipCode",value:a.zipCode,onChange:function(e){c("zipCode",e.target.value)},showError:!(!l.zipCode||!n.zipCode),error:l.zipCode})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(){return e.handleCloseDialog(void 0)}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))})))))))))}}]),a}(n.Component),lt=et(function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).componentDidMount=Object(q.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getClassesList();case 2:case"end":return e.stop()}}),e)}))),l.getClassesList=Object(q.a)(V.a.mark((function e(){var t,a,n,s,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.setState({isLoading:!0}),t=Object(M.a)({},l.state.search),e.next=4,Q("class/list","POST",t);case 4:(a=e.sent).success?(n=a.data.reduce((function(e,t){return e[t._id]=t.class,e}),{}),s=Object(W.a)(a.data),r=Object(W.a)(a.data),l.state.search.status&&(r=r.filter((function(e){return"active"===l.state.search.status?!0===e.Active:!1===e.Active}))),l.setState({allClassesList:s,classesList:r,classesDic:n,hasMoreResults:a.data.length===l.state.search.size,isLoading:!1})):(l.setState({isLoading:!1}),l.showToast("Error while getting my classes","error"));case 6:case"end":return e.stop()}}),e)}))),l.getClassesListFrom=function(e){l.setState((function(t){return{search:Object(M.a)(Object(M.a)({},t.search),{},{from:e})}}),l.getClassesList)},l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.handleOpenClassDialog=function(e,t){e||window.$("#list_classes_add_dialog").modal("hide");var a=Object(W.a)(l.state.allClassesList);if(void 0!==t){var n=l.state.classesList[t],s=a.findIndex((function(e){return e._id===n._id}));a.splice(s,1)}l.setState({addClassDialog:{isOpen:e,data:void 0!==t?Object(M.a)({},l.state.classesList[t]):void 0,editIndex:t,classes:a}},(function(){e&&window.$("#list_classes_add_dialog").modal("show")}))},l.handleCloseDialog=function(e){window.$("#list_classes_add_dialog").modal("hide"),l.setState({addClassDialog:{isOpen:!1,data:void 0,editIndex:-1,classes:[]}},(function(){e&&l.getClassesListFrom(0)}))},l.handleDelete=function(e){l.canDeleteClass(l.state.classesList[e])?l.props.confirmDialog.show("Are you sure","Do you want to delete",Object(q.a)(V.a.mark((function t(){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.setState({isLoading:!0}),t.next=3,Q("class/".concat(l.state.classesList[e]._id),"DELETE");case 3:t.sent.success?(l.showToast("Class deleted successfully","success"),(a=Object(W.a)(l.state.classesList)).splice(e,1),l.setState({classesList:a,isLoading:!1})):(l.setState({isLoading:!1}),l.showToast("Error while getting deleting class","error"));case 5:case"end":return t.stop()}}),t)})))):l.props.confirmDialog.show("Can not Delete","It is linked with another class. You can make in active",Object(q.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),"Okay",!0)},l.handleStatusChange=function(e){var t=Object(M.a)({},e),a=t.target.value,n=Object(W.a)(l.state.allClassesList);a&&(n=n.filter((function(e){return"active"===a?!0===e.Active:!1===e.Active}))),l.setState((function(e){var a;return{search:Object(M.a)(Object(M.a)({},e.search),{},(a={},Object(m.a)(a,t.target.name,t.target.value),Object(m.a)(a,"from",0),a)),classesList:n}}))},l.canDeleteClass=function(e){return console.log("can delete"),!e.subClass&&!(Object(W.a)(l.state.classesList).filter((function(e){return""!==e.subClass&&void 0!==e.subClass})).map((function(e){return e.subClass})).indexOf(e._id)>-1)},l.state={isLoading:!1,allClassesList:[],classesList:[],classesDic:{},search:{from:0,size:10,status:""},hasMoreResults:!1,addClassDialog:{isOpen:!1,data:void 0,editIndex:-1,classes:[]}},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("select",{name:"status",className:"mr-1",value:this.state.search.status,onChange:this.handleStatusChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"active"},"Active"),s.a.createElement("option",{value:"not-active"},"In Active")),s.a.createElement("button",{className:"btn btn-sm btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleOpenClassDialog(!0)}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(g.a,{path:b.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Class"),s.a.createElement("th",null,"Sub Class Of"),s.a.createElement("th",{scope:"col"},"Status"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.classesList.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",null,t.FullyQualifiedName)),s.a.createElement("td",null,t.subClass?e.state.classesDic[t.subClass]:"N/A"),s.a.createElement("td",null,t.Active?"Active":"Not Active"),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenClassDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDelete(a)},className:"btn btn-sm btn-danger"},"Delete")))})),0===this.state.classesList.length&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-center"},"No classes found"))))),s.a.createElement("br",null),this.state.addClassDialog.isOpen&&s.a.createElement(at,{classes:this.state.addClassDialog.classes,data:this.state.addClassDialog.data,showToast:this.showToast,handleCloseDialog:this.handleCloseDialog}))}}]),a}(n.Component)),nt=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).getClassesList=Object(q.a)(V.a.mark((function e(){var t,a,n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.setState({isLoading:!0}),e.next=3,Q("class/list","POST",{});case 3:(t=e.sent).success?(a=t.data.reduce((function(e,t){return e[t._id]=t.Name,e}),{}),n=t.data.filter((function(e){return!0===e.Active})),l.setState({classesList:n,classesDic:a,isLoading:!1})):(l.setState({isLoading:!1}),l.showToast("Error while getting my classes","error"));case 5:case"end":return e.stop()}}),e)}))),l.showToast=function(e,t){l.props.showToast(e,t)},l.handleCloseDialog=function(e){l.props.handleCloseDialog(e)},l.state={initialValues:l.props.data?l.props.data:{isActive:!1,account:"",subAccountOf:"",accountType:"",accountNo:"",spendLimit:"",class:"",isPerDay:!1,isAllowExpense:!1,isMustEnterQnRate:!1,defaultRate:"",vat:"",attendeesOption:"",trackNonBillable:"",trackBillable:""},subClients:[],isLoading:!1,classesList:[],classesDic:{}},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getClassesList()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"list_expense_add_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Class")))),s.a.createElement("div",{className:"card-body text-left"},this.state.isLoading&&s.a.createElement("div",{className:"centered loading-dialog"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(ae.a,{initialValues:this.state.initialValues,validate:function(e){var t={};return e.account||(t.account="Required"),e.accountType||(t.accountType="Required"),t},onSubmit:function(){var t=Object(q.a)(V.a.mark((function t(a){var l;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isLoading:!0}),!a._id){t.next=7;break}return t.next=4,Q("list/expense-item","PATCH",a);case 4:l=t.sent,t.next=10;break;case 7:return t.next=9,Q("list/expense-item-add","POST",a);case 9:l=t.sent;case 10:l.success?(e.showToast("Expense ".concat(a._id?"updated":"added"," successfully"),"success"),e.handleCloseDialog(l.data)):(e.setState({isLoading:!1}),e.showToast("Error while ".concat(a._id?"updating":"adding"," expense"),"error"));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var a=t.values,l=t.errors,n=t.touched,r=t.handleChange,o=t.handleSubmit,c=t.setFieldValue;t.resetForm;return s.a.createElement("form",{onSubmit:o},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customActive",type:"checkbox",value:a.isActive,checked:!!a.isActive,onChange:function(){c("isActive",!a.isActive)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customActive"},s.a.createElement("span",null,"Active?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Account Name",type:"text",placeholder:"Account Name",name:"account",value:a.account,onChange:function(e){c("account",e.target.value)},showError:!(!l.account||!n.account),error:l.account})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"sub_account_of"},"Sub Account of"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"subAccountOf",id:"sub_account_of",value:a.subAccountOf,onChange:r},s.a.createElement("option",{value:""}),S.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}))),l.subAccountOf&&n.subAccountOf&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},l.subAccountOf))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"account_type"},"Account Type"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"accountType",id:"account_type",value:a.accountType,onChange:r},s.a.createElement("option",{value:""}),w.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}))),l.accountType&&n.accountType&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},l.accountType))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Account No",type:"text",placeholder:"Account No",name:"accountNo",value:a.accountNo,onChange:function(e){c("accountNo",e.target.value)},showError:!(!l.accountNo||!n.accountNo),error:l.accountNo})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Spend Limit",type:"number",placeholder:"Spend Limit",name:"spendLimit",value:a.spendLimit,onChange:function(e){c("spendLimit",e.target.value)},showError:!(!l.spendLimit||!n.spendLimit),error:l.spendLimit})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"class"},"Class"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"class",id:"class",value:a.class,onChange:r},s.a.createElement("option",{value:""}),e.state.classesList.map((function(t,a){return s.a.createElement("option",{value:t._id,key:a},e.state.classesDic[t._id])}))),l.class&&n.class&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},l.class))))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customIsPerDay",type:"checkbox",value:a.isPerDay,checked:!!a.isPerDay,onChange:function(){c("isPerDay",!a.isPerDay)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customIsPerDay"},s.a.createElement("span",null,"Per Day"))))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customAllowExpense",type:"checkbox",value:a.isAllowExpense,checked:!!a.isAllowExpense,onChange:function(){c("isAllowExpense",!a.isAllowExpense)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customAllowExpense"},s.a.createElement("span",null,"Allow Expense"))))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customMustEnter",type:"checkbox",value:a.isMustEnterQnRate,checked:!!a.isMustEnterQnRate,onChange:function(){c("isMustEnterQnRate",!a.isMustEnterQnRate)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customMustEnter"},s.a.createElement("span",null,"Must Enter Quantity and Rate"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Default Rate",type:"number",placeholder:"Default Rate",name:"defaultRate",value:a.defaultRate,onChange:function(e){c("defaultRate",e.target.value)},showError:!(!l.defaultRate||!n.defaultRate),error:l.defaultRate})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customLockRate",type:"checkbox",value:a.isLockRate,checked:!!a.isLockRate,onChange:function(){c("isLockRate",!a.isLockRate)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customLockRate"},s.a.createElement("span",null,"Lock Rate"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Vat",type:"number",placeholder:"Vat",name:"vat",value:a.vat,onChange:function(e){c("vat",e.target.value)},showError:!(!l.vat||!n.vat),error:l.vat})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("label",null,"Attendees Option"),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{class:"radio"},s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"attendeesOption",checked:"not-required"===a.attendeesOption,onChange:function(){return c("attendeesOption","not-required")}}),"Not Required"))," \xa0\xa0",s.a.createElement("div",{class:"radio"},s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"attendeesOption",checked:"required"===a.attendeesOption,onChange:function(){return c("attendeesOption","required")}}),"Required")),"\xa0\xa0",s.a.createElement("div",{class:"radio"},s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"attendeesOption",checked:"optional"===a.attendeesOption,onChange:function(){return c("attendeesOption","optional")}}),"Optional")))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("p",{className:"mt-4"},"For non billable expense, track in Account")),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"non_billable"},"Non billable"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"trackNonBillable",id:"non_billable",value:a.trackNonBillable,onChange:r},s.a.createElement("option",{value:""}),S.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}))),l.trackNonBillable&&n.trackNonBillable&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},l.trackNonBillable))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("p",{className:"mt-4"},"For billable expense, track in Account")),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"billable"},"Billable"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"trackBillable",id:"billable",value:a.trackBillable,onChange:r},s.a.createElement("option",{value:""}),S.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}))),l.trackBillable&&n.trackBillable&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},l.trackBillable))))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(){return e.handleCloseDialog(void 0)}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))})))))))))}}]),a}(n.Component),st=et(function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).componentDidMount=Object(q.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getExpenseList();case 2:case"end":return e.stop()}}),e)}))),l.getExpenseList=Object(q.a)(V.a.mark((function e(){var t,a,n,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.setState({isLoading:!0}),t=Object(M.a)({},l.state.search),e.next=4,Q("list/expense-item-list","POST",t);case 4:(a=e.sent).success?(n=Object(W.a)(a.data),s=Object(W.a)(a.data),l.setState({allExpenseList:n,expenseList:s,hasMoreResults:a.data.length===l.state.search.size,isLoading:!1})):(l.setState({isLoading:!1}),l.showToast("Error while getting expense list","error"));case 6:case"end":return e.stop()}}),e)}))),l.getExpenseListFrom=function(e){l.setState((function(t){return{search:Object(M.a)(Object(M.a)({},t.search),{},{from:e})}}),l.getExpenseList)},l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.handleOpenExpenseDialog=function(e,t){e||window.$("#list_expense_add_dialog").modal("hide");var a=Object(W.a)(l.state.allExpenseList);if(void 0!==t){var n=l.state.expenseList[t],s=a.findIndex((function(e){return e._id===n._id}));a.splice(s,1)}l.setState({addExpenseDialog:{isOpen:e,data:void 0!==t?Object(M.a)({},l.state.expenseList[t]):void 0,editIndex:t,expenses:a}},(function(){e&&window.$("#list_expense_add_dialog").modal("show")}))},l.handleCloseDialog=function(e){window.$("#list_expense_add_dialog").modal("hide"),l.setState({addExpenseDialog:{isOpen:!1,data:void 0,editIndex:-1,expenses:[]}},(function(){e&&l.getExpenseListFrom(0)}))},l.handleDelete=function(e){l.props.confirmDialog.show("Are you sure","Do you want to delete",Object(q.a)(V.a.mark((function t(){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.setState({isLoading:!0}),t.next=3,Q("list/expense-item/".concat(l.state.expenseList[e]._id),"DELETE");case 3:t.sent.success?(l.showToast("Expense list deleted successfully","success"),(a=Object(W.a)(l.state.expenseList)).splice(e,1),l.setState({expenseList:a,isLoading:!1})):(l.setState({isLoading:!1}),l.showToast("Error while getting deleting expense list","error"));case 5:case"end":return t.stop()}}),t)}))))},l.handleStatusChange=function(e){var t=Object(M.a)({},e);l.setState((function(e){var a;return{search:Object(M.a)(Object(M.a)({},e.search),{},(a={},Object(m.a)(a,t.target.name,t.target.value),Object(m.a)(a,"from",0),a))}}),l.getExpenseList)},l.state={isLoading:!1,allExpenseList:[],expenseList:[],search:{from:0,size:10,status:""},hasMoreResults:!1,addExpenseDialog:{isOpen:!1,data:void 0,editIndex:-1,expenses:[]}},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("select",{name:"status",className:"mr-1",value:this.state.search.status,onChange:this.handleStatusChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"active"},"Active"),s.a.createElement("option",{value:"not-active"},"Not Active")),s.a.createElement("button",{className:"btn btn-sm btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleOpenExpenseDialog(!0)}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(g.a,{path:b.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Account"),s.a.createElement("th",null,"Account type"),s.a.createElement("th",{scope:"col"},"Allow expense"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.expenseList.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",null,t.account)),s.a.createElement("td",null,t.accountType),s.a.createElement("td",null,t.isAllowExpense?"Active":"Not Active"),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenExpenseDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDelete(a)},className:"btn btn-sm btn-danger"},"Delete")))})),0===this.state.expenseList.length&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-center"},"No expenses found"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getExpenseListFrom(e.state.search.from-e.state.search.size)},disabled:0===this.state.search.from},"Previous"),s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getExpenseListFrom(e.state.search.from+e.state.search.size)},disabled:!this.state.hasMoreResults},"Next")),this.state.addExpenseDialog.isOpen&&s.a.createElement(nt,{expenses:this.state.addExpenseDialog.expenses,data:this.state.addExpenseDialog.data,showToast:this.showToast,handleCloseDialog:this.handleCloseDialog}))}}]),a}(n.Component)),rt=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).showToast=function(e,t){l.props.showToast(e,t)},l.handleCloseDialog=function(e){l.props.handleCloseDialog(e)},l.state={initialValues:l.props.data?l.props.data:{Active:!1,DisplayName:"",group:"",Title:"",Fax:"",firstName:"",GivenName:"",FamilyName:"",FreeFormNumber:"",PrimaryEmailAddr:"",extension:"",CompanyName:"",WebAddr:"",BillRate:""},isLoading:!1},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"list_vendor_add_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Class")))),s.a.createElement("div",{className:"card-body text-left"},this.state.isLoading&&s.a.createElement("div",{className:"centered loading-dialog"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(ae.a,{initialValues:this.state.initialValues,validate:function(e){var t={};return e.DisplayName||(t.DisplayName="Required"),t},onSubmit:function(){var t=Object(q.a)(V.a.mark((function t(a){var l;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({isLoading:!0}),!a._id){t.next=7;break}return t.next=4,Q("vendor/update","Patch",a);case 4:l=t.sent,t.next=10;break;case 7:return t.next=9,Q("vendor/add","POST",a);case 9:l=t.sent;case 10:l.success?(e.showToast("Vendor ".concat(a._id?"updated":"added"," successfully"),"success"),e.handleCloseDialog(l.data)):(e.setState({isLoading:!1}),e.showToast("Error while ".concat(a._id?"updating":"adding"," vendor"),"error"));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(function(t){var a=t.values,l=t.errors,n=t.touched,r=(t.handleChange,t.handleSubmit),o=t.setFieldValue;t.resetForm;return s.a.createElement("form",{onSubmit:r},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customActive",type:"checkbox",value:a.Active,checked:!!a.Active,onChange:function(){o("Active",!a.Active)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customActive"},s.a.createElement("span",null,"Active?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Name",type:"text",placeholder:"Name",name:"DisplayName",value:a.DisplayName,onChange:function(e){o("DisplayName",e.target.value)},showError:!(!l.DisplayName||!n.DisplayName),error:l.DisplayName})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Group",type:"text",placeholder:"Group",name:"group",value:a.group,onChange:function(e){o("group",e.target.value)},showError:!(!l.group||!n.group),error:l.group})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Title",type:"text",placeholder:"Title",name:"Title",value:a.Title,onChange:function(e){o("Title",e.target.value)},showError:!(!l.Title||!n.Title),error:l.Title})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Fax No.",type:"text",placeholder:"Fax No.",name:"Fax",value:a.Fax,onChange:function(e){o("Fax",e.target.value)},showError:!(!l.Fax||!n.Fax),error:l.Fax})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"First Name",type:"text",placeholder:"First Name",name:"firstName",value:a.firstName,onChange:function(e){o("firstName",e.target.value)},showError:!(!l.firstName||!n.firstName),error:l.firstName})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Contact Name",type:"text",placeholder:"Contact Name",name:"GivenName",value:a.GivenName,onChange:function(e){o("GivenName",e.target.value)},showError:!(!l.GivenName||!n.GivenName),error:l.GivenName})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Last Name",type:"text",placeholder:"Last Name",name:"FamilyName",value:a.FamilyName,onChange:function(e){o("FamilyName",e.target.value)},showError:!(!l.FamilyName||!n.FamilyName),error:l.FamilyName})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Cell Phone",type:"text",placeholder:"Cell Phone",name:"FreeFormNumber",value:a.FreeFormNumber,onChange:function(e){o("FreeFormNumber",e.target.value)},showError:!(!l.FreeFormNumber||!n.FreeFormNumber),error:l.FreeFormNumber})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Email",type:"text",placeholder:"Email",name:"emPrimaryEmailAddrail",value:a.PrimaryEmailAddr,onChange:function(e){o("PrimaryEmailAddr",e.target.value)},showError:!(!l.PrimaryEmailAddr||!n.PrimaryEmailAddr),error:l.PrimaryEmailAddr})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Extension",type:"text",placeholder:"Extension",name:"extension",value:a.extension,onChange:function(e){o("extension",e.target.value)},showError:!(!l.extension||!n.extension),error:l.extension})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Company Name",type:"text",placeholder:"Company Name",name:"CompanyName",value:a.CompanyName,onChange:function(e){o("CompanyName",e.target.value)},showError:!(!l.CompanyName||!n.CompanyName),error:l.CompanyName})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Website",type:"text",placeholder:"Website",name:"WebAddr",value:a.WebAddr,onChange:function(e){o("WebAddr",e.target.value)},showError:!(!l.WebAddr||!n.WebAddr),error:l.WebAddr})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(K,{label:"Hourly Rate",type:"number",placeholder:"Hourly Rate",name:"BillRate",value:a.BillRate,onChange:function(e){o("BillRate",e.target.value)},showError:!(!l.BillRate||!n.BillRate),error:l.BillRate})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(){return e.handleCloseDialog(void 0)}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))})))))))))}}]),a}(n.Component),ot=et(function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).componentDidMount=Object(q.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getVendorsList();case 2:case"end":return e.stop()}}),e)}))),l.getVendorsList=Object(q.a)(V.a.mark((function e(){var t,a,n,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.setState({isLoading:!0}),t=Object(M.a)({},l.state.search),e.next=4,Q("vendor/list","POST",t);case 4:(a=e.sent).success?(n=Object(W.a)(a.data),s=Object(W.a)(a.data).map((function(e){return e.PrimaryPhone&&e.PrimaryPhone.FreeFormNumber&&(e.FreeFormNumber=e.PrimaryPhone.FreeFormNumber),e.PrimaryEmailAddr&&e.PrimaryEmailAddr.Address&&(e.PrimaryEmailAddr=e.PrimaryEmailAddr.Address),e.WebAddr&&e.WebAddr.URI&&(e.WebAddr=e.WebAddr.URI),e})),l.setState({allVendorsList:n,vendorsList:s,hasMoreResults:a.data.length===l.state.search.size,isLoading:!1})):(l.setState({isLoading:!1}),l.showToast("Error while getting vendors list","error"));case 6:case"end":return e.stop()}}),e)}))),l.getVendorListFrom=function(e){l.setState((function(t){return{search:Object(M.a)(Object(M.a)({},t.search),{},{from:e})}}),l.getVendorsList)},l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.handleOpenVendorDialog=function(e,t){e||window.$("#list_vendor_add_dialog").modal("hide");var a=Object(W.a)(l.state.allVendorsList);if(void 0!==t){var n=l.state.vendorsList[t],s=a.findIndex((function(e){return e._id===n._id}));a.splice(s,1)}l.setState({addVendorDialog:{isOpen:e,data:void 0!==t?Object(M.a)({},l.state.vendorsList[t]):void 0,editIndex:t,vendors:a}},(function(){e&&window.$("#list_vendor_add_dialog").modal("show")}))},l.handleCloseDialog=function(e){window.$("#list_vendor_add_dialog").modal("hide"),l.setState({addVendorDialog:{isOpen:!1,data:void 0,editIndex:-1,vendors:[]}},(function(){e&&l.getVendorListFrom(0)}))},l.handleDelete=function(e){l.props.confirmDialog.show("Are you sure","Do you want to delete",Object(q.a)(V.a.mark((function t(){var a;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.setState({isLoading:!0}),t.next=3,Q("vendor/".concat(l.state.vendorsList[e]._id),"DELETE");case 3:t.sent.success?(l.showToast("Vendor deleted successfully","success"),(a=Object(W.a)(l.state.vendorsList)).splice(e,1),l.setState({vendorsList:a,isLoading:!1})):(l.setState({isLoading:!1}),l.showToast("Error while getting deleting vendor","error"));case 5:case"end":return t.stop()}}),t)}))))},l.handleStatusChange=function(e){var t=Object(M.a)({},e);l.setState((function(e){var a;return{search:Object(M.a)(Object(M.a)({},e.search),{},(a={},Object(m.a)(a,t.target.name,t.target.value),Object(m.a)(a,"from",0),a))}}),l.getVendorsList)},l.state={isLoading:!1,allVendorsList:[],vendorsList:[],search:{from:0,size:10,status:""},hasMoreResults:!1,addVendorDialog:{isOpen:!1,data:void 0,editIndex:-1,vendors:[]}},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("select",{name:"status",className:"mr-1",value:this.state.search.status,onChange:this.handleStatusChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"active"},"Active"),s.a.createElement("option",{value:"not-active"},"Not Active")),s.a.createElement("button",{className:"btn btn-sm btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleOpenVendorDialog(!0)}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(g.a,{path:b.v,title:"Add",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Name"),s.a.createElement("th",{scope:"col"},"Status"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.vendorsList.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",null,t.DisplayName)),s.a.createElement("td",null,t.Active?"Active":"Not Active"),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenVendorDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDelete(a)},className:"btn btn-sm btn-danger"},"Delete")))})),0===this.state.vendorsList.length&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"3",className:"text-center"},"No Vendors found"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getVendorListFrom(e.state.search.from-e.state.search.size)},disabled:0===this.state.search.from},"Previous"),s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getVendorListFrom(e.state.search.from+e.state.search.size)},disabled:!this.state.hasMoreResults},"Next")),this.state.addVendorDialog.isOpen&&s.a.createElement(rt,{expenses:this.state.addVendorDialog.vendors,data:this.state.addVendorDialog.data,showToast:this.showToast,handleCloseDialog:this.handleCloseDialog}))}}]),a}(n.Component)),ct=(a(179),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).state={},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},"Approved"===this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:!this.props.timesheetData,onClick:function(){return e.props.changeStatusTimesheets(j.WITH_APPROVER)}},"UnApprove")))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!this.props.timesheetData,onClick:function(){return e.props.changeStatusTimesheets(j.APPROVED)}},"Approve")))),s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-danger",disabled:!this.props.timesheetData,onClick:function(){return e.props.changeStatusTimesheets(j.REJECTED)}},"Reject")))))))))}}]),a}(n.Component)),it=(a(114),a(439)),mt=[{value:"Employees",label:"Employees"},{value:"Date",label:"Date"}],dt=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).getClients=function(){var e=Object(p.a)(l),t={token:localStorage.getItem("token")};N.a.post("http://localhost:9000/client/list",t).then((function(t){t.data.success&&e.setState({clientList:t.data.data,temp:t.data.data[0]})})).catch((function(e){console.log(e)}))},l.getEmployees=function(){var e=Object(p.a)(l),t={token:localStorage.getItem("token")};N.a.post("http://localhost:9000/employee/list",t).then((function(t){t.data.success&&(console.log("Response"),console.log(t.data.data),e.setState({employeeList:t.data.data}))})).catch((function(e){console.log(e)}))},l.getTimesheetofEmployee=function(e,t){console.log(t._id);var a=Object(p.a)(l),n={token:localStorage.getItem("token"),_id:t._id,status:a.state.selectedStatus};N.a.post("http://localhost:9000/timesheet/listByEmployee",n).then((function(e){e.data.success&&a.setState({timesheet:e.data.data})})).catch((function(e){console.log(e)}))},l.checkAll=function(e,t){document.getElementsByTagName("INPUT").checked=!0},l.selectedOption=function(e){var t=Object(p.a)(l);if(t.setState({select_val:e.value}),"Date"==e.value){var a={token:localStorage.getItem("token"),status:t.state.selectedStatus};N.a.post("http://localhost:9000/timesheet/listByStatus",a).then((function(e){if(e.data.success){console.log("ResponseE"),console.log(e.data.data),t.setState({tsheetstatus:e.data.data}),console.log(t.state.tsheetstatus);for(var a=[],l=0;l<t.state.tsheetstatus.length;l++)a[l]=t.state.tsheetstatus[l].StartTime;a=a.sort();var n=Object(W.a)(new Set(a));console.log(n),t.setState({dayaccord:n})}})).catch((function(e){console.log(e)}))}},l.getTimesheetfromTime=function(e,t){for(var a=Object(p.a)(l),n=[],s=0,r=0;r<a.state.tsheetstatus.length;r++)console.log(a.state.tsheetstatus[r]),a.state.tsheetstatus[r].StartTime==t&&(n[s]=a.state.tsheetstatus[r],s++);a.setState({tsdate:n})},l.state={isToggle:!0,clientList:[],employeeList:[],select_val:"",timesheet:[],tsheetstatus:[],dayaccord:[],tsdate:[],employeeId:"",loading:!1,selectedStatus:""},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getClients(),this.getEmployees()}},{key:"componentDidUpdate",value:function(e,t){if(e.selectedStatus!==this.state.selectedStatus){this.setState({loading:!0});for(var a=document.querySelectorAll("input[type='checkbox']"),l=0;l<a.length;l++)a[l].checked=!1}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null," Sort By:",s.a.createElement(Ae.a,{options:mt,onChange:this.selectedOption,value:this.state.select_val}),"Date"==this.state.select_val?s.a.createElement(it.a,{id:"accordian"},console.log(this.state.dayaccord),this.state.dayaccord.map((function(t,a){return s.a.createElement(it.a.Item,{eventKey:a},s.a.createElement(it.a.Header,{onClick:function(a){return e.getTimesheetfromTime(a,t)}},s.a.createElement("input",{type:"checkbox",id:"namecheck"+a,className:"namecheck"+a,onChange:function(t){return e.checkAll(t,a)}}),"\xa0\xa0",new Date(t).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})),e.state.tsdate.map((function(e,t){return s.a.createElement(it.a.Body,null,s.a.createElement(it.a,null,s.a.createElement(it.a.Item,{eventKey:t},s.a.createElement(it.a.Header,null,e.EmployeeRef.value),s.a.createElement(it.a.Body,null,s.a.createElement(De.h,null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("input",{type:"checkbox",id:"insidecheck"+a,class:"insidecheck"+a,name:"insidecheck"+a,value:"head"}),"\xa0\xa0CLIENT"),s.a.createElement("th",null,"HOURS"),s.a.createElement("th",null,"TASKS"),s.a.createElement("th",null,"BILLABLE STATUS"),s.a.createElement("th",null,"DATE UPDATED"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,e.CustomerRef.value),s.a.createElement("td",null,e.Hours),s.a.createElement("td",null,e.ItemRef.value),s.a.createElement("td",null,e.BillableStatus),s.a.createElement("td",null,e.StartTime))))))))})))}))):s.a.createElement(it.a,{id:"accordian"},this.state.employeeList.map((function(t,a){return s.a.createElement(it.a.Item,{eventKey:a},s.a.createElement(it.a.Header,{onClick:function(a){return e.getTimesheetofEmployee(a,t)}},s.a.createElement("input",{type:"checkbox",id:"namecheck"+a,className:"namecheck"+a,onChange:function(t){return e.checkAll(t,a)}}),"\xa0\xa0",t.DisplayName),e.state.timesheet.map((function(e,t){return s.a.createElement(it.a.Body,null,s.a.createElement(De.h,null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,s.a.createElement("input",{type:"checkbox",id:"insidecheck"+a,class:"insidecheck"+a,name:"insidecheck"+a,value:"head"}),"\xa0\xa0CLIENT"),s.a.createElement("th",null,"HOURS"),s.a.createElement("th",null,"TASKS"),s.a.createElement("th",null,"BILLABLE STATUS"),s.a.createElement("th",null,"DATE UPDATED"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,e.CustomerRef.value),s.a.createElement("td",null,e.Hours),s.a.createElement("td",null,e.ItemRef.value),s.a.createElement("td",null,e.BillableStatus),s.a.createElement("td",null,e.StartTime)))))})))}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.selectedStatus!==t.selectedStatus?{selectedStatus:e.selectedStatus}:null}}]),a}(n.Component),ut=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).getTimesheetsApprovalList=Object(q.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.a)(l),l.setState({isLoading:!0}),e.next=4,Q("timesheet/getTimesheetsForApproval","POST",Object(M.a)(Object(M.a)({},l.state.timesheets.search),{},{status:l.state.selectedApprovalStatus}));case 4:a=e.sent,console.log(a),a.success?t.setState((function(e){return{timesheets:Object(M.a)(Object(M.a)({},e.timesheets),{},{data:a.data}),hasMoreResults:l.state.timesheets.search.size===a.data?a.data.length:0,isLoading:!1,timesheetIds:[]}})):(l.setState({isLoading:!1}),l.showToast("Error while getting my timesheets","error"));case 7:case"end":return e.stop()}}),e)}))),l.getTimesheetsFrom=function(e){l.setState((function(t){return{timesheets:Object(M.a)(Object(M.a)({},t.timesheets),{},{search:Object(M.a)(Object(M.a)({},t.timesheets.search),{},{from:e})})}}),l.getTimesheetsList)},l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.setTimesheetIds=function(e){l.setState({timesheetIds:e})},l.changeStatusTimesheets=function(e){var t=Object(p.a)(l),a="";if("Rejected"!=e||!!window.confirm("Rejecting the timesheet will send a notification to the employee and timesheet has to be resubmitted for approval!")){l.setState({isLoading:!0});var n={token:localStorage.getItem("token"),timeSheetIds:l.state.timesheetIds,status:e};a=x+"timesheet/changeTimesheetsStatus";N.a.post(a,n).then((function(e){e.data.success?I.ToastsStore.success(e.data.message):I.ToastsStore.error(e.data.message),t.setState({isLoading:!1}),window.location.reload(!1)})).catch((function(e){I.ToastsStore.error(e.message),t.setState({isLoading:!1})}))}},l.state={isLoading:!1,timesheetCountDetails:{},timesheets:{data:[],search:{from:0,size:10}},hasMoreResults:!1,timesheetDialog:{isOpen:!1,data:void 0},selectedApprovalStatus:"",timesheetIds:[]},l}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.selectedApprovalStatus!==this.state.selectedApprovalStatus&&(console.log("status updated"),this.setState((function(e){return{selectedApprovalStatus:a.props.selectedApprovalStatus,timesheets:Object(M.a)(Object(M.a)({},e.timesheets),{},{search:Object(M.a)(Object(M.a)({},e.timesheets.search),{},{from:0})})}}),this.getTimesheetsApprovalList))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-6"})),s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement(ct,{selectedStatus:this.state.selectedApprovalStatus,changeStatusTimesheets:this.changeStatusTimesheets,timesheetData:this.state.timesheets.data}),s.a.createElement(dt,{selectedStatus:this.state.selectedApprovalStatus,timesheetData:this.state.timesheets.data,setTimesheetIds:this.setTimesheetIds}),s.a.createElement("br",null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.selectedApprovalStatus!==t.selectedApprovalStatus?{selectedApprovalStatus:e.selectedApprovalStatus}:null}}]),a}(n.Component),pt=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).componentDidMount=Object(q.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getTimesheetCount();case 2:case"end":return e.stop()}}),e)}))),l.getTimesheetCount=Object(q.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.setState({isLoading:!0}),e.next=3,Q("timesheet/countForApproval","GET");case 3:(t=e.sent).success?(l.setState({timeSheetCountDetails:t.data,isLoading:!1}),l.props.selectedStatus?l.props.onStatusSelected(l.props.selectedStatus):l.props.onStatusSelected("pendingApproval")):(l.setState({isLoading:!1}),l.showToast("Error while getting my expenses","error"));case 5:case"end":return e.stop()}}),e)}))),l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.state={timeSheetCountDetails:{}},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"row"},L.map((function(t){return s.a.createElement("div",{key:t.value,className:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-xs-12",onClick:function(){return e.props.onStatusSelected(t.value)}},s.a.createElement("div",{className:"align-items-center d-flex status-card  ".concat(t.value," ").concat(t.value===e.props.selectedStatus?"selected":"")},s.a.createElement("div",{className:"align-items-center d-flex justify-content-center status-count"},e.state.timeSheetCountDetails&&e.state.timeSheetCountDetails[t.value]?e.state.timeSheetCountDetails[t.value].count:0),s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("label",null,t.label),s.a.createElement("span",null,e.state.timeSheetCountDetails&&e.state.timeSheetCountDetails[t.value]?e.state.timeSheetCountDetails[t.value].totalHours+" hours":0))))}))))}}]),a}(n.Component),ht=a(140),Et=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleListExpanded=function(){l.setState({isListExpanded:!l.state.isListExpanded})},l.isActive=function(e){return"nav-link "+(e===l.props.title?"active":"nav-link")},l.handleClick=function(e,t){e.preventDefault(),l.props.handleNavigation(t);var a=s.a.createElement(B,null),n=void 0;switch(t){default:case"dashboard":a=s.a.createElement(B,null),n=s.a.createElement(be,null);break;case"users":a=s.a.createElement(ve,null);break;case"about":a=s.a.createElement(ge,null);break;case"mytime":a=s.a.createElement(Re,null);break;case"myexpenses":a=s.a.createElement(ze,null);break;case"customers":a=s.a.createElement(Qe,null);break;case"expenses":a=s.a.createElement(Je,null),n=s.a.createElement(Ke,null);break;case"approve-timesheets":a=s.a.createElement(ut,null),n=s.a.createElement(pt,null);break;case"list-task":a=s.a.createElement(tt,null);break;case"list-classes":a=s.a.createElement(lt,null);break;case"list-expenses":a=s.a.createElement(st,null);break;case"suppliers":return s.a.createElement(ot,null);case"employees":return s.a.createElement(ce,null)}l.props.setComponent(a,t,n)},l.handleLogout=function(e){e.preventDefault(),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("name"),l.props.setLogout()},l.state={isListExpanded:!1,accessLevels:localStorage.getItem("access"),role:localStorage.getItem("role")},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return console.log("Check"),console.log(this.state),console.log(this.state.accessLevels.indexOf("TIMESHEETS")),s.a.createElement("nav",{className:"navbar navbar-vertical fixed-left navbar-expand-md navbar-light bg-white",id:"sidenav-main"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#sidenav-collapse-main","aria-controls":"sidenav-main","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("a",{className:"navbar-brand pt-0",href:"/"},s.a.createElement("img",{src:ht,height:"500px",className:"navbar-brand-img h-100",alt:"..."})),s.a.createElement("ul",{className:"nav align-items-center d-md-none"},s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link",href:"/",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("div",{className:"media align-items-center"},s.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},s.a.createElement("img",{src:"../assets/img/theme/team-1-800x800.jpg",alt:""})))),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-arrow dropdown-menu-right"},s.a.createElement("div",{className:" dropdown-header noti-title"},s.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),s.a.createElement("a",{href:"./examples/profile.html",className:"dropdown-item"},s.a.createElement("i",{className:"ni ni-single-02"}),s.a.createElement("span",null,"My profile")),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement("a",{href:"#!",className:"dropdown-item"},s.a.createElement("i",{className:"ni ni-user-run"}),s.a.createElement("span",null,"Logout"))))),s.a.createElement("div",{className:"collapse navbar-collapse",id:"sidenav-collapse-main"},s.a.createElement("div",{className:"navbar-collapse-header d-md-none"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6 collapse-brand"},s.a.createElement("a",{href:"../index.html"},s.a.createElement("img",{src:"../assets/img/brand/blue.png",alt:""}))),s.a.createElement("div",{className:"col-6 collapse-close"},s.a.createElement("button",{type:"button",className:"navbar-toggler","data-toggle":"collapse","data-target":"#sidenav-collapse-main","aria-controls":"sidenav-main","aria-expanded":"false","aria-label":"Toggle sidenav"},s.a.createElement("span",null),s.a.createElement("span",null))))),s.a.createElement("h6",{className:"navbar-heading text-muted"},"My Workspace"),s.a.createElement("h5",null,"Trial"),s.a.createElement("ul",{className:"navbar-nav"},console.log(this.state.accessLevels),this.state.accessLevels?s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("mytime"),onClick:function(t){e.handleClick(t,"mytime")},href:"/"},s.a.createElement(g.a,{path:b.f,title:"mytime",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}),"My Time")):"",s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("myexpenses"),onClick:function(t){e.handleClick(t,"myexpenses")},href:"/"},s.a.createElement(g.a,{path:b.f,title:"myexpenses",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ffd600",className:"mr-2"}),"My Expenses")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("approve-timesheets"),onClick:function(t){e.handleClick(t,"approve-timesheets")},href:"/"},s.a.createElement(g.a,{path:b.f,title:"approve-timesheets",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ffd600",className:"mr-2"}),"Approve Timesheets"))),this.state.role&&"Admin"==this.state.role?s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",{className:"my-3"}),s.a.createElement("h6",{className:"navbar-heading text-muted"},"Administration"),s.a.createElement("ul",{className:"navbar-nav mb-md-3"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("dashboard"),onClick:function(t){e.handleClick(t,"dashboard")},href:"/"},s.a.createElement(g.a,{path:b.r,title:"dashboard",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#e74c3c",className:"mr-2"}),"Dashboard")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("timesheets"),onClick:function(t){e.handleClick(t,"timesheets")},href:"/"},s.a.createElement(g.a,{path:b.n,title:"Timesheets",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#94d82d",className:"mr-2"}),"Timesheets")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("expenses"),onClick:function(t){e.handleClick(t,"expenses")},href:"/"},s.a.createElement(g.a,{path:b.g,title:"expenses",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#22b8cf",className:"mr-2"}),"Expenses")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("users"),onClick:function(t){e.handleClick(t,"users")},href:"/"},s.a.createElement(g.a,{path:b.b,title:"users",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#f06595",className:"mr-2"}),"Users")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("customers"),onClick:function(t){e.handleClick(t,"customers")},href:"/"},s.a.createElement(g.a,{path:b.b,title:"customers",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ff922b",className:"mr-2"}),"Add Customers")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("employees"),onClick:function(t){e.handleClick(t,"employees")},href:"/"},s.a.createElement(g.a,{path:b.b,title:"employees",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#00008b",className:"mr-2"}),"Add Employees")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("suppliers"),onClick:function(t){e.handleClick(t,"suppliers")},href:"/"},s.a.createElement(g.a,{path:b.b,title:"suppliers",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ff922b",className:"mr-2"}),"Add Suppliers")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("div",{className:"pr-0 pointer ".concat(this.isActive("list")),onClick:function(t){e.handleListExpanded()}},s.a.createElement("div",{className:"w-100 d-flex justify-content-between"},s.a.createElement("div",null,s.a.createElement(g.a,{path:b.l,title:"list",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#51cf66",className:"mr-2"}),"List"),s.a.createElement("div",null,s.a.createElement("i",{className:'"fa fa-user ni '.concat(!1===this.state.isListExpanded?"ni-bold-down":"ni-bold-up")})))),this.state.isListExpanded&&s.a.createElement("div",{className:"pl-3"},s.a.createElement("ul",{className:"navbar-nav mb-md-3 ml-0 mr-0"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("list-task"),onClick:function(t){e.handleClick(t,"list-task")},href:"/"},"Tasks")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("list-classes"),onClick:function(t){e.handleClick(t,"list-classes")},href:"/"},"Services")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("list-expenses"),onClick:function(t){e.handleClick(t,"list-expenses")},href:"/"},"Products")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("list-other-items"),onClick:function(t){e.handleClick(t,"list-other-items")},href:"/"},"Chart of Accounts"))))),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("reports"),onClick:function(t){e.handleClick(t,"reports")},href:"/"},s.a.createElement(g.a,{path:b.e,title:"reports",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ff6b6b",className:"mr-2"}),"Reports")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("setup"),onClick:function(t){e.handleClick(t,"setup")},href:"/"},s.a.createElement(g.a,{path:b.x,title:"setup",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ffd600",className:"mr-2"}),"Setup")),s.a.createElement("div",{className:"pl-3"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("quickbooks"),onClick:function(t){e.handleClick(t,"quickbooks")},href:"/"},s.a.createElement(g.a,{path:b.c,title:"quickbooks",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ff922b",className:"mr-2"}),"Quickbooks"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("my account"),onClick:function(t){e.handleClick(t,"my account")},href:"/"},s.a.createElement(g.a,{path:b.f,title:"my account",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#94d82d",className:"mr-2"}),"My Account")))," "):"")))}}]),a}(n.Component),vt=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleLogout=function(e){e.preventDefault(),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("name"),l.props.setLogout()},l.state={name:localStorage.getItem("name")},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("nav",{className:"navbar navbar-top navbar-expand-md navbar-dark",id:"navbar-main"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("a",{className:"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block",href:"/"},this.props.title),s.a.createElement("ul",{className:"navbar-nav align-items-center d-none d-md-flex"},s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link pr-0",href:"/",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("div",{className:"media align-items-center"},s.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},s.a.createElement("img",{src:"../assets/img/theme/team-4-800x800.jpg",alt:""})),s.a.createElement("div",{className:"media-body ml-2 d-none d-lg-block"},s.a.createElement("span",{className:"mb-0 text-sm  font-weight-bold"},this.state.name)))),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-arrow dropdown-menu-right"},s.a.createElement("div",{className:" dropdown-header noti-title"},s.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),s.a.createElement("a",{href:"/",className:"dropdown-item"},s.a.createElement("i",{className:"ni ni-single-02"}),s.a.createElement("span",null,"My profile")),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement("a",{href:"/",className:"dropdown-item",onClick:function(t){e.handleLogout(t)}},s.a.createElement("i",{className:"ni ni-user-run"}),s.a.createElement("span",null,"Logout")))))))}}]),a}(n.Component),gt=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).state={},l}return Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement("footer",{className:"footer"},s.a.createElement("div",{className:"row align-items-center justify-content-md-between"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"copyright"},"\xa9 2019 \xa0",s.a.createElement("a",{href:"/",target:"_blank"},"Verd"),".")),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("ul",{className:"nav nav-footer justify-content-end"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/",className:"nav-link",target:"_blank"},"Verd")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/",className:"nav-link",target:"_blank"},"About Us")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/",className:"nav-link",target:"_blank"},"License"))))))}}]),a}(n.Component),bt=(a(427),n.Component,function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).deleteConfirm=function(){var e=Object(p.a)(l);window.confirm("By proceeding you will be deleting the record permanently!")&&e.props.changeStatusTimesheets("Delete")},l.state={},l}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},"Approved"===this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-3 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!this.props.timesheetData,onClick:this.props.sendToQuickBook},"Send To Quickbook")))):"","Approved"===this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-3 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:!this.props.timesheetData},"Download Timesheet")))):"","WithEmployee"==this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-info",onClick:this.props.sendRemainder,disabled:!this.props.timesheetData},"Send Remainder")))):"","WithEmployee"==this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-6 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.props.changeStatusTimesheets(j.APPROVED)},disabled:!this.props.timesheetData},"Submit")))):"","WithApprover"==this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-info",onClick:this.props.sendRemainder,disabled:!this.props.timesheetData},"Send Remainder")))):"","Approved"==this.props.selectedStatus||"WithEmployee"==this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:function(){return e.props.changeStatusTimesheets(j.ARCHIVED)},disabled:!this.props.timesheetData},"Move to Archive")))):"","Archived"==this.props.selectedStatus?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:!this.props.timesheetData},"Download Again")))),s.a.createElement("div",{className:"col-xl-2 col-lg-3 col-md-6 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.deleteConfirm,disabled:!this.props.timesheetData},"Delete"))))):""))))}}]),a}(n.Component)),ft=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).getTimesheetsList=Object(q.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.a)(l),l.setState({isLoading:!0}),e.next=4,Q("timesheet/getTimesheetsForAdmin","POST",Object(M.a)(Object(M.a)({},l.state.timesheets.search),{},{status:l.state.selectedStatus}));case 4:a=e.sent,console.log(a),a.success?t.setState((function(e){return{timesheets:Object(M.a)(Object(M.a)({},e.timesheets),{},{data:a.data}),hasMoreResults:l.state.timesheets.search.size===a.data?a.data.length:0,isLoading:!1,timesheetIds:[]}})):(l.setState({isLoading:!1}),l.showToast("Error while getting my expenses","error"));case 7:case"end":return e.stop()}}),e)}))),l.getTimesheetsFrom=function(e){l.setState((function(t){return{timesheets:Object(M.a)(Object(M.a)({},t.timesheets),{},{search:Object(M.a)(Object(M.a)({},t.timesheets.search),{},{from:e})})}}),l.getTimesheetsList)},l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.setTimesheetIds=function(e){l.setState({timesheetIds:e})},l.sendToQuickBook=function(){var e=Object(p.a)(l);l.setState({isLoading:!0});var t={token:localStorage.getItem("token"),timeSheetIds:l.state.timesheetIds};N.a.post("http://localhost:9000/timesheet/sendTimesheetsToQB",t).then((function(t){t.data.success?(I.ToastsStore.success(t.data.message),e.setState({isLoading:!1})):(I.ToastsStore.error(t.data.message),e.setState({isLoading:!1}))})).catch((function(t){I.ToastsStore.error(t.message),e.setState({isLoading:!1})}))},l.changeStatusTimesheets=function(e){var t=Object(p.a)(l);l.setState({isLoading:!0});var a={token:localStorage.getItem("token"),timeSheetIds:l.state.timesheetIds,status:e};N.a.post("http://localhost:9000/timesheet/changeTimesheetsStatus",a).then((function(e){e.data.success?I.ToastsStore.success(e.data.message):I.ToastsStore.error(e.data.message),t.setState({isLoading:!1}),window.location.reload(!1)})).catch((function(e){I.ToastsStore.error(e.message),t.setState({isLoading:!1})}))},l.sendRemainder=Object(q.a)(V.a.mark((function e(){var t,a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(p.a)(l),l.setState({isLoading:!0}),e.next=4,Q("timesheet/sendRemainder","POST",{timesheetIds:l.state.timesheetIds});case 4:a=e.sent,t.setState({isLoading:!1}),a.success?I.ToastsStore.success(a.message):I.ToastsStore.error(a.message);case 7:case"end":return e.stop()}}),e)}))),l.state={isLoading:!1,timesheetCountDetails:{},timesheets:{data:[],search:{from:0,size:10}},hasMoreResults:!1,timesheetDialog:{isOpen:!1,data:void 0},selectedStatus:"",timesheetIds:[]},l}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.selectedStatus!==this.state.selectedStatus&&(console.log("status updated"),this.setState((function(e){return{selectedStatus:a.props.selectedStatus,timesheets:Object(M.a)(Object(M.a)({},e.timesheets),{},{search:Object(M.a)(Object(M.a)({},e.timesheets.search),{},{from:0})})}}),this.getTimesheetsList))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-6"})),s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement(bt,{selectedStatus:this.state.selectedStatus,sendToQuickBook:this.sendToQuickBook,changeStatusTimesheets:this.changeStatusTimesheets,sendRemainder:this.sendRemainder,timesheetData:this.state.timesheets.data}),s.a.createElement(dt,{selectedStatus:this.state.selectedStatus,timesheetData:this.state.timesheets.data,setTimesheetIds:this.setTimesheetIds}),s.a.createElement("br",null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.selectedStatus!==t.selectedStatus?{selectedStatus:e.selectedStatus}:null}}]),a}(n.Component),Nt=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).componentDidMount=Object(q.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getTimesheetCount();case 2:case"end":return e.stop()}}),e)}))),l.getTimesheetCount=Object(q.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.setState({isLoading:!0}),e.next=3,Q("timesheet/count","GET");case 3:(t=e.sent).success?(l.setState({timeSheetCountDetails:t.data,isLoading:!1}),l.props.selectedStatus?l.props.onStatusSelected(l.props.selectedStatus):l.props.onStatusSelected("WithEmployee")):(l.setState({isLoading:!1}),l.showToast("Error while getting my expenses","error"));case 5:case"end":return e.stop()}}),e)}))),l.showToast=function(e,t){"success"===t?I.ToastsStore.success(e):I.ToastsStore.error(e)},l.state={timeSheetCountDetails:{}},l}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.isUpdateCount!==this.state.isUpdateCount&&this.setState((function(e){return{isUpdateCount:a.props.isUpdateCount}}),this.getTimesheetCount)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"row"},O.map((function(t){return s.a.createElement("div",{key:t.value,className:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-xs-12",onClick:function(){return e.props.onStatusSelected(t.value)}},s.a.createElement("div",{className:"align-items-center d-flex status-card  ".concat(t.value," ").concat(t.value===e.props.selectedStatus?"selected":"")},s.a.createElement("div",{className:"align-items-center d-flex justify-content-center status-count"},e.state.timeSheetCountDetails&&e.state.timeSheetCountDetails[t.value]?e.state.timeSheetCountDetails[t.value].count:0),s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("label",null,t.label),s.a.createElement("span",null,e.state.timeSheetCountDetails&&e.state.timeSheetCountDetails[t.value]?e.state.timeSheetCountDetails[t.value].totalHours+" hours":0))))}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isUpdateCount!==t.isUpdateCount?{isUpdateCount:e.isUpdateCount}:null}}]),a}(n.Component),yt=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).getHeader=function(){var e=window.location.pathname;switch(e=e.slice(1)){default:case"dashboard":return s.a.createElement(be,null);case"expenses":return s.a.createElement(Ke,{isUpdateCount:l.state.isUpdateCount,selectedStatus:l.state.selectedStatus,onStatusSelected:l.onStatusSelected});case"timesheets":return s.a.createElement(Nt,{isUpdateCount:l.state.isTimesheetUpdateCount,selectedStatus:l.state.selectedTimeSheetStatus,onStatusSelected:l.onTimesheetStatusSelected});case"approve-timesheets":return s.a.createElement(pt,{selectedStatus:l.state.selectedApprovalStatus,onStatusSelected:l.onApprovalStatusSelected})}},l.getBody=function(){var e=window.location.pathname;switch(e=e.slice(1)){default:case"dashboard":return s.a.createElement(B,null);case"employees":return s.a.createElement(ce,null);case"users":return s.a.createElement(ve,null);case"about":return s.a.createElement(ge,null);case"mytime":return s.a.createElement(Re,null);case"myexpenses":return s.a.createElement(ze,null);case"customers":return s.a.createElement(Qe,null);case"expenses":return s.a.createElement(Je,{updateExpenseCount:l.updateExpenseCount,selectedStatus:l.state.selectedStatus});case"timesheets":return s.a.createElement(ft,{updateTimesheetCount:l.updateTimesheetCount,selectedStatus:l.state.selectedTimeSheetStatus});case"list-task":return s.a.createElement(tt,null);case"list-classes":return s.a.createElement(lt,null);case"list-expenses":return s.a.createElement(st,null);case"suppliers":return s.a.createElement(ot,null);case"approve-timesheets":return s.a.createElement(ut,{selectedApprovalStatus:l.state.selectedApprovalStatus})}},l.updateExpenseCount=function(){l.setState({isUpdateCount:!l.state.isUpdateCount})},l.updateTimesheetCount=function(){l.setState({isTimesheetUpdateCount:!l.state.isTimesheetUpdateCount})},l.onStatusSelected=function(e){l.setState({selectedStatus:e})},l.onTimesheetStatusSelected=function(e){l.setState({selectedTimeSheetStatus:e})},l.onApprovalStatusSelected=function(e){l.setState({selectedApprovalStatus:e})},l.handleNavigation=function(e){l.props.history.push("/"+e)},l.getComponent=function(e,t,a){l.setState({component:e,title:t,header:a})},l.getLogout=function(){l.props.history.push("/")},l.state={selectedStatus:"",isUpdateCount:!1,selectedTimeSheetStatus:"",isTimesheetUpdateCount:!1,selectedApprovalStatus:"",accessLevels:localStorage.getItem("access")},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=window.location.pathname,t=s.a.createElement(B,null),a=void 0;switch(e=e.slice(1)){default:case"dashboard":t=s.a.createElement(B,null),a=s.a.createElement(be,null),e="dashboard";break;case"employees":t=s.a.createElement(ce,null);break;case"users":t=s.a.createElement(ve,null);break;case"about":t=s.a.createElement(ge,null);break;case"mytime":t=s.a.createElement(Re,null);break;case"myexpenses":t=s.a.createElement(ze,null);break;case"customers":t=s.a.createElement(Qe,null);break;case"expenses":t=s.a.createElement(Je,null),a=s.a.createElement(Ke,{selectedStatus:this.state.selectedStatus,onStatusSelected:this.onStatusSelected});break;case"timesheets":t=s.a.createElement(ft,null),a=s.a.createElement(Nt,{selectedStatus:this.state.selectedTimeSheetStatus,onStatusSelected:this.onTimesheetStatusSelected});break;case"list-task":t=s.a.createElement(tt,null);break;case"list-classes":t=s.a.createElement(lt,null);break;case"list-expenses":t=s.a.createElement(ut,{selectedStatus:this.state.selectedApprovalStatus,onStatusSelected:this.onApprovalStatusSelected}),a=s.a.createElement(pt,null);break;case"suppliers":t=s.a.createElement(ot,null)}this.setState({component:t,header:a,title:e})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Et,{title:this.state.title,setComponent:this.getComponent,handleNavigation:this.handleNavigation,setLogout:this.getLogout}),s.a.createElement("div",{className:"main-content"},s.a.createElement(vt,{title:this.state.title,setLogout:this.getLogout}),s.a.createElement("div",{className:"header bg-gradient-primary pb-8 pt-5 pt-md-8"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"header-body"},this.state.header?this.getHeader():""))),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row mt-64"},s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"card shadow"},s.a.createElement("div",{className:"card-body",style:{minHeight:"200px"}},this.getBody())))),s.a.createElement(gt,null))))}}]),a}(n.Component),Ct=(a(180),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleChange=function(e){l.setState(Object(m.a)({},e.target.name,e.target.value))},l.handleChangePassword=function(e){e.preventDefault();var t=Object(p.a)(l);if(l.state.confirmPassword===l.state.password){var a={password:l.state.password,oldPassword:l.state.oldPassword,token:localStorage.getItem("token")};t.setState({isLoading:!0});N.a.post("http://localhost:9000/employee/changePassword",a).then((function(e){e.data.success?(I.ToastsStore.success("Password updated successfully"),localStorage.setItem("token",e.data.token),t.props.history.push("/")):(t.setState({isLoading:!1}),I.ToastsStore.error("Error occured while updating password"))})).catch((function(e){t.setState({isLoading:!1}),I.ToastsStore.error(e.message)}))}else I.ToastsStore.error("Password and confirm password must match")},l.state={isLoading:!1,password:"",confirmPassword:"",oldPassword:""},l}return Object(u.a)(a,[{key:"componentDidMount",value:function(){re.a.locale("en")}},{key:"render",value:function(){return this.state.isLoading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):s.a.createElement(s.a.Fragment,null,s.a.createElement(I.ToastsContainer,{store:I.ToastsStore,position:I.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"main-content"},s.a.createElement("div",{className:"header bg-gradient-primary pb-8 pt-5 pt-md-8"}),s.a.createElement("div",{className:"container-fluid mt-165"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-lg-5 col-md-5"},s.a.createElement("div",{className:"card shadow"},s.a.createElement("div",{className:"card-body p-4 m-4"},s.a.createElement("h4",{className:"mb-4"},"Change Password"),s.a.createElement("form",{htmlFor:"form",onSubmit:this.handleChangePassword},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("input",{className:"form-control",placeholder:"Old Password",type:"password",required:!0,name:"oldPassword",value:this.state.oldPassword,onChange:this.handleChange,title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("input",{className:"form-control",placeholder:"Password",type:"password",required:!0,name:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",value:this.state.password,onChange:this.handleChange,title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("input",{className:"form-control",placeholder:"Confirm Password",type:"password",required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange,title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"}))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link","data-dismiss":"modal"},"Cancel"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Confirm"))))))),s.a.createElement(gt,null))))}}]),a}(n.Component)),xt=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(e){var l;return Object(d.a)(this,a),(l=t.call(this,e)).handleChange=function(e){l.setState(Object(m.a)({},e.target.name,e.target.value))},l.handleHireDateChange=function(e){l.setState({HiredDate:e})},l.handleEndDateChange=function(e){l.setState({ReleasedDate:e})},l.handleSubmit=function(e){e.preventDefault();var t=Object(p.a)(l);t.setState({loading:!0});var a={token:localStorage.getItem("access-token"),FirstName:t.state.FirstName,FamilyName:t.state.FamilyName,Title:t.state.Title,PrimaryPhone:t.state.PrimaryPhone,familyName:t.state.familyName,CountrySubDivisionCode:t.state.CountrySubDivisionCode,City:t.state.City,PostalCode:t.state.PostalCode,Line1:t.state.Line1,email:t.state.email,HiredDate:t.state.HiredDate,ReleasedDate:t.state.ReleasedDate};N.a.post("http://localhost:9000/employee/register",a).then((function(e){e.data.success?(I.ToastsStore.success("Employee created successfully."),window.location.reload()):(t.setState({loading:!1}),I.ToastsStore.error(e.data.message))})).catch((function(e){t.setState({loading:!1}),I.ToastsStore.error(e.message)}))},l.state={FirstName:"",FamilyName:"",Title:"",PrimaryPhone:"",familyName:"",CountrySubDivisionCode:"",City:"",PostalCode:"",Line1:"",email:"",HiredDate:new Date,ReleasedDate:new Date},l}return Object(u.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container-fluid mt--7 bg-secondary"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Add Employee")))),s.a.createElement("div",{className:"card-body"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("h6",{className:"heading-small text-muted mb-4 text-left"},"Employee information"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-2"},s.a.createElement("div",{className:"form-group text-left"},s.a.createElement("label",{className:"form-control-label text-right",for:"input-title"},"Title"),s.a.createElement("input",{type:"text",id:"input-title",className:"form-control form-control-alternative",placeholder:"Title",name:"Title",value:this.state.Title,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-first-name"},"First Name"),s.a.createElement("input",{type:"text",id:"input-first-name",className:"form-control form-control-alternative",placeholder:"First Name",name:"FirstName",value:this.state.FirstName,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-last-name"},"Last Name"),s.a.createElement("input",{type:"text",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Last Name",name:"FamilyName",value:this.state.FamilyName,onChange:this.handleChange,required:!0})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-email"},"Email"),s.a.createElement("input",{type:"email",id:"input-email",className:"form-control form-control-alternative",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-mobile"},"Mobile"),s.a.createElement("input",{type:"number",id:"input-mobile",className:"form-control form-control-alternative",placeholder:"Mobile",name:"PrimaryPhone",value:this.state.PrimaryPhone,onChange:this.handleChange,required:!0}))))),s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Contact information"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-address"},"Address"),s.a.createElement("input",{id:"input-address",className:"form-control form-control-alternative",placeholder:"Home Address",name:"Line1",value:this.state.Line1,onChange:this.handleChange,type:"text"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-City"},"City"),s.a.createElement("input",{type:"text",id:"input-City",className:"form-control form-control-alternative",placeholder:"City",name:"City",value:this.state.City,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Country"),s.a.createElement("input",{type:"text",id:"input-country",className:"form-control form-control-alternative",placeholder:"Country",name:"CountrySubDivisionCode",value:this.state.CountrySubDivisionCode,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Postal code"),s.a.createElement("input",{type:"number",id:"input-postal-code",className:"form-control form-control-alternative",placeholder:"Postal code",name:"PostalCode",value:this.state.PostalCode,onChange:this.handleChange})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Hire Date"),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(g.a,{path:b.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(H.a,{className:"form-control datepicker",selected:this.state.HiredDate,onChange:this.handleHireDateChange})))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"End Date"),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(g.a,{path:b.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(H.a,{className:"form-control datepicker",selected:this.state.ReleasedDate,onChange:this.handleEndDateChange})))))),s.a.createElement("button",{className:"btn btn-lg btn-primary btn-block text-uppercase mb-4",type:"submit"},"Create"))))))}}]),a}(n.Component);a(428),a(429),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var kt=["component"];function St(e){var t=e.component,a=Object(l.a)(e,kt);return s.a.createElement(i.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?s.a.createElement(t,e):s.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}o.a.render(s.a.createElement($e,null,s.a.createElement(c.a,null,s.a.createElement(i.d,null,s.a.createElement(i.b,{exact:!0,path:"/login",component:R}),s.a.createElement(i.b,{exact:!0,path:"/register",component:xt}),s.a.createElement(St,{exact:!0,path:"/changePassword",component:Ct}),s.a.createElement(St,{exact:!0,path:"/",component:yt}),s.a.createElement(St,{exact:!0,path:"",component:yt})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},57:function(e,t,a){},82:function(e,t,a){}},[[192,1,2]]]);
//# sourceMappingURL=main.ebf9f776.chunk.js.map