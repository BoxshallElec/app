(this["webpackJsonpboxshall-web"]=this["webpackJsonpboxshall-web"]||[]).push([[0],{101:function(e,t,a){},123:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAArXSURBVHhe7d17rCNlGcfxPd6iiJdoMCpeYyJqVOJd4gUhKEiOu6ftnHM6bd/p7poc1CgQlBiNeojxDxeNRENcQ4y4MUHAiDFCJALejSggqwu6hEQSCRJjAFcMuKu7+rw9T8+e6XnettPOdLrl+0l+WWjnnfftTJ+5tNM5WwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAmiJDmx0mqdrP8LoGtxcfFJtUZyl+Q/lWbzBfowAK8auwulOP5Xi92h+ZWV4/RhAIuL7efW4uSAL5Bqw92qDwPwZK9xeWfv4Qskdl/Wh3MT1VtnVRvJr6T47uibOLmlWncf1WZBcgj4PBnzNeY8NiZ2t+vrmVtrmSaHlY+XPnfLtL/f1DbPxO4P8rr2RFH0FO06ZVu7/UyZ5grZSO0z22eMLJtfy7q8Sf57T63RPleW15u0q8yiOElkfr/t7WPUyLh+KrlOlvs35TVfII+dMT8/P71HLLIA3iwDPuKLwyeKW3V9Kjf+DdKd/zCpNhov1qamSuw+bbULRd4gb9WmKX7lWNMXldCylXVwjjV9npF1sLcat96nXQ5N3sidI4si4/uQXLaw7F6p3U6NOVlwN28c7LxzL9LnciNbxr9t7GNQKkv9t3iyMC+12oUir/FsbZoSNdyiNX1RiWL3Ie06Rfauq9b0BeSI70u7HcifixrzKCwytoOyrj6zurr6OB1CueQN4lKDjJN79alcUSBrmYIC0bht2nVfky6QbmT97tYhlGfrzp1Pk0OM+1IDa7ir9elcUSBrmaICuceff2n3QWUViI8/7NRhlEOK4fO9g6o03fn6dK4okLVMT4H4uHntPqjMApF1dr/fiOtQJmthOXmZP97bNLB66y06Sa4okLVMU4HIMrxEuw8qs0A6abq2DmWy5A3z/d7ByGOPrqysPFEnyRUFspbp2oMkP9Lug8ouEDnK+ZYOZXLkzXKmPZjk5zpJ7iiQtcgKd9p1Sil7kEbyO+0+qPQCid1+Hcpk+D2EdPzH3oH4+HMSnSx3s1IgMp+HOq9llMgWW06Mn6Fdp2QtkGrcusy36aYSu12yTO60pg1F1vcd2n3QFBTIAzqUyajU3fnWQNYy3Ed/o9A3iNGnnWktkIXYnapNc5W1QKzl8+5W66nyOu+3prdSUIFcq01T/Cdm25aXXyLnuBcbbYKR13NYZ1G8aMeOE2p+C2gMxKfSaj1HJ80dBdJfHgXiyev8jjW9mdjdps2C8iqQDeak30x7Om1XPL9btgbgI2+4u3WyTfxl8JWl1sn+mhxZAV+SF/hj+fcB+fcinWQgCqS/vApE1sn6NXVD5HptFlRAgWyRab7X06ZvtFmxKs3m62Ul/NcaQCfyBvbHx1EUPavWbL9L3oDnyWOXywLfK+02fxzcaeN+qbMfaGYKRA5Do2jHCYPSksMd7WIoue1BOhcn2m16I8vwK9osqIgCkdd6tdEuGG1WqDkZ1C+szsdJtd76hM5/oFkpkCyRPn8y7MfmeRWILOcbrOmtyPjO1GZBj4kC8VeQWh2PE1m4+/2hl3YxkKy4v1rzCWUWCqSTev212lVfeRSI/2Zc5hM+StiY2P1smAsCZ75A/Ccb8ua81+p4nMiu/AztYijyBr3Hmk8o1aXG27SpqVp3X7PahVKpt87SpilFF8igQu/KWiCygXiws1fWSPuHrekCua5e3/l87bqvmS8QGcxnrU7HiRTHVTr7ocnW7U/WvEKpxK1Em5qk4G602oUiJ9dv16Ypx2qBjBNZf7fK8vvCwrJ7uXYfNNMFErVaL5XBPGJ1Ompkfg+PckMH2eL9wJpfKLICr9Cmm8ih3fFyiPBvq10o/heI2jzlsVgg3cgyPiT9fkqHYJrpApEFMPxn4kNG5nmhzj6TSuwusuYXTOz+Gfp5avZzKnefNt3ksVwg66knn9NhbDKzBSKDOM3qbJxIcdw56sWMtbp7nTXPfqnUk4o2T5G90Xet6cNpf1WbbkKBdNbr4Uqzbf4keSYLxH+tLy8602/Ah4mc6J6uXYxiLut5iLyGTYdZ/vBKFnC2w8bl5ju0+SZFF4jfMGhXfZVZID5yXmL+UG4mC6Qatz5sdTROZAEGzwmGJfP5WO98+8Y4zBrhI+u7pJl5RxOvyAKRPd3+drv9ZO2qr9ILJE4O+A2rDmfdTBaIbKn/YnXkt7yyIG72H5HKvx+MYnfK/LwsgGU3b02/Hll4W4f8WLAff62X7BUOmX0EIodZkTbviDIuXOmv7zlT1gJZqLt21Gy+alCqcfyKLN8TlV0gPtaHLzNZIJU4uVI/H79BTsAulsT+dirWFsJbXt7+Qmtg3cib7AKddGyyJ7rK6iMUP7029ZfqHyeF/S9rOiuyIg76CzS1uSlzgUzJtVhFxBe2DmfdzJ6kZ1Hpf9iyL89fGcobPtN9qHxB+MLwbbO+maWvb3c67eOYLZDY7fK/TrQiy+y8rBsin0kViEzzw542faPNyiOHZN+wBibx91B6p06WlzlZgXcbfQUje7Br/F5M/tvfWNucxsowHyocqwUyzKdj/nISq20okyiQZrP5dJnm7z1t+kablmZOtjapW/90I48X8ntgOfT7uNVfzul7ct6Vfa+UrPo2I6XZPEm73aSIApEN0W6rbSg5Fcht5muX+DvmSNHuNdoEI8vloA6lHJWl1qvNgcmJeejb53GNcrKeNYNOzrv8irPaFxEZ0+Gasz/2LahAMl3QmVOB5BpZZsEveSfC3yjaGlit0TpXJymE7EWutPsdP36rM+jkvGuSBeKz2GivaNcpFIgdOYr5jQ6lHDKI63sHJdkb+sQrL/78wOg3lwxzct416QLxJ9HadQoFEkjsdulQJs9/CSe7sEd7BnUkdOVrzuakr0wn3cMmyzf+FMjRTGOBbOtzFUThas3kPb0Dkq3vHn26cP48obf/HDLUyXkXBXI0U1ggN+kwylFpJl9MDSh2DxV5Z5Ne/jzBny+kxjBmhj0576JAjmaaCkTGfqD0PyYrA9m3cVCVuvuIPjUx/nxh4xjGiS+2YU/OuyiQo5mWApFl8YjkNB1COaIoOVEGs/5XpWTLe3vRJ+YWfweV7hjGTZaT865aw1WteRWV0C39K3HySWv6YOrujdo0SArkErNtIMtu81938teTyXPr75OiI+/DG/2N1bX78lQbre0bBnZkKfB7gEmQhXLthrGMFCmOf0SNxmt0lkOTreZJsrUa7kYHOUT2IKdo1yny3Ht7pw3Fb2EXnHu2Ng2SImpb7c2sXc17vDZNkedSRxp5Rwr5z9VmcmmluX3gXnFiUoc2sfu6PlyKU1dXn7DQcPP+8GOU1Jpu5zhfai422m+w5pt3qo123xtRRPXW6Va7dJJzrEOhAP/n9c6253M0Mq6VrVH4W36/bGWD+n6r7WjxNyBs1/yPtKQozXsVl8rf7kW2Qp3rYaR6H8x63A7MNH/8ur73aLgP6MMAvFq9udTZezSSW8o4MQem2tohlnOD/hY5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjllbtvwf63VoLMc5DH4AAAAASUVORK5CYII="},139:function(e,t,a){},145:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},165:function(e,t,a){e.exports=a(389)},197:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},385:function(e,t,a){},389:function(e,t,a){"use strict";a.r(t);var n=a(164),l=a(0),s=a.n(l),r=a(45),o=a.n(r),c=a(163),i=a(41),m=a(14),d=a(4),u=a(5),p=a(7),h=a(6),E=a(18),g=a(8),v=a(12),b=a.n(v),f=a(13),N=a(15),y=a.n(N),x=a(16),C=a.n(x),k="http://api.verd.com.au/",S=["Advertising & Marketing","Ask My Accountant","Bank Charges & Fees","Car & Truck","Contractors","Insurance","Interest Paid","Job Supplies","Legal & Professional Services","Meals & Entertainment","Office Supplies & Software","Other Business Expenses","Reimbursable Expenses","Rent & Lease","Repairs & Maintenance","Taxes & Licenses","Travel","Uncategorized Expense","Utilities"],w=["Airfare & Related Costs","Gas","Lodging","Meals & Entertainment","Mileage","Parking","Phone/Fax","Transportation"],A=["Accounts Payable","Accounts Receivable","Bank","Cost Of Goods Sold","Equity","Expense","Fixed Assets","Income","Loan","Long Term Liability","Non-Posting","Other Asset","Other Current Asset","Other Current Liability","Other Expense","Other Income"],D="https://s3.amazonaws.com/verd-dev/",O=[{value:"on-hold",label:"With Employee"},{value:"employer",label:"With Approver"},{value:"submitted",label:"Pending Download"},{value:"archived",label:"Archive"}],T=[{value:"WithEmployee",label:"With Employee"},{value:"WithApprover",label:"With Approver"},{value:"Approved",label:"Pending Download"},{value:"Archived",label:"Archive"}],j=["NAME","EMAIL","PHONE","ACTIVE","USER ROLE"],L={WITH_EMPLOYEE:"WithEmployee",WITH_APPROVER:"WithApprover",APPROVED:"Approved",ARCHIVED:"Archived",PENDING_APPROVAL:"PendingArroval",REJECTED:"Rejected"},I=[{value:"pendingApproval",label:"Pending Approval"},{value:"Approved",label:"Approved"}];Object.freeze(L);var P=a(2),R=a(123),F=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=Object(E.a)(a);t.setState({loading:!0});var n={email:a.state.email,password:a.state.password},l=k+"employee/login";console.log("URL:out"),console.log(l),y.a.post(l,n).then((function(e){if(e.data.success){console.log("URL:"),console.log(l);var a=e.data.employee.DisplayName?e.data.employee.DisplayName:e.data.employee.displayName;console.log("Access:"),console.log(e.data.employee.type);var n="employee"==e.data.employee.type?2:1;localStorage.setItem("token",e.data.token),localStorage.setItem("name",a),localStorage.setItem("access",n),localStorage.setItem("role",e.data.employee.user_type?e.data.employee.user_type:e.data.employee.type?e.data.employee.type:""),e.data.employee.isFirstTime?t.props.history.push("/changePassword"):t.props.history.push("/")}else t.setState({loading:!1}),P.ToastsStore.error(e.data.message)})).catch((function(e){t.setState({loading:!1}),P.ToastsStore.error(e.message),console.log(e)}))},a.handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.state={email:"",password:"",isLoading:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.isLoading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):s.a.createElement(s.a.Fragment,null,s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("main",null,s.a.createElement("section",{className:"section section-shaped section-lg"},s.a.createElement("div",{className:"shape shape-style-1 bg-gradient-default"},s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null)),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"card bg-secondary shadow border-0"},s.a.createElement("div",{className:"card-header bg-white text-center"},s.a.createElement("img",{src:R,height:"80px",alt:"Logo"})),s.a.createElement("div",{className:"card-body px-lg-5 py-lg-2"},s.a.createElement("div",{className:"text-center text-muted mb-4"},s.a.createElement("small",null,"sign in with credentials")),s.a.createElement("form",{htmlFor:"form",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"form-group mb-3"},s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(b.a,{path:f.j,title:"User Profile",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#9e9e9e"}))),s.a.createElement("input",{className:"form-control",placeholder:"Email",type:"email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(b.a,{path:f.p,title:"User Profile",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#9e9e9e"}))),s.a.createElement("input",{className:"form-control",placeholder:"Password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customCheckLogin",type:"checkbox"}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customCheckLogin"},s.a.createElement("span",null,"Remember me"))),s.a.createElement("div",{className:"text-center"},s.a.createElement("button",{type:"submit",className:"btn btn-primary my-4"},"Sign in"))))),s.a.createElement("div",{className:"row mt-3"},s.a.createElement("div",{className:"col text-right"},s.a.createElement("a",{href:"/",className:"text-light"},s.a.createElement("small",null,"Forgot Password?"))))))))),s.a.createElement("footer",{className:"footer"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row row-grid align-items-center mb-5"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("h3",{className:"text-primary font-weight-light mb-2"},"Thank you for supporting us!"),s.a.createElement("h4",{className:"mb-0 font-weight-light"},"Let's get in touch on any of these platforms.")),s.a.createElement("div",{className:"col-lg-6 text-lg-center btn-wrapper"},s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://twitter.com/csa",className:"btn btn-neutral btn-icon-only btn-twitter btn-round btn-lg","data-toggle":"tooltip","data-original-title":"Follow us"},s.a.createElement(b.a,{path:f.y,title:"User Profile",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#fff"})),s.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.facebook.com/csa",className:"btn btn-neutral btn-icon-only btn-facebook btn-round btn-lg","data-toggle":"tooltip","data-original-title":"Like us"},s.a.createElement(b.a,{path:f.k,title:"User Profile",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#fff"})),s.a.createElement("a",{target:"_blank",href:"/",className:"btn btn-neutral btn-icon-only btn-dribbble btn-lg btn-round","data-toggle":"tooltip","data-original-title":"Follow us"},s.a.createElement(b.a,{path:f.o,title:"User Profile",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#fff"})))),s.a.createElement("hr",null),s.a.createElement("div",{className:"row align-items-center justify-content-md-between"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"copyright"},"\xa9 2019",s.a.createElement("a",{href:"/",target:"_blank"},"Verd"),".")),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("ul",{className:"nav nav-footer justify-content-end"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/",className:"nav-link",target:"_blank"},"Verd")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/",className:"nav-link",target:"_blank"},"About Us")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/",className:"nav-link",target:"_blank"},"License"))))))))}}]),t}(l.Component),_=(a(197),a(109)),B={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Data",fill:!1,lineTension:.1,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:[65,59,80,81,56,55,40]}]},M=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={data:B},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e={token:localStorage.getItem("token")};y.a.post("http://api.verd.com.au/user/graphs",e).then((function(e){if(e.data.success){var t=[],a=[];console.log(e.data.data);var n=e.data.data;for(var l in n)t.push(n[l].user.name),a.push(n[l].count)}})).catch((function(e){}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xl-8 mb-5 mb-xl-0"},s.a.createElement("div",{className:"card bg-gradient-default shadow"},s.a.createElement("div",{className:"card-header bg-transparent"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col"},s.a.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"},"Overview"),s.a.createElement("h2",{className:"text-white mb-0"},"Survey by employees")))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"chart"},s.a.createElement(_.b,{data:this.state.data}))))),s.a.createElement("div",{className:"col-xl-4"},s.a.createElement("div",{className:"card shadow"},s.a.createElement("div",{className:"card-header bg-transparent"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col"},s.a.createElement("h6",{className:"text-uppercase text-muted ls-1 mb-1"},"Performance"),s.a.createElement("h2",{className:"mb-0"},"Survey by employees")))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"chart"},s.a.createElement(_.a,{data:this.state.data,width:100,height:50,options:{maintainAspectRatio:!1}})))))))}}]),t}(l.Component),z=a(10),H=a(30),U=a.n(H),q=(a(40),a(49),a(3)),V=a.n(q),W=a(19),G=function(){var e=localStorage.getItem("token");if(e){var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(t))}},Y=function(){return localStorage.getItem("token")},Q=function(e,t,a){var n,l;return V.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,"get"===(t=t.toUpperCase()).toLowerCase()&&a&&(n=Object.keys(a).map((function(e){return e+"="+a[e]})).join("&"),e+="?"+n,a=void 0),k,s.next=6,V.a.awrap(fetch("http://api.verd.com.au/"+e,{method:t.toUpperCase(),body:JSON.stringify(a),headers:{token:Y(),"Content-Type":"application/json; charset=utf-8"}}));case 6:return l=s.sent,s.next=9,V.a.awrap(l.json());case 9:return s.abrupt("return",s.sent);case 12:throw s.prev=12,s.t0=s.catch(0),console.group("API ".concat(t," Error")),console.error(s.t0),console.groupEnd(),s.t0;case 18:case"end":return s.stop()}}),null,null,[[0,12]])},J=function(e){switch(e){case"submitted":return"Submitted";case"archived":return"Archived";default:return"On Hold"}},X=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label"},this.props.label),s.a.createElement("input",{className:"form-control form-control-alternative ".concat(this.props.showError?"is-invalid":""),type:this.props.type,placeholder:this.props.placeholder,name:this.props.name,value:this.props.value,onChange:this.props.onChange}),this.props.showError&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},this.props.error)))}}]),t}(l.Component),K=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){var t=Object(z.a)({},e);a.setState(Object(m.a)({},t.target.name,t.target.value))},a.handleCloseDialog=function(e){var t=!0,n=void 0;e&&(a.state.date||(t=!1,a.props.showToast("Please select date","error")),a.state.rate||(t=!1,a.props.showToast("Please add cost rate","error")),t&&(n={date:a.state.date,rate:a.state.rate})),t&&a.props.handleCloseDialog(n)},a.state={date:new Date,rate:""},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"bill_rate_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Bill Rate")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-12"},s.a.createElement(X,{label:"Date",type:"date",placeholder:"Date",name:"date",value:this.state.date,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-12"},s.a.createElement(X,{label:"Bill Rate/Hr",type:"number",placeholder:"Bill Rate/Hr",name:"rate",value:this.state.rate,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.handleCloseDialog(!1)}},"Cancel"),s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"button",onClick:function(){return e.handleCloseDialog(!0)}},"Create"))))))))))))}}]),t}(l.Component),Z=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){var t=Object(z.a)({},e);a.setState(Object(m.a)({},t.target.name,t.target.value))},a.handleCloseDialog=function(e){var t=!0,n=void 0;e&&(a.state.date||(t=!1,a.props.showToast("Please select date","error")),a.state.rate||(t=!1,a.props.showToast("Please add cost rate","error")),t&&(n={date:a.state.date,rate:a.state.rate})),t&&a.props.handleCloseDialog(n)},a.state={date:new Date,rate:""},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"cost_rate_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Cost Rate")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-12"},s.a.createElement(X,{label:"Date",type:"date",placeholder:"Date",name:"date",value:this.state.date,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-12"},s.a.createElement(X,{label:"Cost Rate/Hr",type:"number",placeholder:"Cost Rate/Hr",name:"rate",value:this.state.rate,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.handleCloseDialog(!1)}},"Cancel"),s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"button",onClick:function(){return e.handleCloseDialog(!0)}},"Create"))))))))))))}}]),t}(l.Component),$=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getCostRates=function(){},a.getBillRates=function(){},a.handleOpenCostRateDialog=function(e,t){e||window.$("#cost_rate_dialog").modal("hide");var n=Object(W.a)(a.state.costRates);void 0!==t&&n.splice(t,1),a.setState({costRateDialog:{isOpen:e,data:void 0!==t?Object(z.a)({},a.state.costRates[t]):void 0,editIndex:t,costRates:n}},(function(){e&&window.$("#cost_rate_dialog").modal("show")}))},a.handleCloseCostRateDialog=function(e){console.log("cost rate data ",e),window.$("#cost_rate_dialog").modal("hide"),a.setState({costRateDialog:{isOpen:!1,data:void 0,editIndex:-1}},(function(){e&&a.getCostRates(0)}))},a.handleDeleteCostRate=function(e){a.props.confirmDialog.show("Are you sure","Do you want to delete",(function(){var t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({isLoading:!0}),n.next=3,V.a.awrap(Q("cost-rates/".concat(a.state.costRates[e]._id),"DELETE"));case 3:n.sent.success?(a.showToast("Cost rate deleted successfully","success"),(t=Object(W.a)(a.state.costRates)).splice(e,1),a.setState({costRates:t,isLoading:!1})):(a.setState({isLoading:!1}),a.showToast("Error while getting deleting cost rate","error"));case 5:case"end":return n.stop()}}))}))},a.handleOpenBillRateDialog=function(e,t){e||window.$("#bill_rate_dialog").modal("hide");var n=Object(W.a)(a.state.billRates);void 0!==t&&n.splice(t,1),a.setState({billRateDialog:{isOpen:e,data:void 0!==t?Object(z.a)({},a.state.billRates[t]):void 0,editIndex:t,billRates:n}},(function(){e&&window.$("#bill_rate_dialog").modal("show")}))},a.handleCloseBillRateDialog=function(e){console.log("bill rate data ",e),window.$("#bill_rate_dialog").modal("hide"),a.setState({billRateDialog:{isOpen:!1,data:void 0,editIndex:-1}},(function(){e&&a.getBillRates(0)}))},a.handleDeleteBillRate=function(e){a.props.confirmDialog.show("Are you sure","Do you want to delete",(function(){var t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({isLoading:!0}),n.next=3,V.a.awrap(Q("bill-rates/".concat(a.state.billRates[e]._id),"DELETE"));case 3:n.sent.success?(a.showToast("bill deleted successfully","success"),(t=Object(W.a)(a.state.billRates)).splice(e,1),a.setState({billRates:t,isLoading:!1})):(a.setState({isLoading:!1}),a.showToast("Error while getting deleting bill rate","error"));case 5:case"end":return n.stop()}}))}))},a.state={costRates:[{date:"01/12/2020",rate:12}],billRates:[{date:"02/1/2020",rate:10}],costRateDialog:{isOpen:!1,data:void 0,editIndex:-1},billRateDialog:{isOpen:!1,data:void 0,editIndex:-1}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getCostRates(),this.getBillRates()}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h5",null,"Cost Rate/Hr"),s.a.createElement("button",{onClick:function(){return e.handleOpenCostRateDialog(!0)},className:"btn btn-sm btn-primary"},"Add")),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Begin Date"),s.a.createElement("th",{scope:"col"},"Rate/hr"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.costRates.map((function(t,a){return s.a.createElement("tr",{key:"costRate".concat(a)},s.a.createElement("td",null,t.date),s.a.createElement("td",null,t.rate),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenCostRateDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDeleteCostRate(a)},className:"btn btn-sm btn-danger"},"Delete")))})))))),s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h5",null,"Bill Rate/Hr"),s.a.createElement("button",{onClick:function(){return e.handleOpenBillRateDialog(!0)},className:"btn btn-sm btn-primary"},"Add")),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Begin Date"),s.a.createElement("th",{scope:"col"},"Rate/hr"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.billRates.map((function(t,a){return s.a.createElement("tr",{key:"billRate".concat(a)},s.a.createElement("td",null,t.date),s.a.createElement("td",null,t.rate),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenBillRateDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDeleteBillRate(a)},className:"btn btn-sm btn-danger"},"Delete")))}))))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")))),this.state.billRateDialog.isOpen&&s.a.createElement(K,{showToast:this.props.showToast,handleCloseDialog:this.handleCloseBillRateDialog}),this.state.costRateDialog.isOpen&&s.a.createElement(Z,{showToast:this.props.showToast,handleCloseDialog:this.handleCloseCostRateDialog}))}}]),t}(l.Component),ee=(a(139),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){var t=Object(z.a)({},e);a.setState((function(e){return{searchObj:Object(z.a)({},e.searchObj,Object(m.a)({},t.target.name,t.target.value))}}))},a.state={employeesTimeSheets:[{date:"12-02-2020",project:"test",task:"task",hours:"8",description:"description",billable:"Yes",status:"Hold"}],searchObj:{status:""}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex flex-wrap align-items-center employee-time-sheet-filter"},s.a.createElement("label",null,"Current Period"),s.a.createElement("label",null,"Last Period"),s.a.createElement("label",null,"This Year"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"status"},"Status"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"status",value:this.state.searchObj.status,onChange:this.handleChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"on-hold"},"On Hold"),s.a.createElement("option",{value:"rejected"},"Rejected"),s.a.createElement("option",{value:"with-approver"},"With Approver"),s.a.createElement("option",{value:"approved"},"Approved"),s.a.createElement("option",{value:"submitted"},"Submitted"),s.a.createElement("option",{value:"downloaded"},"Downloaded"))),s.a.createElement("div",null,s.a.createElement(X,{label:"Start Date",type:"date",placeholder:"Start Date",name:"startDate",value:this.state.startDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement(X,{label:"End Date",type:"date",placeholder:"End Date",name:"endDate",value:this.state.endDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary"},"Search"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Date"),s.a.createElement("th",{scope:"col"},"Customer:Project"),s.a.createElement("th",{scope:"col"},"Task"),s.a.createElement("th",{scope:"col"},"Hours"),s.a.createElement("th",{scope:"col"},"Description"),s.a.createElement("th",{scope:"col"},"Billable"),s.a.createElement("th",{scope:"col"},"Status"))),s.a.createElement("tbody",null,this.state.employeesTimeSheets.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.date),s.a.createElement("td",null,e.project),s.a.createElement("td",null,e.task),s.a.createElement("td",null,e.hours),s.a.createElement("td",null,e.description),s.a.createElement("td",null,e.billable),s.a.createElement("td",null,s.a.createElement("span",null," ",e.status)))}))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")))}}]),t}(l.Component)),te=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){var t=Object(z.a)({},e);a.setState((function(e){return{searchObj:Object(z.a)({},e.searchObj,Object(m.a)({},t.target.name,t.target.value))}}))},a.state={employeeExpenses:[{date:"12-02-2020",project:"test",task:"task",hours:"8",description:"description",billable:"Yes",status:"Hold"}],searchObj:{status:""}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex flex-wrap align-items-center employee-time-sheet-filter"},s.a.createElement("label",null,"Current Period"),s.a.createElement("label",null,"Last Period"),s.a.createElement("label",null,"This Year"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"sub_class"},"Sub Class"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"status",value:this.state.searchObj.status,onChange:this.handleChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"on-hold"},"On Hold"),s.a.createElement("option",{value:"rejected"},"Rejected"),s.a.createElement("option",{value:"with-approver"},"With Approver"),s.a.createElement("option",{value:"approved"},"Approved"),s.a.createElement("option",{value:"submitted"},"Submitted"),s.a.createElement("option",{value:"downloaded"},"Downloaded"))),s.a.createElement("div",null,s.a.createElement(X,{label:"Start Date",type:"date",placeholder:"Start Date",name:"startDate",value:this.state.startDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement(X,{label:"End Date",type:"date",placeholder:"End Date",name:"endDate",value:this.state.endDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary"},"Search"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Date"),s.a.createElement("th",{scope:"col"},"Customer:Project"),s.a.createElement("th",{scope:"col"},"Task"),s.a.createElement("th",{scope:"col"},"Hours"),s.a.createElement("th",{scope:"col"},"Description"),s.a.createElement("th",{scope:"col"},"Billable"),s.a.createElement("th",{scope:"col"},"Status"))),s.a.createElement("tbody",null,this.state.employeeExpenses.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.date),s.a.createElement("td",null,e.project),s.a.createElement("td",null,e.task),s.a.createElement("td",null,e.hours),s.a.createElement("td",null,e.description),s.a.createElement("td",null,e.billable),s.a.createElement("td",null,s.a.createElement("span",null," ",e.status)))}))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")))}}]),t}(l.Component),ae=a(25),ne=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={address:{home:{address:"",city:"",state:"",country:""},office:{address:"",city:"",state:"",country:""}}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ae.a,{initialValues:this.state.address,validate:function(e){return{}},onSubmit:function(e){return V.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))}},(function(t){var a=t.values,n=t.errors,l=t.touched,r=(t.handleChange,t.handleSubmit),o=t.setFieldValue;t.resetForm;return s.a.createElement("form",{onSubmit:r},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Home Address",type:"text",placeholder:"Home Address",name:"home.address",value:a.home.address,onChange:function(e){o("Name",e.target.value)},showError:!!(n.home&&n.home.address&&l.home&&l.home.address),error:!(!n.home||!n.home.address)})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"City",type:"text",placeholder:"City",name:"home.city",value:a.home.city,onChange:function(e){o("Name",e.target.value)},showError:!!(n.home&&n.home.city&&l.home&&l.home.city),error:!(!n.home||!n.home.city)})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"State",type:"text",placeholder:"State",name:"home.state",value:a.home.state,onChange:function(e){o("Name",e.target.value)},showError:!!(n.home&&n.home.state&&l.home&&l.home.state),error:!(!n.home||!n.home.state)})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Country",type:"text",placeholder:"Country",name:"home.country",value:a.home.country,onChange:function(e){o("Name",e.target.value)},showError:!!(n.home&&n.home.country&&l.home&&l.home.country),error:!(!n.home||!n.home.country)})))),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Office Address",type:"text",placeholder:"Office Address",name:"office.address",value:a.office.address,onChange:function(e){o("Name",e.target.value)},showError:!!(n.office&&n.office.address&&l.office&&l.office.address),error:!(!n.office||!n.office.address)})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"City",type:"text",placeholder:"City",name:"office.city",value:a.office.city,onChange:function(e){o("Name",e.target.value)},showError:!!(n.office&&n.office.city&&l.office&&l.office.city),error:!(!n.office||!n.office.city)})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"State",type:"text",placeholder:"State",name:"office.state",value:a.office.state,onChange:function(e){o("Name",e.target.value)},showError:!!(n.office&&n.office.state&&l.office&&l.office.state),error:!(!n.office||!n.office.state)})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Country",type:"text",placeholder:"Country",name:"office.country",value:a.office.country,onChange:function(e){o("Name",e.target.value)},showError:!!(n.office&&n.office.country&&l.office&&l.office.country),error:!(!n.office||!n.office.country)})))),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(){return e.props.handleCloseDialog()}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))))})))}}]),t}(l.Component),le=a(53),se=a(20),re=a.n(se),oe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={projectData:[],tasks:{},beginDates:{}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"showContent",value:function(e){document.getElementById(e.target.getAttribute("name")).classList.toggle("removeContent"),e.target.classList.toggle("active")}},{key:"componentDidMount",value:function(){var e=this,t={token:localStorage.getItem("token"),empId:this.props.employeeId};Promise.all([y.a.post("http://api.verd.com.au/client/retriveClientForEmployee",t),y.a.post("http://api.verd.com.au/task/list",t)]).then((function(t){var a=Object(le.a)(t,2),n=a[0],l=a[1];if(n.data.success){var s=n.data.data,r={},o=[];s&&s.length&&(s.forEach((function(t){var a=t.employees&&t.employees.length?t.employees.filter((function(t){return t.employeeId==e.props.employeeId})):[];if(a.length){var n=[];l.data.success&&a[0].tasks&&a[0].tasks.length&&(n=l.data.data.filter((function(e){return-1!=a[0].tasks.indexOf(e.Id)})));var s=a[0].beginDate;r[t.Id]=n,o.push(Object(m.a)({},t.Id,s))}})),e.setState({projectData:n.data.data,tasks:r,beginDates:o}))}else e.props.showToast(n.data.message,"error")}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.loading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):"",s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null),s.a.createElement("th",{scope:"col"},"Name"),s.a.createElement("th",{scope:"col"},"Begin Date"),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,this.state.projectData&&this.state.projectData.length?this.state.projectData.map((function(t,a){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{className:"thead-light",key:a},s.a.createElement("td",null,s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("span",{name:"client_"+t.Id,onClick:function(t){return e.showContent(t)},className:"accordion"})))," ",s.a.createElement("td",null,s.a.createElement("p",null,t.DisplayName)),s.a.createElement("td",null,s.a.createElement("p",null,re()(e.state.beginDates[t.Id]).format("Do MMM dddd YYYY"))),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-info",name:"client_"+t.Id},"edit"))),s.a.createElement("tr",{className:"removeContent",id:"client_"+t.Id},s.a.createElement("td",null),s.a.createElement("td",null,s.a.createElement("h3",null,"Tasks Assigned"),e.state.tasks&&e.state.tasks[t.Id]?e.state.tasks[t.Id].map((function(e,t){return s.a.createElement("p",null,e.FullyQualifiedName)})):s.a.createElement("p",null,"No Active tasks!"))))})):""))),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")))}}]),t}(s.a.Component),ce=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleApproverChange=function(e,t){var n={token:localStorage.getItem("access-token"),approverId:e.target.value,employeeId:t};y.a.post("http://api.verd.com.au/employee/setApprover",n).then((function(e){e.data.success&&P.ToastsStore.success("Approver changed successfully","success")})),a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleHireDateChange=function(e){a.setState({HiredDate:e})},a.handleEndDateChange=function(e){a.setState({ReleasedDate:e})},a.handleTypeChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleEditEmployee=function(e){var t=Object(z.a)({},a.state.employees[e]),n=a.state.employees;a.setState({FirstName:t.FirstName||"",FamilyName:t.FamilyName||"",Title:t.Title,PrimaryPhone:t.PrimaryPhone.FreeFormNumber,CountrySubDivisionCode:t.PrimaryAddr.CountrySubDivisionCode,City:t.PrimaryAddr.City,PostalCode:t.PrimaryAddr.PostalCode,Line1:t.PrimaryAddr.Line1,email:t.email,HiredDate:t.HiredDate?new Date(t.HiredDate):"",ReleasedDate:t.ReleasedDate?new Date(t.ReleasedDate):"",selectedEmployeeId:t._id,possibleApprovers:n,approverId:t.employeeExtended&&t.employeeExtended.approverId?t.employeeExtended.approverId:"",DisplayName:t.DisplayName},(function(){window.$("#call-modal-form").modal("show")}))},a.handleOpenEmployeeDialog=function(){a.setState({FirstName:"",FamilyName:"",Title:"",PrimaryPhone:"",CountrySubDivisionCode:"",City:"",PostalCode:"",Line1:"",email:"",HiredDate:new Date,ReleasedDate:new Date,selectedEmployeeId:void 0},(function(){window.$("#call-modal-form").modal("show")}))},a.handleSubmit=function(e){e.preventDefault();var t=Object(E.a)(a);t.setState({loading:!0});var n={token:localStorage.getItem("access-token"),FirstName:t.state.FirstName,FamilyName:t.state.FamilyName,Title:t.state.Title,PrimaryPhone:t.state.PrimaryPhone,CountrySubDivisionCode:t.state.CountrySubDivisionCode,City:t.state.City,PostalCode:t.state.PostalCode,Line1:t.state.Line1,email:t.state.email,HiredDate:t.state.HiredDate,ReleasedDate:t.state.ReleasedDate};window.$("#call-modal-form").modal("hide"),y.a.post("http://api.verd.com.au/employee/register",n).then((function(e){e.data.success?window.location.reload():t.setState({FirstName:"",FamilyName:"",Title:"",PrimaryPhone:"",CountrySubDivisionCode:"",City:"",PostalCode:"",Line1:"",email:"",HiredDate:new Date,ReleasedDate:new Date,employees:t.state.employees.concat([e.data.data]),selectedEmployeeId:void 0})})).catch((function(e){t.setState({loading:!1})}))},a.setActiveIndex=function(e){a.setState({selectedTabIndex:e})},a.handleCloseDialog=function(){window.$("#call-modal-form").modal("hide")},a.state={FirstName:"",FamilyName:"",Title:"Mr",PrimaryPhone:"",CountrySubDivisionCode:"",City:"",PostalCode:"",Line1:"",email:"",HiredDate:new Date,ReleasedDate:new Date,employees:[],selectedEmployeeId:void 0,selectedTabIndex:0,employeeExtended:""},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={token:localStorage.getItem("token")};y.a.post("http://api.verd.com.au/employee/list",t).then((function(t){t.data.success&&(console.log(t.data.data),e.setState({employees:t.data.data}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-icon btn-3 btn-primary text-right",type:"button"},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(b.a,{path:f.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{onClick:function(){return e.handleOpenEmployeeDialog()},className:"btn-inner--text"},"Add Employee")),s.a.createElement("div",{className:"modal fade",id:"call-modal-form",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg full-page-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-12"},s.a.createElement("h3",{className:"mb-0 text-center"},this.state.selectedEmployeeId?"Edit Employee":"Add Employee")))),s.a.createElement("div",{className:"card-body text-left employee-dialog-body"},this.state.selectedEmployeeId&&s.a.createElement("ul",{className:"nav nav-pills"},s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(0)}},s.a.createElement("a",{className:"nav-link ".concat(0===this.state.selectedTabIndex?"active":""),href:"#"},"General")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(1)}},s.a.createElement("a",{className:"nav-link ".concat(1===this.state.selectedTabIndex?"active":""),href:"#"},"Projects")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(2)}},s.a.createElement("a",{className:"nav-link ".concat(2===this.state.selectedTabIndex?"active":""),href:"#"},"Accounting")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(3)}},s.a.createElement("a",{className:"nav-link ".concat(3===this.state.selectedTabIndex?"active":""),href:"#"},"Expenses")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(4)}},s.a.createElement("a",{className:"nav-link ".concat(4===this.state.selectedTabIndex?"active":""),href:"#"},"Time Sheets")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(5)}},s.a.createElement("a",{className:"nav-link ".concat(5===this.state.selectedTabIndex?"active":""),href:"#"},"Address"))),s.a.createElement("br",null),1===this.state.selectedTabIndex&&s.a.createElement(oe,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),2===this.state.selectedTabIndex&&s.a.createElement($,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),3===this.state.selectedTabIndex&&s.a.createElement(te,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),4===this.state.selectedTabIndex&&s.a.createElement(ee,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),5===this.state.selectedTabIndex&&s.a.createElement(ne,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),0===this.state.selectedTabIndex&&s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-2"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-title"},"Title"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",type:"text",id:"input-title",placeholder:"Title",name:"Title",value:this.state.Title,onChange:this.handleTypeChange},s.a.createElement("option",{value:"Mr"},"Mr"),s.a.createElement("option",{value:"Mrs"},"Mrs"),s.a.createElement("option",{value:"Miss"},"Miss")))),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-first-name"},"First Name"),s.a.createElement("input",{type:"text",id:"input-first-name",className:"form-control form-control-alternative",placeholder:"First Name",name:"FirstName",value:this.state.FirstName,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-last-name"},"Last Name"),s.a.createElement("input",{type:"text",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Last Name",name:"FamilyName",value:this.state.FamilyName,onChange:this.handleChange,required:!0})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-email"},"Email"),s.a.createElement("input",{type:"email",id:"input-email",className:"form-control form-control-alternative",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-mobile"},"Mobile"),s.a.createElement("input",{type:"number",id:"input-mobile",className:"form-control form-control-alternative",placeholder:"Mobile",name:"PrimaryPhone",value:this.state.PrimaryPhone,onChange:this.handleChange,required:!0}))))),s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Contact information"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-address"},"Address"),s.a.createElement("input",{id:"input-address",className:"form-control form-control-alternative",placeholder:"Home Address",name:"Line1",value:this.state.Line1,onChange:this.handleChange,type:"text"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-City"},"City"),s.a.createElement("input",{type:"text",id:"input-City",className:"form-control form-control-alternative",placeholder:"City",name:"City",value:this.state.City,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Country"),s.a.createElement("input",{type:"text",id:"input-country",className:"form-control form-control-alternative",placeholder:"Country",name:"CountrySubDivisionCode",value:this.state.CountrySubDivisionCode,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Postal code"),s.a.createElement("input",{type:"number",id:"input-postal-code",className:"form-control form-control-alternative",placeholder:"Postal code",name:"PostalCode",value:this.state.PostalCode,onChange:this.handleChange})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Hire Date"),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(b.a,{path:f.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(U.a,{className:"form-control datepicker",selected:this.state.HiredDate,onChange:this.handleHireDateChange})))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"End Date"),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(b.a,{path:f.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(U.a,{className:"form-control datepicker",selected:this.state.ReleasedDate,onChange:this.handleEndDateChange})))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"approver"},"Choose the approver for timesheets and expenses"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"approverId",id:"approver",value:this.state.approverId,onChange:function(t){return e.handleApproverChange(t,e.state.selectedEmployeeId)}},s.a.createElement("option",{value:""}),this.state.possibleApprovers?this.state.possibleApprovers.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e._id,key:"approver".concat(t)},e.DisplayName))})):"")))),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:this.handleCloseDialog},"Cancel"),s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"submit"},"Save")))))))))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Name"),s.a.createElement("th",{scope:"col"},"Email"),s.a.createElement("th",{scope:"col"},"Phone"),s.a.createElement("th",{scope:"col"},"Active"),s.a.createElement("th",{scope:"col"}))),s.a.createElement("tbody",null,this.state.employees.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",{className:"badge badge-dot mr-4"},t.DisplayName)),s.a.createElement("td",null,s.a.createElement("span",{className:"badge badge-dot mr-4"},t.email)),s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null,t.PrimaryPhone?t.PrimaryPhone.FreeFormNumber:"N/A"))),s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null," ",t.Active?"Yes":"No"))),s.a.createElement("td",{className:"text-right"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("a",{className:"btn btn-sm btn-icon-only text-light",href:"/",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement(b.a,{path:f.i,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#000000"})),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-right dropdown-menu-arrow"},s.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.handleEditEmployee(a)}},"Edit")))))}))))))}}]),t}(l.Component),ie=(a(145),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){var t=Object(z.a)({},e);a.setState((function(e){return{searchObj:Object(z.a)({},e.searchObj,Object(m.a)({},t.target.name,t.target.value))}}))},a.state={employeesTimeSheets:[{date:"12-02-2020",project:"test",task:"task",hours:"8",description:"description",billable:"Yes",status:"Hold"}],searchObj:{status:""}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex flex-wrap align-items-center employee-time-sheet-filter"},s.a.createElement("label",null,"Current Period"),s.a.createElement("label",null,"Last Period"),s.a.createElement("label",null,"This Year"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"status"},"Status"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"status",value:this.state.searchObj.status,onChange:this.handleChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"on-hold"},"On Hold"),s.a.createElement("option",{value:"rejected"},"Rejected"),s.a.createElement("option",{value:"with-approver"},"With Approver"),s.a.createElement("option",{value:"approved"},"Approved"),s.a.createElement("option",{value:"submitted"},"Submitted"),s.a.createElement("option",{value:"downloaded"},"Downloaded"))),s.a.createElement("div",null,s.a.createElement(X,{label:"Start Date",type:"date",placeholder:"Start Date",name:"startDate",value:this.state.startDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement(X,{label:"End Date",type:"date",placeholder:"End Date",name:"endDate",value:this.state.endDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary"},"Search"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Date"),s.a.createElement("th",{scope:"col"},"Customer:Project"),s.a.createElement("th",{scope:"col"},"Task"),s.a.createElement("th",{scope:"col"},"Hours"),s.a.createElement("th",{scope:"col"},"Description"),s.a.createElement("th",{scope:"col"},"Billable"),s.a.createElement("th",{scope:"col"},"Status"))),s.a.createElement("tbody",null,this.state.employeesTimeSheets.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.date),s.a.createElement("td",null,e.project),s.a.createElement("td",null,e.task),s.a.createElement("td",null,e.hours),s.a.createElement("td",null,e.description),s.a.createElement("td",null,e.billable),s.a.createElement("td",null,s.a.createElement("span",null," ",e.status)))}))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")))}}]),t}(l.Component)),me=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){var t=Object(z.a)({},e);a.setState((function(e){return{searchObj:Object(z.a)({},e.searchObj,Object(m.a)({},t.target.name,t.target.value))}}))},a.state={employeeExpenses:[{date:"12-02-2020",project:"test",task:"task",hours:"8",description:"description",billable:"Yes",status:"Hold"}],searchObj:{status:""}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex flex-wrap align-items-center employee-time-sheet-filter"},s.a.createElement("label",null,"Current Period"),s.a.createElement("label",null,"Last Period"),s.a.createElement("label",null,"This Year"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"sub_class"},"Sub Class"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"status",value:this.state.searchObj.status,onChange:this.handleChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"on-hold"},"On Hold"),s.a.createElement("option",{value:"rejected"},"Rejected"),s.a.createElement("option",{value:"with-approver"},"With Approver"),s.a.createElement("option",{value:"approved"},"Approved"),s.a.createElement("option",{value:"submitted"},"Submitted"),s.a.createElement("option",{value:"downloaded"},"Downloaded"))),s.a.createElement("div",null,s.a.createElement(X,{label:"Start Date",type:"date",placeholder:"Start Date",name:"startDate",value:this.state.startDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement(X,{label:"End Date",type:"date",placeholder:"End Date",name:"endDate",value:this.state.endDate,onChange:this.handleChange})),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-primary"},"Search"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Date"),s.a.createElement("th",{scope:"col"},"Customer:Project"),s.a.createElement("th",{scope:"col"},"Task"),s.a.createElement("th",{scope:"col"},"Hours"),s.a.createElement("th",{scope:"col"},"Description"),s.a.createElement("th",{scope:"col"},"Billable"),s.a.createElement("th",{scope:"col"},"Status"))),s.a.createElement("tbody",null,this.state.employeeExpenses.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.date),s.a.createElement("td",null,e.project),s.a.createElement("td",null,e.task),s.a.createElement("td",null,e.hours),s.a.createElement("td",null,e.description),s.a.createElement("td",null,e.billable),s.a.createElement("td",null,s.a.createElement("span",null," ",e.status)))}))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")))}}]),t}(l.Component),de=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){var t=Object(z.a)({},e);a.setState(Object(m.a)({},t.target.name,t.target.value))},a.handleCloseDialog=function(e){var t=!0,n=void 0;e&&(a.state.date||(t=!1,a.props.showToast("Please select date","error")),a.state.rate||(t=!1,a.props.showToast("Please add cost rate","error")),t&&(n={beginDate:a.state.date,rate:a.state.rate})),t&&a.props.handleCloseDialog(n)},a.state={date:new Date,rate:""},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"cost_rate_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Cost Rate")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-12"},s.a.createElement(X,{label:"Date",type:"date",placeholder:"Date",name:"date",value:this.state.date,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-12"},s.a.createElement(X,{label:"Cost Rate/Hr",type:"number",placeholder:"Cost Rate/Hr",name:"rate",value:this.state.rate,onChange:this.handleChange})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.handleCloseDialog(!1)}},"Cancel"),s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"button",onClick:function(){return e.handleCloseDialog(!0)}},"Create"))))))))))))}}]),t}(l.Component),ue=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleOpenCostRateDialog=function(e,t){e||window.$("#cost_rate_dialog").modal("hide");var n=Object(W.a)(a.state.hourlyRates);void 0!==t&&n.splice(t,1),a.setState({costRateDialog:{isOpen:e,data:void 0!==t?Object(z.a)({},a.state.hourlyRates[t]):void 0,editIndex:t,costRates:n}},(function(){e&&window.$("#cost_rate_dialog").modal("show")}))},a.handleCloseCostRateDialog=function(e){console.log("cost rate data ",e),window.$("#cost_rate_dialog").modal("hide");var t=a.state.hourlyRates;t.push(e),a.setState({costRateDialog:{isOpen:!1,data:void 0,editIndex:-1},hourlyRates:t})},a.handleDeleteCostRate=function(e){var t=a.state.hourlyRates;t.splice(e,1),a.setState({hourlyRates:t})},a.handleOpenBillRateDialog=function(e,t){e||window.$("#bill_rate_dialog").modal("hide");var n=Object(W.a)(a.state.billRates);void 0!==t&&n.splice(t,1),a.setState({billRateDialog:{isOpen:e,data:void 0!==t?Object(z.a)({},a.state.billRates[t]):void 0,editIndex:t,billRates:n}},(function(){e&&window.$("#bill_rate_dialog").modal("show")}))},a.handleDropdown=function(e,t){a.setState(Object(m.a)({},t,e.target.value))},a.handleCheckbox=function(e,t){a.setState(Object(m.a)({},t,e.target.checked))},a.handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleSave=function(e){var t;"employee"==e&&a.state.linkedEmployee&&a.state.hourlyRates&&a.state.hourlyRates.length||"supplier"==e&&a.state.hourlyRateSupplier&&(!a.state.GSTApplicable||a.state.GSTApplicable&&a.state.taxTypeApplicable)&&(!a.state.superAnnuationRequired||a.state.superAnnuationRequired&&a.state.superAnuationPercentage&&a.state.superBaseAccount&&a.state.superPayableAccount)?(t="employee"==e?{linkEmployeeId:a.state.linkedEmployee,linkUserId:a.props.employeeId,token:localStorage.getItem("token"),hourlyRate:a.state.hourlyRates,quickBookSync:a.state.quickBookSyncEmployee,type:"Employee"}:{linkSupplierId:a.state.linkedSupplier,linkUserId:a.props.employeeId,token:localStorage.getItem("token"),hourlyRate:a.state.hourlyRateSupplier,quickBookSync:a.state.quickBookSyncSupplier,taxRequired:a.state.GSTApplicable,taxType:a.state.taxTypeApplicable,superRequired:a.state.superAnnuationRequired,superPercentage:a.state.superAnuationPercentage,superBase:a.state.superBaseAccount,superPayable:a.state.superPayableAccount,supplierBillVoid:a.state.voidSupplierBill,type:"Supplier"},y.a.post("http://api.verd.com.au/user/linkEmployee",t).then((function(e){e.data.success?a.props.showToast(e.data.message,"success"):a.props.showToast(e.data.message,"error")})).catch((function(e){a.props.showToast(e.message,"error")}))):a.props.showToast("Fill all the required details","error")},a.handleQuickbook=function(e){a.setState({quickBookSyncEmployee:e.target.checked})},a.state={hourlyRates:[],costRateDialog:{isOpen:!1,data:void 0,editIndex:-1},billRateDialog:{isOpen:!1,data:void 0,editIndex:-1},employeeList:[],suppliersList:[],accountList:[],taxList:[{value:"TaxExcluded",key:"Tax Excluded"},{value:"TaxInclusive",key:"Tax Inclusive"},{value:"NotApplicable",key:"Not Applicable"}],approver:"",linkedEmployee:"",linkedSupplier:"",quickBookSyncEmployee:!1,superBaseAccount:"",superPayableAccount:"",GSTApplicable:!1,quickBookSyncSupplier:!1,hourlyRateSupplier:0,superAnnuationRequired:!1,superAnuationPercentage:0,voidSupplierBill:!1,taxTypeApplicable:""},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this,a={token:localStorage.getItem("token")},n=this.props.userList?this.props.userList.filter((function(t){return t._id==e.props.employeeId})):[];(n=n&&n.length?n[0]:{}).linkedEmployee&&this.setState({linkedEmployee:n.linkedEmployee}),n.linkedEmployeeSettings&&n.linkedEmployeeSettings.importTimesheetsToQB&&this.setState({quickBookSyncEmployee:n.linkedEmployeeSettings.importTimesheetsToQB}),n.hourlyRate&&this.setState({hourlyRates:n.hourlyRate}),n.linkedSupplier&&this.setState({linkedSupplier:n.linkedSupplier}),n.linkedSupplierSettings&&(n.linkedSupplierSettings.superPayableAccount&&this.setState({superPayableAccount:n.linkedSupplierSettings.superPayableAccount}),n.linkedSupplierSettings.hourlyRate&&this.setState({hourlyRateSupplier:n.linkedSupplierSettings.hourlyRate}),n.linkedSupplierSettings.superBaseAccount&&this.setState({superBaseAccount:n.linkedSupplierSettings.superBaseAccount}),n.linkedSupplierSettings.superPercentage&&this.setState({superAnuationPercentage:n.linkedSupplierSettings.superPercentage}),n.linkedSupplierSettings.superRequired&&this.setState({superAnnuationRequired:n.linkedSupplierSettings.superRequired}),n.linkedSupplierSettings.quickBookSyncRequired&&this.setState({quickBookSyncSupplier:n.linkedSupplierSettings.quickBookSyncRequired}),n.linkedSupplierSettings.voidSupplierBill&&this.setState({voidSupplierBill:n.linkedSupplierSettings.voidSupplierBill}),n.linkedSupplierSettings.gstApplicable&&this.setState({GSTApplicable:n.linkedSupplierSettings.gstApplicable}),n.linkedSupplierSettings.taxType&&this.setState({taxTypeApplicable:n.linkedSupplierSettings.taxType}));Promise.all([y.a.post("http://api.verd.com.au/employee/getAllEmployees",a),y.a.post("http://api.verd.com.au/vendor/list",a),y.a.post("http://api.verd.com.au/account/list",a)]).then((function(e){var a=Object(le.a)(e,3),n=a[0],l=a[1],s=a[2];t.setState({employeeList:n.data.data,suppliersList:l.data.data,accountList:s.data.data})})).catch((function(t){console.log(t),e.props.showToast(t.message,"error")}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"container-fluid"},s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Link Employee"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"linkedEmployee"},"Select Employee to link"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"linkedEmployee",id:"linkedEmployee",value:this.state.linkedEmployee,onChange:function(t){return e.handleDropdown(t,"linkedEmployee")}},s.a.createElement("option",{value:""}),this.state.employeeList?this.state.employeeList.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.id,key:"emp".concat(t)},e.displayName))})):""))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{className:"custom-control-input",id:"employee_timeSheets",type:"checkbox",name:"employee_timeSheets",checked:this.state.quickBookSyncEmployee,onChange:function(t){return e.handleCheckbox(t,"quickBookSyncEmployee")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"employee_timeSheets"},"Import timesheets of employee to Quickbook")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h5",null,"Cost Rate/Hr"),s.a.createElement("button",{onClick:function(){return e.handleOpenCostRateDialog(!0)},className:"btn btn-sm btn-primary"},"Add")),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Begin Date"),s.a.createElement("th",{scope:"col"},"Rate/hr"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.hourlyRates.map((function(t,a){return s.a.createElement("tr",{key:"costRate".concat(a)},s.a.createElement("td",null,re()(t.beginDate).format("Do MMM YYYY")),s.a.createElement("td",null,t.rate),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenCostRateDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDeleteCostRate(a)},className:"btn btn-sm btn-danger"},"Delete")))}))))))),s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"button",onClick:function(){return e.handleSave("employee")}},"Save"))),s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Link Supplier"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"supplier"},"Select Supplier to link"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"supplier",id:"supplier",value:this.state.linkedSupplier,onChange:function(t){return e.handleDropdown(t,"linkedSupplier")}},s.a.createElement("option",{value:""}),this.state.suppliersList?this.state.suppliersList.map((function(e,t){return e.Active?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.Id,key:"emp".concat(t)},e.DisplayName)):""})):"")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{className:"custom-control-input",id:"supplier_qblink",type:"checkbox",name:"supplier_qblink",checked:this.state.quickBookSyncSupplier,onChange:function(t){return e.handleCheckbox(t,"quickBookSyncSupplier")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"supplier_qblink"},"Import Supplier bill to Quickbook")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"hourlyRateSupplier"},"Hourly Rate"),s.a.createElement("input",{type:"number",id:"hourlyRateSupplier",className:"form-control form-control-alternative",placeholder:"Hourly rate",name:"hourlyRateSupplier",value:this.state.hourlyRateSupplier,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{className:"custom-control-input",id:"supplier_billvoid",type:"checkbox",name:"supplier_billvoid",checked:this.state.voidSupplierBill,onChange:function(t){return e.handleCheckbox(t,"voidSupplierBill")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"supplier_billvoid"},"Void Supplier bill")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{className:"custom-control-input",id:"supplier_gst",type:"checkbox",name:"supplier_gst",checked:this.state.GSTApplicable,onChange:function(t){return e.handleCheckbox(t,"GSTApplicable")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"supplier_gst"},"GST/Tax")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"gst_type"},"Select tax type"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"gst_type",id:"gst_type",value:this.state.taxTypeApplicable,onChange:function(t){return e.handleDropdown(t,"taxTypeApplicable")},required:this.state.GSTApplicable},s.a.createElement("option",{value:""}),this.state.taxList?this.state.taxList.map((function(e,t){return e.key?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.value,key:"emp".concat(t)},e.key)):""})):"")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{className:"custom-control-input",id:"superAnnuationRequired",type:"checkbox",name:"superAnnuationRequired",checked:this.state.superAnnuationRequired,onChange:function(t){return e.handleCheckbox(t,"superAnnuationRequired")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"superAnnuationRequired"},"Superanuation")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"superAnuationPercentage"},"Superannuation Percentage (%)"),s.a.createElement("input",{type:"number",id:"superAnuationPercentage",className:"form-control form-control-alternative",placeholder:"Superanuation %",name:"superAnuationPercentage",value:this.state.superAnuationPercentage,onChange:this.handleChange,required:this.state.superAnnuationRequired}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"supplier_superbase"},"Superannuation Account"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"supplier_superbase",id:"supplier_superbase",value:this.state.superBaseAccount,onChange:function(t){return e.handleDropdown(t,"superBaseAccount")},required:this.state.superAnnuationRequired},s.a.createElement("option",{value:""}),this.state.accountList?this.state.accountList.map((function(e,t){return e.Id?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.Id,key:"emp".concat(t)},e.FullyQualifiedName)):""})):"")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"supplier_superbase"},"Superannuation Payable Account"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"supplier_superPayable",id:"supplier_superPayable",value:this.state.superPayableAccount,onChange:function(t){return e.handleDropdown(t,"superPayableAccount")},required:this.state.superAnnuationRequired},s.a.createElement("option",{value:""}),this.state.accountList?this.state.accountList.map((function(e,t){return e.Id?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.Id,key:"emp".concat(t)},e.FullyQualifiedName)):""})):"")))),s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"button",onClick:function(){return e.handleSave("supplier")}},"Save")))),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:function(){return e.props.handleCloseDialog()}},"Close")),this.state.costRateDialog.isOpen&&s.a.createElement(de,{showToast:this.props.showToast,handleCloseDialog:this.handleCloseCostRateDialog}))}}]),t}(l.Component),pe=a(160),he=a(161),Ee=a.n(he),ge=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).setActiveIndex=function(e){a.setState({selectedTabIndex:e})},a.handleColumnsVisible=function(e){a.setState({columnsToBeShown:e})},a.handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleHireDateChange=function(e){a.setState({HiredDate:e})},a.handleEndDateChange=function(e){a.setState({ReleasedDate:e})},a.handleTypeChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleEditUser=function(e){var t=Object(E.a)(a),n=Object(z.a)({},a.state.userList[e]);a.setState({loading:!0});var l={selectedUser:n._id,token:localStorage.getItem("token")};y.a.post("http://api.verd.com.au/user/getApprovers",l).then((function(e){var a;e.data.success?t.setState((a={FirstName:n.givenName||"",FamilyName:n.middleName||"",Title:n.title,PrimaryPhone:n.mobile,CountrySubDivisionCode:n.primaryAddr.CountrySubDivisionCode,City:n.primaryAddr.City,PostalCode:n.primaryAddr.PostalCode,Line1:n.primaryAddr.Line1,email:n.email,HiredDate:n.HiredDate?new Date(n.HiredDate):"",ReleasedDate:n.ReleasedDate?new Date(n.ReleasedDate):"",selectedEmployeeId:n._id,possibleApprovers:e.data.data,approverId:n.approver,DisplayName:n.displayName,portalAccess:!!n.access&&-1!=n.access.indexOf("PORTAL"),accessLevels:n.access},Object(m.a)(a,"approverId",n.approver),Object(m.a)(a,"loading",!1),Object(m.a)(a,"approvalRequired",!!n.approver),Object(m.a)(a,"invitationSent",!!n.invitation),a),(function(){window.$("#call-modal-form").modal("show")})):P.ToastsStore.error(e.data.message)})).catch((function(e){console.log(e),P.ToastsStore.error(e.message)}))},a.handleApproverChange=function(e){""==e.target.value?a.setState({approver:{},approverId:""}):a.setState({approverId:e.target.value,approver:{id:e.target.value,model:a.state.possibleApprovers.filter((function(t){return t.id==e.target.value}))[0].approverModel},approvalRequired:!0})},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.handleOpenUserDialog=function(){a.setState({FirstName:"",FamilyName:"",Title:"",PrimaryPhone:"",CountrySubDivisionCode:"",City:"",PostalCode:"",Line1:"",email:"",HiredDate:new Date,ReleasedDate:new Date,selectedEmployeeId:void 0},(function(){window.$("#call-modal-form").modal("show")}))},a.handleSubmit=function(e){e.preventDefault();var t,n=Object(E.a)(a);n.setState({loading:!0});var l=a.state.accessLevels;t=a.state.selectedEmployeeId?k+"user/update":k+"user/add",a.state.portalAccess&&-1==l.indexOf("PORTAL")?l.push("PORTAL"):a.state.portalAccess||-1==l.indexOf("PORTAL")||l.splice(l.indexOf("PORTAL"),1);var s={token:localStorage.getItem("token"),FirstName:n.state.FirstName,FamilyName:n.state.FamilyName,Title:n.state.Title,PrimaryPhone:n.state.PrimaryPhone,CountrySubDivisionCode:n.state.CountrySubDivisionCode,City:n.state.City,PostalCode:n.state.PostalCode,Line1:n.state.Line1,email:n.state.email,HiredDate:n.state.HiredDate,ReleasedDate:n.state.ReleasedDate,approver:n.state.approver,updateUserId:n.state.selectedEmployeeId,access:l};y.a.post(t,s).then((function(e){n.setState({loading:!1}),e.data.success?P.ToastsStore.success(e.data.message):P.ToastsStore.error(e.data.message)})).catch((function(e){n.setState({loading:!1}),P.ToastsStore.error(e.message)}))},a.handleCloseDialog=function(){window.location.reload(!1),window.$("#call-modal-form").modal("hide")},a.addOrRemoveAccessLevels=function(e){var t=a.state.accessLevels;switch(e.target.name){case"accessLevel_timeSheets":e.target.checked&&-1==t.indexOf("TIMESHEETS")?t.push("TIMESHEETS"):e.target.checked||-1==t.indexOf("TIMESHEETS")||t.splice(t.indexOf("TIMESHEETS"),1);break;case"accessLevel_expenses":e.target.checked&&-1==t.indexOf("EXPENSES")?t.push("EXPENSES"):e.target.checked||-1==t.indexOf("EXPENSES")||t.splice(t.indexOf("EXPENSES"),1);break;case"accessLevel_projects":e.target.checked&&-1==t.indexOf("PROJECTS")?t.push("PROJECTS"):e.target.checked||-1==t.indexOf("PROJECTS")||t.splice(t.indexOf("PROJECTS"),1);break;case"accessLevel_purchasing":e.target.checked&&-1==t.indexOf("PURCHASING")?t.push("PURCHASING"):e.target.checked||-1==t.indexOf("PURCHASING")||t.splice(t.indexOf("PURCHASING"),1)}a.setState({accessLevels:t})},a.handlePortalAccess=function(e){Object(E.a)(a);if(!a.state.invitationSent&&e){if(window.confirm("An invitation mail with auto generated password will be sent to the user email id.")){a.setState({loading:!0});var t={inviteUserId:a.state.selectedEmployeeId,token:localStorage.getItem("token")};y.a.post("http://api.verd.com.au/user/sendInvitation",t).then((function(t){this.setState({loading:!1}),t.data.success?(P.ToastsStore.success(t.data.message),this.setState({invitationSent:!0}),this.setState({portalAccess:e})):P.ToastsStore.error(t.data.message)}))}}else a.setState({portalAccess:e})},a.resetPassword=function(){var e=Object(E.a)(a);if(window.confirm("Mail will be sent to the user with new login credentials")){var t={token:localStorage.getItem("token"),inviteUserId:e.state.selectedEmployeeId};y.a.post("http://api.verd.com.au/user/resetPassword",t).then((function(e){e.data.success&&P.ToastsStore.success(e.data.message)})).catch((function(e){console.log(e),P.ToastsStore.error(e.message)}))}},a.state={FirstName:"",FamilyName:"",Title:"Mr",PrimaryPhone:"",CountrySubDivisionCode:"",City:"",PostalCode:"",Line1:"",email:"",HiredDate:new Date,ReleasedDate:new Date,userList:[],selectedTabIndex:0,portalAccess:!1,accessLevels:[],approvalRequired:!1,approver:{},approverId:"",columnsToBeShown:["NAME","EMAIL","PHONE","ACTIVE","USER ROLE"]},a.handlePortalAccess=a.handlePortalAccess.bind(Object(E.a)(a)),a.handleApproverRequired=a.handleApproverRequired.bind(Object(E.a)(a)),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={token:localStorage.getItem("token")};y.a.post("http://api.verd.com.au/user/list",t).then((function(t){t.data.success&&(console.log(t.data.data),e.setState({userList:t.data.data}))})).catch((function(e){console.log(e),P.ToastsStore.error(e.message)}))}},{key:"handleApproverRequired",value:function(e){this.setState({approvalRequired:e.target.checked})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),this.state.loading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):"",s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleOpenUserDialog()}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(b.a,{path:f.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add User")),s.a.createElement("div",{className:"modal fade",id:"call-modal-form",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg full-page-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-12"},s.a.createElement("h3",{className:"mb-0 text-center"},this.state.selectedEmployeeId?"Edit User":"Add User")))),s.a.createElement("div",{className:"card-body text-left employee-dialog-body"},this.state.selectedEmployeeId&&s.a.createElement("ul",{className:"nav nav-pills"},s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(0)}},s.a.createElement("a",{className:"nav-link ".concat(0===this.state.selectedTabIndex?"active":""),href:"#"},"General")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(1)}},s.a.createElement("a",{className:"nav-link ".concat(1===this.state.selectedTabIndex?"active":""),href:"#"},"Projects")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(2)}},s.a.createElement("a",{className:"nav-link ".concat(2===this.state.selectedTabIndex?"active":""),href:"#"},"Accounting")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(3)}},s.a.createElement("a",{className:"nav-link ".concat(3===this.state.selectedTabIndex?"active":""),href:"#"},"Expenses")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(4)}},s.a.createElement("a",{className:"nav-link ".concat(4===this.state.selectedTabIndex?"active":""),href:"#"},"Time Sheets"))),s.a.createElement("br",null),2===this.state.selectedTabIndex&&s.a.createElement(ue,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId,userList:this.state.userList}),3===this.state.selectedTabIndex&&s.a.createElement(me,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),4===this.state.selectedTabIndex&&s.a.createElement(ie,{handleCloseDialog:this.handleCloseDialog,showToast:this.showToast,employeeId:this.state.selectedEmployeeId}),0===this.state.selectedTabIndex?s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"User information"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-2"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-title"},"Title"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",type:"text",id:"input-title",placeholder:"Title",name:"Title",value:this.state.Title,onChange:this.handleTypeChange},s.a.createElement("option",{value:"Mr"},"Mr"),s.a.createElement("option",{value:"Mrs"},"Mrs"),s.a.createElement("option",{value:"Miss"},"Miss")))),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-first-name"},"First Name"),s.a.createElement("input",{type:"text",id:"input-first-name",className:"form-control form-control-alternative",placeholder:"First Name",name:"FirstName",value:this.state.FirstName,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-last-name"},"Last Name"),s.a.createElement("input",{type:"text",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Last Name",name:"FamilyName",value:this.state.FamilyName,onChange:this.handleChange,required:!0})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-email"},"Email"),s.a.createElement("input",{type:"email",id:"input-email",className:"form-control form-control-alternative",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-mobile"},"Mobile"),s.a.createElement("input",{type:"number",id:"input-mobile",className:"form-control form-control-alternative",placeholder:"Mobile",name:"PrimaryPhone",value:this.state.PrimaryPhone,onChange:this.handleChange,required:!0})))),this.state.selectedEmployeeId?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"portalAccess"},s.a.createElement("span",null,"Portal Access"),s.a.createElement(Ee.a,{html:"portalAccess",onChange:this.handlePortalAccess,checked:this.state.portalAccess}))),s.a.createElement("a",{href:"#",onClick:this.resetPassword},"Reset Password")))):""),s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Contact information"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-address"},"Address"),s.a.createElement("input",{id:"input-address",className:"form-control form-control-alternative",placeholder:"Home Address",name:"Line1",value:this.state.Line1,onChange:this.handleChange,type:"text"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-City"},"City"),s.a.createElement("input",{type:"text",id:"input-City",className:"form-control form-control-alternative",placeholder:"City",name:"City",value:this.state.City,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Country"),s.a.createElement("input",{type:"text",id:"input-country",className:"form-control form-control-alternative",placeholder:"Country",name:"CountrySubDivisionCode",value:this.state.CountrySubDivisionCode,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Postal code"),s.a.createElement("input",{type:"number",id:"input-postal-code",className:"form-control form-control-alternative",placeholder:"Postal code",name:"PostalCode",value:this.state.PostalCode,onChange:this.handleChange}))))),this.state.selectedEmployeeId?s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Access Levels"),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("span",null,"Choose the access levels for the user"),s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"accessLevel_timeSheets",type:"checkbox",name:"accessLevel_timeSheets",checked:-1!=this.state.accessLevels.indexOf("TIMESHEETS"),onChange:function(t){return e.addOrRemoveAccessLevels(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"accessLevel_timeSheets"},"TimeSheets")))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"accessLevel_expenses",type:"checkbox",name:"accessLevel_expenses",checked:-1!=this.state.accessLevels.indexOf("EXPENSES"),onChange:function(t){return e.addOrRemoveAccessLevels(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"accessLevel_expenses"},"Expenses")))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"accessLevel_projects",type:"checkbox",name:"accessLevel_projects",checked:-1!=this.state.accessLevels.indexOf("PROJECTS"),onChange:function(t){return e.addOrRemoveAccessLevels(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"accessLevel_projects"},"Projects")))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"accessLevel_purchasing",type:"checkbox",name:"accessLevel_purchasing",checked:-1!=this.state.accessLevels.indexOf("PURCHASING"),onChange:function(t){return e.addOrRemoveAccessLevels(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"accessLevel_purchasing"},"Purchasing"))))):"",this.state.selectedEmployeeId?s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Approval"),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{class:"form-group"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"approvalRequired",type:"checkbox",name:"approvalRequired",checked:this.state.approvalRequired,onChange:function(t){return e.handleApproverRequired(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"approvalRequired"},"Requires Approval?")))),s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"approver"},"Choose the approver for timesheets and expenses"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"approverId",id:"approver",required:this.state.approvalRequired,value:this.state.approverId,onChange:function(t){return e.handleApproverChange(t)}},s.a.createElement("option",{value:""}),this.state.possibleApprovers?this.state.possibleApprovers.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.id,key:"approver".concat(t)},e.displayName))})):""))))):"",s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn  text-uppercase mb-4",type:"button",onClick:this.handleCloseDialog},"Cancel"),s.a.createElement("button",{className:"btn btn-primary text-uppercase mb-4",type:"submit"},"Save"))):""))))))),s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"columns"},"Columns to be displayed"),s.a.createElement(pe.Multiselect,{options:j,selectedValues:this.state.columnsToBeShown,onSelect:this.handleColumnsVisible,onRemove:this.handleColumnsVisible,isObject:!1}))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,-1!=this.state.columnsToBeShown.indexOf("NAME")?s.a.createElement("th",{scope:"col"},"Name"):"",-1!=this.state.columnsToBeShown.indexOf("EMAIL")?s.a.createElement("th",{scope:"col"},"Email"):"",-1!=this.state.columnsToBeShown.indexOf("PHONE")?s.a.createElement("th",{scope:"col"},"Phone"):"",-1!=this.state.columnsToBeShown.indexOf("ACTIVE")?s.a.createElement("th",{scope:"col"},"Active"):"",-1!=this.state.columnsToBeShown.indexOf("USER ROLE")?s.a.createElement("th",{scope:"col"},"User role"):"",s.a.createElement("th",{scope:"col"}))),s.a.createElement("tbody",null,this.state.userList.map((function(t,a){return s.a.createElement("tr",{key:a},-1!=e.state.columnsToBeShown.indexOf("NAME")?s.a.createElement("td",null,s.a.createElement("span",{className:"badge badge-dot mr-4"},t.displayName)):"",-1!=e.state.columnsToBeShown.indexOf("EMAIL")?s.a.createElement("td",null,s.a.createElement("span",{className:"badge badge-dot mr-4"},t.email)):"",-1!=e.state.columnsToBeShown.indexOf("PHONE")?s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null,t.mobile))):"",-1!=e.state.columnsToBeShown.indexOf("ACTIVE")?s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null," ",t.access&&-1!=t.access.indexOf("PORTAL")?"Yes":"No"))):"",-1!=e.state.columnsToBeShown.indexOf("USER ROLE")?s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null," ",t.user_type))):"",s.a.createElement("td",{className:"text-right"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("a",{className:"btn btn-sm btn-icon-only text-light",href:"/",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement(b.a,{path:f.i,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#000000"})),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-right dropdown-menu-arrow"},s.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.handleEditUser(a)}},"Edit")))))}))))))}}]),t}(l.Component),ve=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("p",null,"About")}}]),t}(l.Component),be=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={reports:{userCount:0,surveyCount:0,responseCount:0,productCount:0}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={token:localStorage.getItem("token")};y.a.post("http://api.verd.com.au/user/reports",t).then((function(t){t.data.success&&(console.log(t.data.data),e.setState({reports:t.data.data}))})).catch((function(e){}))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-xl-3 col-lg-6"},s.a.createElement("div",{className:"card card-stats mb-4 mb-xl-0"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h5",{className:"card-title text-uppercase text-muted mb-0"},"Users"),s.a.createElement("span",{className:"h2 font-weight-bold mb-0"},this.state.reports.userCount)),s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow"},s.a.createElement(b.a,{path:f.a,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"}))))))),s.a.createElement("div",{className:"col-xl-3 col-lg-6"},s.a.createElement("div",{className:"card card-stats mb-4 mb-xl-0"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h5",{className:"card-title text-uppercase text-muted mb-0"},"Surveys"),s.a.createElement("span",{className:"h2 font-weight-bold mb-0"},"0")),s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"icon icon-shape bg-warning text-white rounded-circle shadow"},s.a.createElement(b.a,{path:f.s,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"}))))))),s.a.createElement("div",{className:"col-xl-3 col-lg-6"},s.a.createElement("div",{className:"card card-stats mb-4 mb-xl-0"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h5",{className:"card-title text-uppercase text-muted mb-0"},"Response"),s.a.createElement("span",{className:"h2 font-weight-bold mb-0"},"0")),s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"icon icon-shape bg-yellow text-white rounded-circle shadow"},s.a.createElement(b.a,{path:f.m,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"}))))))),s.a.createElement("div",{className:"col-xl-3 col-lg-6"},s.a.createElement("div",{className:"card card-stats mb-4 mb-xl-0"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h5",{className:"card-title text-uppercase text-muted mb-0"},"Products"),s.a.createElement("span",{className:"h2 font-weight-bold mb-0"},"0")),s.a.createElement("div",{className:"col-auto"},s.a.createElement("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow"},s.a.createElement(b.a,{path:f.t,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})))))))))}}]),t}(l.Component),fe=a(80),Ne=a.n(fe),ye=a(81),xe=a.n(ye),Ce=a(26),ke=a(162),Se=a.n(ke),we=(a(379),l.Component,a(86)),Ae=a.n(we),De=window.$,Oe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getMyTimeSheets=function(){re.a.locale("en");var e=Object(E.a)(a),t={token:localStorage.getItem("token")},n=k+"timesheet/listWithCount";y.a.post(n,t).then((function(t){t.data.success&&(console.log(t.data.data),e.setState({timesheets:t.data.data,isLoading:!1,totalCount:Math.ceil(t.data.totalCount/10)}))})).catch((function(t){e.setState({isLoading:!1}),console.log(t)})),n=k+"employee/getEmployeeDetails",y.a.post(n,t).then((function(t){console.log(t.data),t.data.success&&e.setState({clients:t.data.clients,clientTasks:t.data.clientTasks,empData:t.data.empData,tasks:t.data.tasks})})).catch((function(e){console.log(e)}))},a.toggleChange=function(e){a.setState({isBillable:!a.state.isBillable})},a.handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleDateChange=function(e){a.setState({StartTime:e})},a.handleFileChange=function(e){if(a.state.images&&a.state.images.length){var t=Array.from(a.state.images);t.push.apply(t,Object(W.a)(e.target.files)),a.setState({images:t})}else a.setState({images:e.target.files||[]})},a.handleClientChange=function(e){if(a.state.clientTasks){var t=a.state.clientTasks[e.target.value];t&&t.length&&a.setState({taskDropdown:a.state.tasks.filter((function(e){return-1!=t.indexOf(e.Id)}))})}a.setState({clientId:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t=[],n=G().userid;if(Object.keys(a.state.images).length>0){var l=Object(z.a)({},a.state.images);Object.values(l).forEach((function(e){t.push("timesheet/".concat(n,"/").concat((new Date).getTime(),"-").concat(e.name.replace(/&/g,"")))}));var s=Object(E.a)(a);s.setState({loading:!0});y.a.post("http://api.verd.com.au/upload/generate-signed-urls",{imageNames:t,token:Y()}).then((function(e){if(e.data.success){var a=Object(W.a)(s.state.images);e.data.data.forEach((function(e,t){var n;return V.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return(n=new FormData).append("key",e.params.key),n.append("acl",e.params.acl),n.append("x-amz-credential",e.params["x-amz-credential"]),n.append("x-amz-algorithm",e.params["x-amz-algorithm"]),n.append("x-amz-date",e.params["x-amz-date"]),n.append("policy",e.params.policy),n.append("x-amz-signature",e.params["x-amz-signature"]),n.append("file",a[t]),l.next=11,V.a.awrap(fetch(e.form_url,{method:"POST",body:n}));case 11:case"end":return l.stop()}}))})),s.addTimeSheet(t)}})).catch((function(e){s.setState({loading:!1})}))}else a.addTimeSheet([])},a.addTimeSheet=function(e){var t=Object(E.a)(a);t.setState({loading:!0});var n={token:localStorage.getItem("token"),StartTime:t.state.StartTime,Hours:t.state.Hours,clientId:t.state.clientId,classId:t.state.classId,taskId:t.state.taskId,isBillable:t.state.isBillable,Description:t.state.Description,notes:t.state.notes,images:e,empId:t.state.empData.Id};De("#call-modal-form").removeClass("show"),De("#call-modal-form").css("display",""),De(".modal-backdrop.fade.show").remove(),y.a.post("http://api.verd.com.au/timesheet/add",n).then((function(e){if(e.data.success){console.log(e.data);var a=document.getElementById("file_upload");a&&(a.value=""),t.setState({StartTime:new Date,Hours:"",clientId:"",classId:"",taskId:"",isBillable:!1,Description:"",notes:"",images:[],timesheets:t.state.timesheets.concat([e.data.data])})}})).catch((function(e){t.setState({loading:!1})}))},a.handlePageClick=function(e){var t=10*e.selected,n=Object(E.a)(a),l={token:localStorage.getItem("token"),from:t};y.a.post("http://api.verd.com.au/timesheet/list",l).then((function(e){e.data.success&&(console.log(e.data.data),n.setState({timesheets:e.data.data,isLoading:!1}))})).catch((function(e){n.setState({isLoading:!1}),console.log(e)}))},a.displayImages=function(e,t){t.preventDefault();var n=[];e.forEach((function(e){n.push({src:e.startsWith("http")?e:"".concat(D).concat(e)})})),a.setState({displayImages:n,viewerIsOpen:!0})},a.reteiveImages=function(e){var t=[];return e.forEach((function(e){t.push({src:e.startsWith("http")?e:"".concat(D).concat(e)})})),t},a.gotoPrev=function(){a.setState({currImg:a.state.currImg-1})},a.gotoNext=function(){a.setState({currImg:a.state.currImg+1})},a.gotoImg=function(e){a.setState({currImg:e})},a.openImgsViewer=function(e,t){t.preventDefault(),a.setState({currImg:e,viewerIsOpen:!0})},a.closeImgsViewer=function(){a.setState({currImg:0,displayImages:[],viewerIsOpen:!1})},a.handleClickImg=function(){a.state.currImg!==a.displayImages.length-1&&a.gotoNext()},a.renderGallery=function(){if(a.state.displayImages){var e=a.state.displayImages.filter((function(e){return e.useForDemo})).map((function(e,t){return s.a.createElement("a",{href:e.src,className:Object(Ce.css)(Le.thumbnail,Le[e.orientation]),key:t,onClick:function(e){return a.openImgsViewer(t,e)}},s.a.createElement("img",{src:e.thumbnail,className:Object(Ce.css)(Le.source),alt:""}))}));return s.a.createElement("div",{className:Object(Ce.css)(Le.gallery)},e)}},a.takePhoto=function(){a.setState({displayCamera:!0}),Ae.a.requestFullscreen(document.getElementById("camera"))},a.handleTakePhoto=function(e){var t,n;return V.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,V.a.awrap(fetch(e).then((function(e){return e.blob()})).then((function(e){return new File([e],"Attachement",{type:"image/png"})})));case 2:t=l.sent,a.state.images&&a.state.images.length?((n=Array.from(a.state.images)).push(t),a.setState({images:n})):a.setState({images:[t]}),Ae.a.exitFullscreen(),a.setState({displayCamera:!1});case 6:case"end":return l.stop()}}))},a.onCameraError=function(e){P.ToastsStore.error("Please give permission to access the camera!"),Ae.a.exitFullscreen()},a.removeFile=function(e,t){var n=Array.from(a.state.images);n=n.filter((function(e){return e.name!==t})),a.setState({images:n})},a.updateModal=function(e){var t,n,l;return V.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:a.state.timesheets[e]&&"Approved"!=a.state.timesheets[e].status&&"Rejected"!=a.state.timesheets[e].status&&"Archived"!=a.state.timesheets[e].status?a.state.timesheets[e].images&&a.state.timesheets[e].images.length?(n=a.state.clientTasks[a.state.timesheets[e].client[0].Id],a.setState((t={id:a.state.timesheets[e]._id,hours:a.state.timesheets[e].Hours,description:a.state.timesheets[e].Description,time:a.state.timesheets[e].StartTime,notes:a.state.timesheets[e].notes,client:a.state.timesheets[e].client[0],imgUrls:a.state.timesheets[e].images,image:[],billable:"Billable"==a.state.timesheets[e].BillableStatus},Object(m.a)(t,"time",new Date),Object(m.a)(t,"class",a.state.timesheets[e].class[0]),Object(m.a)(t,"taskId",a.state.timesheets[e].task&&a.state.timesheets[e].task.length?a.state.timesheets[e].task[0].Id:""),Object(m.a)(t,"taskDropdown",a.state.tasks.filter((function(e){return-1!=n.indexOf(e.Id)}))),t))):(n=a.state.clientTasks[a.state.timesheets[e].client[0].Id],a.setState((l={id:a.state.timesheets[e]._id,hours:a.state.timesheets[e].Hours,description:a.state.timesheets[e].Description,time:a.state.timesheets[e].StartTime,notes:a.state.timesheets[e].notes,client:a.state.timesheets[e].client[0],image:[],billable:"Billable"==a.state.timesheets[e].BillableStatus},Object(m.a)(l,"time",new Date),Object(m.a)(l,"class",a.state.timesheets[e].class[0]),Object(m.a)(l,"taskId",a.state.timesheets[e].task&&a.state.timesheets[e].task.length?a.state.timesheets[e].task[0].Id:""),Object(m.a)(l,"taskDropdown",a.state.tasks.filter((function(e){return-1!=n.indexOf(e.Id)}))),l))):P.ToastsStore.error("Approved/Archived/Rejected timesheets cannot be edited!");case 1:case"end":return s.stop()}}))},a.handleTimeChange=function(e){a.setState({time:e})},a.toggleUpdateChange=function(e){a.setState({billable:!a.state.billable})},a.handleFileUpdateChange=function(e){if(a.state.image&&a.state.image.length){var t=Array.from(a.state.image);t.push.apply(t,Object(W.a)(e.target.files)),a.setState({image:t})}else a.setState({image:e.target.files||[]})},a.removeFileUpdate=function(e,t){var n=Array.from(a.state.image);n=n.filter((function(e){return a.state.image!==t})),a.setState({image:n})},a.removeImageUrl=function(e,t){var n=a.state.imgUrls;n=n.filter((function(e){return e!=t})),a.setState({imgUrls:n})},a.handleUpdate=function(e){e.preventDefault();var t=[],n=G().userid;if(Object.keys(a.state.image).length>0){var l=Object(z.a)({},a.state.image);Object.values(l).forEach((function(e){t.push("timesheet/".concat(n,"/").concat((new Date).getTime(),"-").concat(e&&e.name?e.name.replace(/&/g,""):""))}));var s=Object(E.a)(a);s.setState({loading:!0});y.a.post("http://api.verd.com.au/upload/generate-signed-urls",{imageNames:t,token:Y()}).then((function(e){if(e.data.success){var a=Object(W.a)(s.state.image);e.data.data.forEach((function(e,t){var n;return V.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return(n=new FormData).append("key",e.params.key),n.append("acl",e.params.acl),n.append("x-amz-credential",e.params["x-amz-credential"]),n.append("x-amz-algorithm",e.params["x-amz-algorithm"]),n.append("x-amz-date",e.params["x-amz-date"]),n.append("policy",e.params.policy),n.append("x-amz-signature",e.params["x-amz-signature"]),n.append("file",a[t]),l.next=11,V.a.awrap(fetch(e.form_url,{method:"POST",body:n}));case 11:case"end":return l.stop()}}))})),s.updateTimeSheet(t)}})).catch((function(e){s.setState({loading:!1})}))}else a.updateTimeSheet([])},a.updateTimeSheet=function(e){var t,n=Object(E.a)(a);a.state.imgUrls&&(e?(t=e).push.apply(t,Object(W.a)(a.state.imgUrls)):e=Object(W.a)(a.state.imgUrls));n.setState({loading:!0});var l={token:localStorage.getItem("token"),time:n.state.time,hours:n.state.hours,client:n.state.client,class:n.state.class,billable:n.state.billable,description:n.state.description,notes:n.state.notes,image:e,id:n.state.id};De("#call-modal-form-filled").removeClass("show"),De("#call-modal-form-filled").css("display",""),De(".modal-backdrop.fade.show").remove(),y.a.post("http://api.verd.com.au/timesheet/update",l).then((function(e){e.data.success&&(n.setState({loading:!1}),window.location.reload(!1),P.ToastsStore.success(e.data.message))})).catch((function(e){n.setState({loading:!1})}))},a.state={StartTime:new Date,Hours:"",taskId:"",isBillable:!1,Description:"",notes:"",tasks:[],classes:[],clients:[],timesheets:[],totalCount:0,isLoading:!0,displayImages:[],viewerIsOpen:!1,currImg:0,images:[],displayCamera:!1,uploadPreviewOpen:!1,uploadImageIndex:0,empData:{},clientTasks:{},taskDropdown:[]},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getMyTimeSheets()}},{key:"render",value:function(){var e=this;return this.state.isLoading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):s.a.createElement(s.a.Fragment,null,s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),(function(){return e.renderGallery()}),s.a.createElement(xe.a,{backdropCloseable:!0,currImg:this.state.currImg,imgs:this.state.displayImages,isOpen:this.state.viewerIsOpen,onClickImg:this.handleClickImg,onClickNext:this.gotoNext,onClickPrev:this.gotoPrev,onClickThumbnail:this.gotoImg,onClose:this.closeImgsViewer,showThumbnails:!0}),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-icon btn-3 btn-primary text-right",type:"button","data-toggle":"modal","data-target":"#call-modal-form"},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(b.a,{path:f.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add")),s.a.createElement("div",{className:"modal fade",id:"call-modal-form",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-6"},s.a.createElement("h3",{className:"mb-0"},"My Time")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Activity Date"),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(b.a,{path:f.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(U.a,{className:"form-control datepicker",selected:this.state.StartTime,onChange:this.handleDateChange})))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-first-name"},"Hours"),s.a.createElement("input",{type:"number",id:"input-hours",className:"form-control form-control-alternative",placeholder:"Hours",name:"Hours",value:this.state.Hours,onChange:this.handleChange,required:!0})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"client"},"Client"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"clientId",id:"client",value:this.state.clientId,onChange:this.handleClientChange},s.a.createElement("option",{value:""}),this.state.clients.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e._id,key:"client".concat(t)},e.FullyQualifiedName))})))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"task"},"Service"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"taskId",id:"task",value:this.state.taskId,onChange:this.handleChange},s.a.createElement("option",{value:""}),this.state.taskDropdown?this.state.taskDropdown.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e._id,key:"class".concat(t)},e.FullyQualifiedName))})):""))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customCheckLogin",type:"checkbox",checked:this.state.isBillable,onChange:this.toggleChange}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customCheckLogin"},s.a.createElement("span",null,"Variation?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-last-name"},"Description"),s.a.createElement("textarea",{rows:"4",cols:"50",type:"text",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Description",name:"Description",value:this.state.Description,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-last-name"},"Variation Notes"),s.a.createElement("textarea",{rows:"4",cols:"50",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Notes",name:"notes",value:this.state.notes,onChange:this.handleChange,required:this.state.isBillable}))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"file_upload"},"Attachements"),s.a.createElement("input",{type:"file",multiple:!0,id:"file_upload",className:"form-control form-control-alternative",placeholder:"Images",name:"images",onChange:this.handleFileChange}))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"btn btn-secondary",for:"camera"},"Take a photo"),s.a.createElement("input",{type:"file",multiple:!0,accept:"image/*",capture:"camera",className:"form-control form-control-alternative",id:"camera",name:"camera",style:{display:"none"},onChange:this.handleFileChange}))),this.state.images&&this.state.images.length?Array.from(this.state.images).map((function(t){return s.a.createElement("div",null,s.a.createElement("span",null,t.name),s.a.createElement("button",{type:"button",className:"btn btn-icon",name:t.name,onClick:function(a){return e.removeFile(a,t.name)}},s.a.createElement(b.a,{path:f.h,title:"delete",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"})))})):"")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link","data-dismiss":"modal"},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Create")))))))))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Client"),s.a.createElement("th",{scope:"col"},"Hours"),s.a.createElement("th",{scope:"col"},"Date"),s.a.createElement("th",{scope:"col"},"Images"),s.a.createElement("th",{scope:"col"},"Description"),s.a.createElement("th",{scope:"col"},"Status"),s.a.createElement("th",{scope:"col"}))),s.a.createElement("tbody",null,this.state.timesheets.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",{className:"badge badge-dot mr-4"},t.client[0].DisplayName)),s.a.createElement("td",null,s.a.createElement("span",{className:"badge badge-dot mr-4"},t.Hours)),s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null,re()(t.StartTime).format("LL")))),s.a.createElement("td",null,s.a.createElement("div",{class:"avatar-group",onClick:function(a){return e.displayImages(t.images,a)}},t.images.length>0?t.images.map((function(e,t){return s.a.createElement("a",{href:"/",class:"avatar avatar-sm",key:t,"data-toggle":"tooltip","data-original-title":"Ryan Tompson"},s.a.createElement("img",{alt:"",src:e.startsWith("http")?e:"".concat(D).concat(e),class:"rounded-circle"}))})):"N/A")),s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center","data-toggle":"popover","data-color":"default","data-placement":"top","data-content":t.Description},s.a.createElement("span",{className:"d-inline-block text-truncate",style:{maxWidth:"150px"}},t.Description))),s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center","data-toggle":"popover","data-color":"default","data-placement":"top","data-content":t.Description},s.a.createElement("span",{className:"d-inline-block text-truncate",style:{maxWidth:"150px"}},t.status))),s.a.createElement("td",{className:"text-right"},s.a.createElement("div",{className:"dropdown"},s.a.createElement("a",{className:"btn btn-sm btn-icon-only text-light",href:"/",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement(b.a,{path:f.i,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#000000"})),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-right dropdown-menu-arrow"},s.a.createElement("button",{className:"dropdown-item",type:"button","data-toggle":"modal","data-target":"#call-modal-form-filled",disabled:"Approved"==t.status||"Rejected"==t.status||"Archived"==t.status,onClick:function(){return e.updateModal(a)}},"Edit")))))})))),s.a.createElement(Ne.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.totalCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.handlePageClick,pageClassName:"page-item",pageLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active"}),s.a.createElement("div",{className:"modal fade",id:"call-modal-form-filled",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-6"},s.a.createElement("h3",{className:"mb-0"},"My Time")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement("form",{onSubmit:this.handleUpdate},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Activity Date"),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(b.a,{path:f.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(U.a,{className:"form-control datepicker",value:re()(this.state.time).format("LL"),selected:this.state.time,onChange:this.handleTimeChange})))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-first-name"},"Hours"),s.a.createElement("input",{type:"number",id:"input-hours",className:"form-control form-control-alternative",placeholder:"Hours",name:"hours",value:this.state.hours,onChange:this.handleChange,required:!0})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"client"},"Client"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"client",id:"client",value:this.state.client?this.state.client._id:"",onChange:this.handleChange},s.a.createElement("option",{value:""}),this.state.clients.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e._id,key:"client".concat(t)},e.FullyQualifiedName))})))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"class"},"Service"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"class",id:"class",value:this.state.taskId,onChange:this.handleChange},s.a.createElement("option",{value:""}),this.state.taskDropdown.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e._id,key:"class".concat(t)},e.FullyQualifiedName))}))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customCheckLogin",type:"checkbox",checked:this.state.billable,onChange:this.toggleUpdateChange}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customCheckLogin"},s.a.createElement("span",null,"Variation?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-last-name"},"Description"),s.a.createElement("textarea",{rows:"4",cols:"50",type:"text",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Description",name:"description",value:this.state.description,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-last-name"},"Variation Notes"),s.a.createElement("textarea",{rows:"4",cols:"50",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Notes",name:"notes",value:this.state.notes,onChange:this.handleChange,required:this.state.isBillable}))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"file_upload"},"Attachements"),s.a.createElement("input",{type:"file",multiple:!0,id:"file_upload",className:"form-control form-control-alternative",placeholder:"Images",name:"image",onChange:this.handleFileUpdateChange}))),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"btn btn-secondary",for:"camera"},"Take a photo"),s.a.createElement("input",{type:"file",multiple:!0,accept:"image/*",capture:"camera",className:"form-control form-control-alternative",id:"camera",name:"camera",style:{display:"none"},onChange:this.handleFileUpdateChange}),s.a.createElement("br",null),void 0!=this.state.imgUrls&&this.state.imgUrls.length?Array.from(this.state.imgUrls).map((function(t){return s.a.createElement("div",null,s.a.createElement("span",null,t.split("/")[2]),s.a.createElement("button",{type:"button",className:"btn btn-icon",name:t,onClick:function(a){return e.removeImageUrl(a,t)}},s.a.createElement(b.a,{path:f.h,title:"delete",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"})))})):s.a.createElement("p",null,"No Old Attachments Uploaded"),this.state.image&&this.state.image.length?Array.from(this.state.image).map((function(t){return s.a.createElement("div",null,s.a.createElement("span",null,t.name),s.a.createElement("button",{type:"button",className:"btn btn-icon",name:t.name,onClick:function(a){return e.removeFileUpdate(a,t.name)}},s.a.createElement(b.a,{path:f.h,title:"delete",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"})))})):"")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link","data-dismiss":"modal"},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Update")))))))))))))}}]),t}(l.Component);Oe.displayName="Gallery";var Te=2,je=4,Le=Ce.StyleSheet.create({gallery:{marginRight:-Te,overflow:"hidden","@media (min-width: 500px)":{marginRight:-je}},thumbnail:{boxSizing:"border-box",display:"block",float:"left",lineHeight:0,paddingRight:Te,paddingBottom:Te,overflow:"hidden","@media (min-width: 500px)":{paddingRight:je,paddingBottom:je}},landscape:{width:"30%"},square:{paddingBottom:je,width:"40%","@media (min-width: 500px)":{paddingBottom:je}},source:{border:0,display:"block",height:"auto",maxWidth:"100%",width:"auto"}}),Ie=Oe,Pe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},this.props.label),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(b.a,{path:f.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(U.a,{className:"form-control datepicker",selected:this.props.selected,onChange:this.props.onChange})),this.props.showError&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},this.props.error)))}}]),t}(l.Component),Re=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleCloseDialog=function(e){a.props.handleCloseDialog(e)},a.state={expenseMain:{reportDate:a.props.reportDate||re()().toDate(),reason:a.props.reason||"New Expense"}},console.log(a.props),a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"my_expense_main_modal","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Expense Envelope")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement(ae.a,{initialValues:this.state.expenseMain,validate:function(){return{}},onSubmit:function(t){e.handleCloseDialog({reportDate:t.reportDate,reason:t.reason})}},(function(t){var a=t.values,n=t.errors,l=t.touched,r=t.handleChange,o=t.handleSubmit,c=t.setFieldValue;return s.a.createElement("form",{onSubmit:o},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(Pe,{label:"Report Date",selected:a.reportDate,onChange:function(e){c("reportDate",e)},showError:!(!n.reportDate||!l.reportDate),error:n.reportDate})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Reason for expense",type:"text",placeholder:"Reason",name:"reason",value:a.reason,onChange:r,showError:!(!n.reason||!l.reason),error:n.reason}))," ")),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){return e.handleCloseDialog()}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Continue")))})))))))))}}]),t}(l.Component),Fe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleCloseDialog=function(e){a.props.handleCloseDialog(e)},a.handleOpenMyExpenseDetailsDialog=function(e,t){console.log(t),e||window.$("#my_expense_main_modal").modal("hide");var n=Object(z.a)({},a.state.expenseMain);!1===e&&t&&(n=Object(z.a)({},n,{reportDate:t.reportDate,reason:t.reason})),a.setState({expenseMainDialog:{isOpen:e,reportDate:t?t.reportDate:"",reason:t?t.reason:""},expenseMain:n},(function(){e&&window.$("#my_expense_main_modal").modal("show")}))},a.saveExpense=function(e){var t,n;return V.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=Object(z.a)({},a.state.expenseMain),a.setState({isLoading:!0}),!a.props.data||!a.props.data._id){l.next=9;break}return t._id=a.props.data._id,l.next=6,V.a.awrap(Q("expenses/update","PATCH",{data:t}));case 6:n=l.sent,l.next=12;break;case 9:return l.next=11,V.a.awrap(Q("expenses/add","PUT",t));case 11:n=l.sent;case 12:n.success?(a.props.showToast("Expense ".concat(a.props.data&&a.props.data._id?"update":"added"," successfully"),"success"),e&&a.handleCloseDialog(n.data)):a.props.showToast("Error while saving","error");case 13:case"end":return l.stop()}}))},a.changeStatus=function(e,t){var n,l;return V.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return(n=Object(z.a)({},a.state.expenseMain)).expensesList[e].status=t,n._id=a.props.data._id,a.setState({isLoading:!0}),s.next=6,V.a.awrap(Q("expenses/update","PATCH",{data:n}));case 6:(l=s.sent).success?(a.props.showToast("Expense updated successfully","success"),a.setState({expenseMain:n,isLoading:!1}),a.handleCloseDialog(l.data)):(a.setState({isLoading:!1}),a.props.showToast("Error while submitting expense","error"));case 8:case"end":return s.stop()}}))},a.handleDeleteExpense=function(e){var t=Object(z.a)({},a.state.expenseMain);t.expensesList.splice(e,1),a.setState({expenseMain:t})},a.state={isLoading:!1,expenseMain:{reportDate:a.props.reportDate||re()().toDate(),reason:a.props.reason||"New Expense",expensesList:a.props.data?Object(W.a)(a.props.data.expensesList):[]},expenseMainDialog:{isOpen:!1,reportDate:a.props.reportDate||re()().toDate(),reason:a.props.reason||"New Expense"},editIndex:-1,expense:{reportDate:"",type:"",isBillable:!1,reason:"",expenseDate:"",customerProject:"",amount:"",paidBy:"me",merchant:"",creditCard:"",details:"",status:"on-hold",file:"",fileUrl:""}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement("div",{className:"modal fade",id:"my_expense_modal",tabIndex:"-1",role:"dialog","data-backdrop":"static","data-keyboard":"false","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-12 d-flex"},s.a.createElement("div",{className:"mr-2"},s.a.createElement("h3",{className:"mb-0"},this.state.expenseMain.reason),s.a.createElement("strong",null,re()(this.state.expenseMain.reportDate).format("DD MMM YYYY"))),!1!==this.props.canUpdate&&s.a.createElement("div",{className:"pointer",onClick:function(){e.handleOpenMyExpenseDetailsDialog(!0,e.state.expenseMainDialog)}},s.a.createElement(b.a,{path:f.u,title:"Edit",size:1,horizontal:!0,vertical:!0,rotate:180}))))),s.a.createElement("div",{className:"card-body text-left modal-height"},s.a.createElement(ae.a,{initialValues:this.state.expense,validate:function(e){var t={};return e.reportDate||(t.reportDate="Please select date"),e.expenseDate||(t.expenseDate="Please select date"),e.type||(t.type="Please select expense type"),e.amount||(t.amount="Please add amount"),console.log(t),t},onSubmit:function(t,a){var n,l,s,r,o,c,i,m,d,u,p;return V.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(a.setSubmitting,n=a.resetForm,l=Object(z.a)({},e.state.expenseMain),!(s=Object(z.a)({},t)).file){h.next=35;break}return r=[],s.fileUrl?r.push(s.fileUrl):(o=G(),c=o.userid,i=Object(z.a)({},s.file),Object.keys(i).length>0&&Object.values(i).forEach((function(e){r.push("expenses/".concat(c,"/").concat((new Date).getTime(),"-").concat(e.name.replace(/&/g,"")))}))),e.setState({loading:!0}),h.next=10,V.a.awrap(Q("upload/generate-signed-urls","POST",{imageNames:r}));case 10:if(!(m=h.sent).success){h.next=33;break}d=0;case 13:if(!(d<m.data.length)){h.next=31;break}return u=m.data[d],(p=new FormData).append("key",u.params.key),p.append("acl",u.params.acl),p.append("x-amz-credential",u.params["x-amz-credential"]),p.append("x-amz-algorithm",u.params["x-amz-algorithm"]),p.append("x-amz-date",u.params["x-amz-date"]),p.append("policy",u.params.policy),p.append("x-amz-signature",u.params["x-amz-signature"]),p.append("file",s.file[0]),h.next=26,V.a.awrap(fetch(u.form_url,{method:"POST",body:p}));case 26:s.fileUrl=r[0],s.file=void 0;case 28:d++,h.next=13;break;case 31:h.next=35;break;case 33:return e.props.showToast("Error while uploading file","error"),h.abrupt("return");case 35:e.state.editIndex>-1?l.expensesList[e.state.editIndex]=s:l.expensesList.push(s),e.setState({editIndex:-1,expenseMain:l},(function(){n({reportDate:"",type:"",isBillable:!1,reason:"",expenseDate:"",customerProject:"",amount:"",paidBy:"me",merchant:"",creditCard:"",details:"",status:"on-hold",file:"",fileUrl:""})}));case 37:case"end":return h.stop()}}))}},(function(t){var a=t.values,n=t.errors,l=t.touched,r=(t.handleReset,t.handleChange),o=t.handleSubmit,c=(t.isSubmitting,t.resetForm),i=t.setFieldValue;return s.a.createElement("form",{onSubmit:o},s.a.createElement("div",{className:"pl-lg-4"},(e.props.canUpdate||e.state.editIndex>-1)&&s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(Pe,{label:"Report Date",selected:a.reportDate,onChange:function(e){i("reportDate",e)},showError:!(!n.reportDate||!l.reportDate),error:n.reportDate})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Reason for expense",type:"text",placeholder:"Reason",name:"reason",value:a.reason,onChange:function(e){i("reason",e.target.value)},showError:!(!n.reason||!l.reason),error:n.reason})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"expenseType"},"Expense Type"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"type",id:"expenseType",value:a.type,onChange:r},s.a.createElement("option",{value:""}),S.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}))),n.type&&l.type&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},n.type)))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(Pe,{label:"Expense Date",selected:a.expenseDate,onChange:function(e){i("expenseDate",e)},showError:!(!n.expenseDate||!l.expenseDate),error:n.expenseDate})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customCheckLogin",type:"checkbox",value:a.isBillable,checked:!!a.isBillable,onChange:function(){i("isBillable",!a.isBillable)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customCheckLogin"},s.a.createElement("span",null,"Billable?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Customer Project",type:"text",placeholder:"Project",name:"customerProject",value:a.customerProject,onChange:function(e){i("customerProject",e.target.value)},showError:!(!n.customerProject||!l.customerProject),error:n.customerProject})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Amount",type:"number",placeholder:"Amount",name:"amount",value:a.amount,onChange:function(e){i("amount",Number(e.target.value))},showError:!(!n.amount||!l.amount),error:n.amount})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Merchant",type:"text",placeholder:"Merchant",name:"merchant",value:a.merchant,onChange:function(e){i("merchant",e.target.value)},showError:!(!n.merchant||!l.merchant),error:n.merchant})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" paid_by_me",type:"checkbox",checked:"me"===a.paidBy,onChange:function(){i("paidBy","me")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" paid_by_me"},s.a.createElement("span",null,"Paid by Me")))),s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" paid_by_company",type:"checkbox",checked:"company"===a.paidBy,onChange:function(){i("paidBy","company")}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" paid_by_company"},s.a.createElement("span",null,"Paid by Company"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Credit Card",type:"text",placeholder:"Select Credit Card",name:"creditCard",value:a.creditCard,onChange:function(e){i("creditCard",e.target.value)},showError:!(!n.creditCard||!l.creditCard),error:n.creditCard})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Details",type:"text",placeholder:"Details",name:"details",value:a.details,onChange:function(e){i("details",e.target.value)},showError:!(!n.details||!l.details),error:n.details})),s.a.createElement("div",{className:"col-lg-6"},a.fileUrl?s.a.createElement("div",{className:"expense-img-container"},s.a.createElement("img",{src:"".concat(D).concat(a.fileUrl),className:"expense-img",alt:"expense"}),s.a.createElement("span",{className:"ni ni-2x ni-fat-remove expense-remove-icon",onClick:function(){var t,n;return V.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=Object(z.a)({},a),l.next=3,V.a.awrap(Q("upload/delete-images","DELETE",{fileUrls:[a.fileUrl]}));case 3:l.sent.success?e.props.data&&e.props.data._id&&e.state.editIndex>-1&&(t.fileUrl="",(n=Object(W.a)(e.state.expenseMain.expensesList))[e.state.editIndex]=t,c(Object(z.a)({},t)),e.setState((function(e){return{expenseMain:Object(z.a)({},e.expenseMain,{expensesList:n})}}),(function(){return V.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V.a.awrap(e.saveExpense());case 2:return t.next=4,V.a.awrap(e.props.getExpensesFrom(0));case 4:case"end":return t.stop()}}))}))):e.props.showToast("Error while deleting file");case 5:case"end":return l.stop()}}))}})):s.a.createElement(X,{label:"Image",type:"file",name:"file",onChange:function(e){i("file",e.target.files)}})),s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"d-flex justify-content-end"},0===e.state.expenseMain.expensesList.length&&s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:"btn btn-link  ml-auto",onClick:function(){return e.handleCloseDialog()}},"Close")),s.a.createElement("div",null,s.a.createElement("button",{type:"submit",className:"btn btn-primary"},-1===e.state.editIndex?"Add":"Update"))))),e.state.expenseMain.expensesList.length>0&&s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("br",null),s.a.createElement("div",{className:"bt-table"},s.a.createElement("table",{className:"table"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Date"),s.a.createElement("th",null,"Customer:Project"),s.a.createElement("th",null,"Type"),s.a.createElement("th",null,"Details"),s.a.createElement("th",null,"Amount"),s.a.createElement("th",null,"Reimbursable"),s.a.createElement("th",null,"Billable"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"Receipts"),s.a.createElement("th",null,"Attendees"),e.props.data&&e.props.data._id&&s.a.createElement("th",null,"Actions"))),s.a.createElement("tbody",null,e.state.expenseMain.expensesList.map((function(t,a){return(!e.props.selectedStatus||e.props.selectedStatus===t.status)&&s.a.createElement("tr",{key:a},s.a.createElement("td",null,re()(t.expenseDate).format("DD MMM YYYY")),s.a.createElement("td",null,t.customerProject),s.a.createElement("td",null,t.type),s.a.createElement("td",null,t.details),s.a.createElement("td",null,t.amount),s.a.createElement("td",null,"company"===t.paidBy?"Yes":"NO"),s.a.createElement("td",null,t.isBillable?"Yes":"No"),s.a.createElement("td",null,J(t.status)),s.a.createElement("td",null),s.a.createElement("td",null),e.props.data&&e.props.data._id&&s.a.createElement("td",null,!1===e.props.canUpdate?s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",onClick:function(){var n=Object(z.a)({},t);n.reportDate=re()(n.reportDate).toDate(),n.expenseDate=re()(n.expenseDate).toDate(),e.setState({editIndex:a},(function(){c(n)}))},className:"btn btn-sm btn-primary"},"Edit"),"submitted"===t.status&&s.a.createElement("button",{type:"button",onClick:function(){return e.changeStatus(a,"archived")},className:"btn btn-sm btn-success"},"Archive"),"archived"===t.status&&s.a.createElement("button",{type:"button",onClick:function(){return e.changeStatus(a,"submitted")},className:"btn btn-sm btn-success"},"Submit")):s.a.createElement(s.a.Fragment,null,"submitted"!==t.status&&s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{type:"button",onClick:function(){if("submitted"===t.status)e.props.showToast("This expense has already been submitted to approver","error");else{var n=Object(z.a)({},t);n.reportDate=re()(n.reportDate).toDate(),n.expenseDate=re()(n.expenseDate).toDate(),e.setState({editIndex:a},(function(){c(n)}))}},className:"btn btn-sm btn-primary"},"Edit"),e.state.expenseMain.expensesList.length>1&&s.a.createElement("button",{type:"button",onClick:function(){return e.handleDeleteExpense(a)},className:"btn btn-sm btn-danger"},"Delete"),s.a.createElement("button",{type:"button",onClick:function(){return e.changeStatus(a,"submitted")},className:"btn btn-sm btn-success"},"Submit")))))}))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:"btn btn-link  ml-auto",onClick:function(){return e.handleCloseDialog()}},"Close")),s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.saveExpense(!0)}},"Save"))))))})))))))),this.state.expenseMainDialog.isOpen&&s.a.createElement(Re,{reportDate:this.state.expenseMain.reportDate,reason:this.state.expenseMain.reason,handleCloseDialog:function(t){return e.handleOpenMyExpenseDetailsDialog(!1,t)}}))}}]),t}(l.Component),_e=(a(70),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return console.log("props",this.props.selectedStatus),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Reason"),s.a.createElement("th",{scope:"col"},"Date"),s.a.createElement("th",{scope:"col"},"Amount"),s.a.createElement("th",{scope:"col"},"Due"),!1!==this.props.canUpdate&&s.a.createElement("th",{scope:"col"},"Status"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.props.expenses.map((function(t,a){return s.a.createElement("tr",{key:a,onClick:function(){return e.props.handleAddMyExpenseDialog(!0,a)}},s.a.createElement("td",null,s.a.createElement("span",null,t.reason)),s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null,re()(t.reportDate).format("LL")))),s.a.createElement("td",null,s.a.createElement("span",null,t.amount)),s.a.createElement("td",null,s.a.createElement("span",null,t.due)),!1!==e.props.canUpdate&&s.a.createElement("td",null,s.a.createElement("span",null,J(t.status))),s.a.createElement("td",{className:"text-right"}))})),0===this.props.expenses.length&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"5"},"No Expenses Found"))))))}}]),t}(l.Component)),Be=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getExpensesList=function(){var e,t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object(E.a)(a),a.setState({isLoading:!0}),n.next=4,V.a.awrap(Q("expenses/list","POST",Object(z.a)({},a.state.expenses.search)));case 4:t=n.sent,console.log(t),t.success?(t.data=t.data.map((function(e){var t="submitted",a=e.expensesList.reduce((function(e,a){return e.amount+=Number(a.amount),a.isBillable&&(e.due+=Number(a.amount)),"on-hold"===a.status&&(t="on-hold"),a.isBillable&&(e.billable+=Number(a.amount)),e}),{amount:0,due:0,billable:0});return e.amount=a.amount,e.due=a.due,e.status=t,e})),e.setState((function(e){return{expenses:Object(z.a)({},e.expenses,{data:t.data}),hasMoreResults:t.data.length===a.state.expenses.search.size,isLoading:!1}}))):(a.setState({isLoading:!1}),a.showToast("Error while getting my expenses","error"));case 7:case"end":return n.stop()}}))},a.getExpensesFrom=function(e){a.setState((function(t){return{expenses:Object(z.a)({},t.expenses,{search:Object(z.a)({},t.expenses.search,{from:e})})}}),a.getExpensesList)},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.handleAddMyExpenseDialog=function(e,t){var n=void 0,l=Object(z.a)({},a.state.expenseMainDialog);void 0!==t&&(n=a.state.expenses.data[t],l.reportDate=re()(n.reportDate).toDate(),l.reason=n.reason),a.setState({expenseDialog:{isOpen:!0,data:n},expenseMainDialog:Object(z.a)({},l)},(function(){console.log("data"),window.$("#my_expense_modal").modal("show")}))},a.handleOpenMyExpenseDetailsDialog=function(e,t){e||window.$("#my_expense_main_modal").modal("hide"),a.setState({expenseMainDialog:{isOpen:e,reportDate:t?t.reportDate:void 0,reason:t?t.reason:""}},(function(){e&&window.$("#my_expense_main_modal").modal("show"),!1===e&&t&&a.handleAddMyExpenseDialog(!0)}))},a.handleCloseDialog=function(e){window.$("#my_expense_modal").modal("hide"),a.setState({expenseDialog:{isOpen:!1,data:void 0}},(function(){e&&a.getExpensesFrom(0)}))},a.state={isLoading:!1,expenses:{data:[],search:{from:0,size:10}},hasMoreResults:!1,expenseDialog:{isOpen:!1,data:void 0},expenseMainDialog:{isOpen:!1,reportDate:void 0,reason:""}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getExpensesList()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleOpenMyExpenseDetailsDialog(!0)}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(b.a,{path:f.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add"))),s.a.createElement(_e,{expenses:this.state.expenses.data,handleAddMyExpenseDialog:this.handleAddMyExpenseDialog}),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getExpensesFrom(e.state.expenses.search.from-e.state.expenses.search.size)},disabled:0===this.state.expenses.search.from},"Previous"),s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getExpensesFrom(e.state.expenses.search.from+e.state.expenses.search.size)},disabled:!this.state.hasMoreResults},"Next")),this.state.expenseDialog.isOpen&&s.a.createElement(Fe,{showToast:this.showToast,getExpensesFrom:this.getExpensesFrom,reportDate:this.state.expenseMainDialog.reportDate,canUpdate:!0,reason:this.state.expenseMainDialog.reason,data:this.state.expenseDialog.data,handleCloseDialog:this.handleCloseDialog}),this.state.expenseMainDialog.isOpen&&s.a.createElement(Re,{handleCloseDialog:function(t){return e.handleOpenMyExpenseDetailsDialog(!1,t)}}))}}]),t}(l.Component),Me=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label"},this.props.label),s.a.createElement("textarea",{className:"form-control form-control-alternative ".concat(this.props.showError?"is-invalid":""),type:this.props.type,placeholder:this.props.placeholder,name:this.props.name,value:this.props.value,onChange:this.props.onChange}),this.props.showError&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},this.props.error)))}}]),t}(l.Component),ze=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getCustomerList=function(){var e,t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object(E.a)(a),a.setState({isLoading:!0}),n.next=4,V.a.awrap(Q("client/listAll","POST",{}));case 4:(t=n.sent).success?e.setState({subClients:t.data,isLoading:!1}):(a.setState({isLoading:!1}),a.showToast("Error while getting my sub clients","error"));case 6:case"end":return n.stop()}}))},a.showToast=function(e,t){a.props.showToast(e,t)},a.handleCloseDialog=function(e){a.props.handleCloseDialog(e)},a.state={initialValues:a.props.data?a.props.data:{DisplayName:"",parentId:"",Notes:""},subClients:[],isLoading:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getCustomerList()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement("div",{className:"modal fade",id:"add_customer_modal","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-md",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Customer Info")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement(ae.a,{initialValues:this.state.initialValues,validate:function(e){var t={};return e.DisplayName||(t.DisplayName="Enter customer/project name"),t},onSubmit:function(t){var a,n;return V.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(a={DisplayName:t.DisplayName,parentId:t.parentId,Notes:t.Notes},e.setState({isLoading:!0}),!t._id){l.next=9;break}return a=Object(z.a)({},e.props.data,{},a),l.next=6,V.a.awrap(Q("client/update","PATCH",a));case 6:n=l.sent,l.next=12;break;case 9:return l.next=11,V.a.awrap(Q("client/add","POST",a));case 11:n=l.sent;case 12:n.success?(e.showToast("Details ".concat(t._id?"updated":"added"," successfully"),"success"),e.handleCloseDialog(n.data)):e.showToast("Error while getting my expenses","error"),e.setState({isLoading:!1});case 14:case"end":return l.stop()}}))}},(function(t){var a=t.values,n=t.errors,l=t.touched,r=t.handleChange,o=t.handleSubmit;t.setFieldValue,t.resetForm;return s.a.createElement("form",{onSubmit:o},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement(X,{label:"Customer/Project",type:"text",placeholder:"Customer/Project",name:"DisplayName",value:a.DisplayName,onChange:r,showError:!(!n.DisplayName||!l.DisplayName),error:n.DisplayName}),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label"},"Sub Project Of"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",label:"Sub Project Of",type:"text",placeholder:"Sub Project Of",name:"parentId",value:a.parentId,onChange:r},s.a.createElement("option",{value:""}),e.state.subClients.map((function(e,t){return s.a.createElement("option",{value:e._id,key:t},e.DisplayName)})))),s.a.createElement(Me,{label:"Description",type:"text",placeholder:"Description",name:"Notes",value:a.Notes,onChange:r,showError:!(!n.Notes||!l.Notes),error:n.Notes,required:!0})),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link",onClick:function(){return e.handleCloseDialog(void 0)}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))})))))))))}}]),t}(l.Component),He=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleCloseDialog=function(e){a.props.handleCloseDialog(e)},a.state={},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(ae.a,{initialValues:this.state.initialValues,validate:function(e){return{}},onSubmit:function(t){return V.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({isLoading:!0});case 1:case"end":return t.stop()}}))}},(function(t){var a=t.values,n=t.errors,l=t.touched,r=(t.handleChange,t.handleSubmit),o=t.setFieldValue;t.resetForm;return s.a.createElement("form",{onSubmit:r},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Project",type:"text",placeholder:"Project",name:"project",value:a.project,onChange:function(e){o("project",e.target.value)},showError:!(!n.project||!l.project),error:n.project})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Sub Project of",type:"text",placeholder:"Sub Project of",name:"subProjectOf",value:a.subProjectOf,onChange:function(e){o("subProjectOf",e.target.value)},showError:!(!n.subProjectOf||!l.subProjectOf),error:n.subProjectOf})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Project Code",type:"text",placeholder:"Project Code",name:"projectCode",value:a.projectCode,onChange:function(e){o("projectCode",e.target.value)},showError:!(!n.projectCode||!l.projectCode),error:n.projectCode})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Approver",type:"text",placeholder:"Approver",name:"approver",value:a.approver,onChange:function(e){o("approver",e.target.value)},showError:!(!n.approver||!l.approver),error:n.approver})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Class",type:"text",placeholder:"Class",name:"class",value:a.class,onChange:function(e){o("class",e.target.value)},showError:!(!n.class||!l.class),error:n.class})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Phone",type:"text",placeholder:"Phone",name:"phone",value:a.phone,onChange:function(e){o("phone",e.target.value)},showError:!(!n.phone||!l.phone),error:n.phone})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Fax",type:"text",placeholder:"Fax",name:"fax",value:a.fax,onChange:function(e){o("fax",e.target.value)},showError:!(!n.fax||!l.fax),error:n.fax})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"description",type:"text",placeholder:"description",name:"description",value:a.description,onChange:function(e){o("description",e.target.value)},showError:!(!n.description||!l.description),error:n.description})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Address",type:"text",placeholder:"Address",name:"address",value:a.address,onChange:function(e){o("address",e.target.value)},showError:!(!n.address||!l.address),error:n.address})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"City",type:"text",placeholder:"City",name:"city",value:a.city,onChange:function(e){o("city",e.target.value)},showError:!(!n.city||!l.city),error:n.city})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"State",type:"text",placeholder:"State",name:"state",value:a.state,onChange:function(e){o("state",e.target.value)},showError:!(!n.state||!l.state),error:n.state})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"ZipCode",type:"text",placeholder:"ZipCode",name:"zipCode",value:a.zipCode,onChange:function(e){o("zipCode",e.target.value)},showError:!(!n.zipCode||!l.zipCode),error:n.zipCode})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Country",type:"text",placeholder:"Country",name:"country",value:a.country,onChange:function(e){o("country",e.target.value)},showError:!(!n.country||!l.country),error:n.country})))),s.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"form-group mt-4 h-52px"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customStatus",type:"checkbox",value:a.Status,checked:!!a.Status,onChange:function(){o("Status",!a.Status)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customStatus"},s.a.createElement("span",null,"Status?"))))),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Manager",type:"text",placeholder:"Manager",name:"manager",value:a.manager,onChange:function(e){o("manager",e.target.value)},showError:!(!n.manager||!l.manager),error:n.manager})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Sales Rep",type:"text",placeholder:"Sales Rep",name:"salesRep",value:a.salesRep,onChange:function(e){o("salesRep",e.target.value)},showError:!(!n.salesRep||!l.salesRep),error:n.salesRep})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Email",type:"text",placeholder:"Email",name:"email",value:a.email,onChange:function(e){o("email",e.target.value)},showError:!(!n.email||!l.email),error:n.email})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Group",type:"text",placeholder:"Group",name:"group",value:a.group,onChange:function(e){o("group",e.target.value)},showError:!(!n.group||!l.group),error:n.group})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"Begin Date",type:"date",placeholder:"Begin Date",name:"beginDate",value:a.beginDate,onChange:function(e){o("beginDate",e.target.value)},showError:!(!n.beginDate||!l.beginDate),error:n.beginDate})),s.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement(X,{label:"End Date",type:"date",placeholder:"End Date",name:"endDate",value:a.endDate,onChange:function(e){o("endDate",e.target.value)},showError:!(!n.endDate||!l.endDate),error:n.endDate})))),s.a.createElement("div",{className:"col-12"},s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(){return e.handleCloseDialog()}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save"))))))})))}}]),t}(l.Component),Ue=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).assignTask=function(e,t){if(a.state.employeeSelected){var n=a.state.unassignedTasks[t].Id,l=a.state.assignedTasks;l.push(a.state.unassignedTasks[t]);var s=a.state.unassignedTasks,r=!1;s.splice(t,1);for(var o=a.state.updates,c=0;c<a.state.updates.length;c++)if(o[c].employeeId==a.state.employeeSelected){o[c].tasks?o[c].tasks.push(n):o[c].tasks=[n],r=!0;break}r||o.push({employeeId:a.state.employeeSelected,tasks:[n]}),a.setState({updates:o,assignedTasks:l,unassignedTasks:s})}else a.props.showToast("Select an employee to assign!","error")},a.handleDropdown=function(e){var t=a.state.updates.filter((function(t){return t.employeeId==e.target.value})),n=[],l=[];t&&t.length&&(n=t[0].tasks),n&&n.length?(l=a.props.taskList.filter((function(e){return-1==n.indexOf(e.Id)})),n=a.props.taskList.filter((function(e){return-1!=n.indexOf(e.Id)}))):l=Array.from(a.props.taskList),a.setState({assignedTasks:n,unassignedTasks:l,employeeSelected:e.target.value})},a.save=function(){a.setState({loading:!0});var e={teamDetails:a.state.updates,token:localStorage.getItem("token"),clientId:a.props.data.Id};y.a.post("http://api.verd.com.au/client/addToTeam",e).then((function(e){a.setState({loading:!1}),e.data.success?a.props.showToast(e.data.message,"success"):a.props.showToast(e.data.message,"error")})).catch((function(e){a.setState({loading:!1}),a.props.showToast(e.message,"error")}))},a.unassignTask=function(e,t){if(a.state.employeeSelected){var n=a.state.assignedTasks[t],l=a.state.assignedTasks;l.splice(t,1);var s=a.state.unassignedTasks;s.push(n);for(var r=a.state.updates,o=0;o<r.length;o++)r[o].employeeId==a.state.employeeSelected&&(r[o].tasks=r[o].tasks?r[o].tasks.filter((function(e){return e!=n.Id})):[],r[o].tasks.length||(r=r.splice(o,1)));a.setState({updates:r,assignedTasks:l,unassignedTasks:s})}else a.props.showToast("Select an employee to assign!","error")},a.state={updates:{},edit:!1,assignedTasks:[],unassignedTasks:[],employeeSelected:"",loading:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.teamDetails?this.props.teamDetails.map((function(e){return{employeeId:e.employeeId,tasks:e.tasks}})):[];if(void 0!=this.props.selectedId){var a=this.props.teamDetails.filter((function(t){return t.employeeId==e.props.selectedId}))[0],n=a.tasks,l=this.props.taskList.filter((function(e){return-1!=n.indexOf(e.Id)})),s=this.props.taskList.filter((function(e){return-1==n.indexOf(e.Id)}));this.setState({index:!0,assignedTasks:l,unassignedTasks:s,updates:t,employeeSelected:a.employeeId})}else this.setState({index:!1,assignedTasks:[],unassignedTasks:Array.from(this.props.taskList),updates:t})}},{key:"render",value:function(){var e=this,t={display:"block",maxHeight:"250px",overflowY:"auto",width:"100%",padding:"1rem"},a={borderColor:"lightGrey",borderRadius:"5px",borderStyle:"solid",margin:"1rem"};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"task_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Add employees to project")))),s.a.createElement("div",{className:"card-body text-left"},this.state.loading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):"",s.a.createElement("section",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{class:"dropdown"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"linkedEmployee"},"Select Employee"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"linkedEmployee",id:"linkedEmployee",value:this.state.employeeSelected,onChange:function(t){return e.handleDropdown(t,"linkedEmployee")}},s.a.createElement("option",{value:""}),this.props.employeeList?this.props.employeeList.map((function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:e.id,key:"emp".concat(t)},e.displayName))})):""))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"column col-lg-5 col-md-5 col-sm-12 col-xs-12",style:a},s.a.createElement("h3",null,"Tasks Available"),s.a.createElement("table",{style:t},s.a.createElement("tbody",null,this.state.unassignedTasks&&this.state.unassignedTasks.length?this.state.unassignedTasks.map((function(t,a){return s.a.createElement("tr",null,s.a.createElement("td",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement("div",null,s.a.createElement("label",null,t.FullyQualifiedName))),s.a.createElement("td",null,s.a.createElement("div",{className:"pointer col-lg-12 col-md-12 col-sm-12 col-xs-12",onClick:function(t){return e.assignTask(t,a)}},s.a.createElement(b.a,{path:f.w,color:"blue",title:"Add",size:1,horizontal:!0,vertical:!0}))))})):""))),s.a.createElement("div",{className:"column col-lg-5 col-md-5 col-sm-12 col-xs-12",style:a},s.a.createElement("h3",null,"Tasks Assigned"),s.a.createElement("table",{style:t},s.a.createElement("tbody",null,this.state.assignedTasks&&this.state.assignedTasks.length?this.state.assignedTasks.map((function(t,a){return s.a.createElement("tr",null,s.a.createElement("td",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},s.a.createElement("div",null,s.a.createElement("label",null,t.FullyQualifiedName))),s.a.createElement("td",null,s.a.createElement("div",{className:"pointer col-lg-12 col-md-12 col-sm-12 col-xs-12",onClick:function(t){return e.unassignTask(t,a)}},s.a.createElement(b.a,{path:f.q,color:"red",title:"Remove",size:1,horizontal:!0,vertical:!0}))))})):"")))),s.a.createElement("div",{className:"row",style:{justifyContent:"center",marginTop:"2rem"}},s.a.createElement("div",{className:"column m-1"},s.a.createElement("button",{onClick:this.props.handleCloseDialog,className:"btn btn-secondary"},"Close")),s.a.createElement("div",{className:"column m-1"},s.a.createElement("button",{onClick:this.save,className:"btn btn-primary"},"Save")))))))))))}}]),t}(s.a.Component),qe=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleCloseDialog=function(e){a.props.handleCloseDialog(e)},a.openEditPopUp=function(e,t){var n=e.target.name?e.target.name.split("_")[1]:void 0;a.setState({selectedId:n,editPopUpOpen:!0},(function(){window.$("#task_dialog").modal("show")}))},a.closeEditPopUp=function(e,t){a.setState({editPopUpOpen:!1,loading:!0}),window.$("#task_dialog").modal("hide");var n={token:localStorage.getItem("token")};y.a.post("http://api.verd.com.au/client/list",n).then((function(e){if(e.data.success){var t=e.data.data.filter((function(e){return e.Id==a.props.data.Id}));a.setState({teams:t[0].teamDetails,teamDetails:t[0].employees,data:t[0],loading:!1}),a.props.updateCustomers(e.data.data)}}))},a.state={teams:[],employeeList:[],taskList:[],teamDetails:[],editPopUpOpen:!1,selectedId:"",data:[],loading:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"showContent",value:function(e){document.getElementById(e.target.getAttribute("name")).classList.toggle("removeContent"),e.target.classList.toggle("active")}},{key:"componentDidMount",value:function(){var e=this,t=this;this.setState({loading:!0});var a={token:localStorage.getItem("token")};Promise.all([y.a.post("http://api.verd.com.au/employee/getAllEmployees",a),y.a.post("http://api.verd.com.au/task/list",a)]).then((function(a){var n=Object(le.a)(a,2),l=n[0],s=n[1];t.setState({teams:e.props.data.teamDetails,employeeList:l.data.data,taskList:s.data.data,teamDetails:e.props.data?e.props.data.employees:[],data:e.props.data,loading:!1})}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.loading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):"",s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(t){return e.openEditPopUp(t)}},"Add New Assignment")),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null),s.a.createElement("th",{scope:"col"},"Name"),s.a.createElement("th",{scope:"col"},"Begin Date"),s.a.createElement("th",{scope:"col"},"Action"))),s.a.createElement("tbody",null,this.state.teams&&this.state.teams.length?this.state.teams.map((function(t,a){return s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{className:"thead-light",key:a},s.a.createElement("td",null," ",s.a.createElement("div",null,s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("span",{name:"team_"+t.employee.Id,onClick:function(t){return e.showContent(t)},className:"accordion"})))),s.a.createElement("td",null,s.a.createElement("p",null,t.employee.DisplayName)),s.a.createElement("td",null,t.beginDate?s.a.createElement("p",null,re()(t.beginDate).format("Do MMM dddd YYYY")):""),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-info",name:"button_"+t.employee.Id,onClick:function(t){return e.openEditPopUp(t,a)}},"edit"))),s.a.createElement("tr",{className:"removeContent",id:"team_"+t.employee.Id},s.a.createElement("td",null),s.a.createElement("td",null,s.a.createElement("h3",null,"Tasks Assigned"),t.tasks?t.tasks.map((function(e,t){return s.a.createElement("p",null,e.FullyQualifiedName)})):s.a.createElement("p",null,"No Active tasks!"))))})):""))),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.handleCloseDialog()}},"Close")),this.state.editPopUpOpen&&s.a.createElement(Ue,{showToast:this.props.showToast,handleCloseDialog:this.closeEditPopUp,teamDetails:this.state.teamDetails,selectedId:this.state.selectedId,taskList:this.state.taskList,employeeList:this.state.employeeList,data:this.state.data}))}}]),t}(s.a.Component),Ve=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleOpenBillRateDialog=function(e,t){e||window.$("#bill_rate_dialog").modal("hide");var n=Object(W.a)(a.state.costRates);void 0!==t&&n.splice(t,1),a.setState({costRateDialog:{isOpen:e,data:void 0!==t?Object(z.a)({},a.state.costRates[t]):void 0,editIndex:t,costRates:n}},(function(){e&&window.$("#bill_rate_dialog").modal("show")}))},a.handleCloseBillRateDialog=function(e){console.log("cost rate data ",e),window.$("#bill_rate_dialog").modal("hide"),a.setState({costRateDialog:{isOpen:!1,data:void 0,editIndex:-1}},(function(){e&&a.getCostRates(0)}))},a.state={billRates:[{date:"01/12/2020",rate:12}]},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("section",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col col-lg-6 col-md-6 col-sm-12 col-xs-12"},s.a.createElement("div",{className:"d-flex justify-content-between"},s.a.createElement("h5",null,"Bill Rate/Hr"),s.a.createElement("button",{onClick:function(){return e.handleOpenBillRateDialog(!0)},className:"btn btn-sm btn-primary"},"Add")),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Begin Date"),s.a.createElement("th",{scope:"col"},"Rate/hr"))),s.a.createElement("tbody",null,this.state.billRates.map((function(e,t){return s.a.createElement("tr",{key:"costRate".concat(t)},s.a.createElement("td",null,e.date),s.a.createElement("td",null,e.rate))})))))))))}}]),t}(l.Component),We=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleCloseDialog=function(e){a.props.handleCloseDialog(e)},a.setActiveIndex=function(e){a.setState({selectedTabIndex:e})},a.state={selectedTabIndex:0},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"customer_edit_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- full-page-dialog",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Task")))),s.a.createElement("div",{className:"card-body text-left"},s.a.createElement("ul",{className:"nav nav-pills"},s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(0)}},s.a.createElement("a",{className:"nav-link ".concat(0===this.state.selectedTabIndex?"active":""),href:"#"},"General")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(1)}},s.a.createElement("a",{className:"nav-link ".concat(1===this.state.selectedTabIndex?"active":""),href:"#"},"Team")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(2)}},s.a.createElement("a",{className:"nav-link ".concat(2===this.state.selectedTabIndex?"active":""),href:"#"},"Billing")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(3)}},s.a.createElement("a",{className:"nav-link ".concat(3===this.state.selectedTabIndex?"active":""),href:"#"},"Transactions")),s.a.createElement("li",{className:"nav-item",onClick:function(){return e.setActiveIndex(4)}},s.a.createElement("a",{className:"nav-link ".concat(4===this.state.selectedTabIndex?"active":""),href:"#"},"Invoice Pref."))),s.a.createElement("br",null),0===this.state.selectedTabIndex&&s.a.createElement(He,{handleCloseDialog:this.handleCloseDialog}),1===this.state.selectedTabIndex&&s.a.createElement(qe,{handleCloseDialog:this.handleCloseDialog,showToast:this.props.showToast,data:this.props.data,updateCustomers:this.props.updateCustomers}),2===this.state.selectedTabIndex&&s.a.createElement(Ve,{handleCloseDialog:this.handleCloseDialog}))))))))}}]),t}(l.Component),Ge=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).updateCustomers=function(e){a.setState({customers:e})},a.getCustomerList=function(e){var t,n,l;return V.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=Object(E.a)(a),n=10*e.selected,a.setState({isLoading:!0}),s.next=5,V.a.awrap(Q("client/list","POST",{from:n}));case 5:(l=s.sent).success?t.setState({customers:l.data,isLoading:!1,totalCount:Math.ceil(l.totalCount/10)}):(a.setState({isLoading:!1}),a.showToast("Error while getting customers","error"));case 7:case"end":return s.stop()}}))},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.handleAddCustomer=function(){a.setState({customerDialog:{isOpen:!0,editIndex:-1,data:void 0}},(function(){window.$("#add_customer_modal").modal("show")}))},a.handleEditCustomer=function(e){a.setState({customerDialog:{isOpen:!0,editIndex:e,data:a.state.customers[e]}},(function(){window.$("#customer_edit_dialog").modal("show")}))},a.handleCloseDialog=function(e){return V.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:window.$("#customer_edit_dialog").modal("hide"),window.$("#add_customer_modal").modal("hide"),a.setState({customerDialog:{isOpen:!1,editIndex:-1,data:void 0}},(function(){e&&Object(E.a)(a).getCustomerList({selected:0})}));case 3:case"end":return t.stop()}}))},a.state={isLoading:!1,customers:[],totalCount:0,customerDialog:{isOpen:!1,editIndex:-1,data:void 0}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getCustomerList({selected:0})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleAddCustomer()}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(b.a,{path:f.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Customer:Project"),s.a.createElement("th",{scope:"col"},"Team"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.customers.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",null,t.FullyQualifiedName)),s.a.createElement("td",null,s.a.createElement("span",null,t.employees?"All Employees":"N/A")),s.a.createElement("td",null,s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleEditCustomer(a)},className:"btn btn-sm btn-primary"},"Edit"))))})))),s.a.createElement(Ne.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.totalCount,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:this.getCustomerList,pageClassName:"page-item",pageLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",containerClassName:"pagination justify-content-center",subContainerClassName:"pages pagination",activeClassName:"active"})),this.state.customerDialog.isOpen&&s.a.createElement(s.a.Fragment,null,-1===this.state.customerDialog.editIndex?s.a.createElement(ze,{data:this.state.customerDialog.data,showToast:this.showToast,handleCloseDialog:this.handleCloseDialog}):s.a.createElement(We,{data:this.state.customerDialog.data,showToast:this.showToast,handleCloseDialog:this.handleCloseDialog,updateCustomers:this.updateCustomers})))}}]),t}(l.Component),Ye=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getExpensesList=function(){var e,t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object(E.a)(a),a.setState({isLoading:!0}),n.next=4,V.a.awrap(Q("expenses/admin-list","POST",Object(z.a)({},a.state.expenses.search,{status:a.state.selectedStatus})));case 4:t=n.sent,console.log(t),t.success?(t.data=t.data.map((function(e){var t="submitted",n=e.expensesList.reduce((function(e,n){return n.status===a.state.selectedStatus&&(e.amount+=Number(n.amount),n.isBillable&&(e.due+=Number(n.amount)),"on-hold"===n.status&&(t="on-hold"),n.isBillable&&(e.billable+=Number(n.amount))),e}),{amount:0,due:0,billable:0});return e.amount=n.amount,e.due=n.due,e.status=t,e})),e.setState((function(e){return{expenses:Object(z.a)({},e.expenses,{data:t.data}),hasMoreResults:a.state.expenses.search.size===t.data.length,isLoading:!1}}))):(a.setState({isLoading:!1}),a.showToast("Error while getting my expenses","error"));case 7:case"end":return n.stop()}}))},a.getExpensesFrom=function(e){a.setState((function(t){return{expenses:Object(z.a)({},t.expenses,{search:Object(z.a)({},t.expenses.search,{from:e})})}}),a.getExpensesList)},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.handleAddMyExpenseDialog=function(e,t){var n=void 0,l=Object(z.a)({},a.state.expenseMainDialog);void 0!==t&&(n=a.state.expenses.data[t],l.reportDate=re()(n.reportDate).toDate(),l.reason=n.reason),a.setState({expenseDialog:{isOpen:!0,data:n},expenseMainDialog:Object(z.a)({},l)},(function(){console.log("data"),window.$("#my_expense_modal").modal("show")}))},a.handleCloseDialog=function(e){window.$("#my_expense_modal").modal("hide"),a.setState({expenseDialog:{isOpen:!1,data:void 0}},(function(){e&&(a.props.updateExpenseCount(),a.getExpensesFrom(0))}))},a.state={isLoading:!1,expensesCountDetails:{},expenses:{data:[],search:{from:0,size:10}},hasMoreResults:!1,expenseDialog:{isOpen:!1,data:void 0},selectedStatus:""},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.selectedStatus!==this.state.selectedStatus&&(console.log("status updated"),this.setState((function(e){return{selectedStatus:a.props.selectedStatus,expenses:Object(z.a)({},e.expenses,{search:Object(z.a)({},e.expenses.search,{from:0})})}}),this.getExpensesList))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-6"})),s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement(_e,{selectedStatus:this.state.selectedStatus,canUpdate:!1,expenses:this.state.expenses.data,handleAddMyExpenseDialog:this.handleAddMyExpenseDialog}),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getExpensesFrom(e.state.expenses.search.from-e.state.expenses.search.size)},disabled:0===this.state.expenses.search.from},"Previous"),s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getExpensesFrom(e.state.expenses.search.from+e.state.expenses.search.size)},disabled:!this.state.hasMoreResults},"Next")),this.state.expenseDialog.isOpen&&s.a.createElement(Fe,{showToast:this.showToast,getExpensesFrom:this.getExpensesFrom,reportDate:this.state.expenseMainDialog.reportDate,canUpdate:!1,selectedStatus:this.state.selectedStatus,reason:this.state.expenseMainDialog.reason,data:this.state.expenseDialog.data,handleCloseDialog:this.handleCloseDialog}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.selectedStatus!==t.selectedStatus?{selectedStatus:e.selectedStatus}:null}}]),t}(l.Component),Qe=(a(380),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){return V.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.awrap(a.getExpensesCount());case 2:case"end":return e.stop()}}))},a.getExpensesCount=function(){var e,t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({isLoading:!0}),n.next=3,V.a.awrap(Q("expenses/admin-expenses-count","GET"));case 3:(e=n.sent).success?(t=e.data.reduce((function(e,t){return e[t.status]=t,e}),{}),a.setState({expensesCountDetails:t,isLoading:!1})):(a.setState({isLoading:!1}),a.showToast("Error while getting my expenses","error"));case 5:case"end":return n.stop()}}))},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.state={expensesCountDetails:{}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.isUpdateCount!==this.state.isUpdateCount&&this.setState((function(e){return{isUpdateCount:a.props.isUpdateCount}}),this.getExpensesCount)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"row"},O.map((function(t){return s.a.createElement("div",{key:t.value,className:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-xs-12",onClick:function(){return e.props.onStatusSelected(t.value)}},s.a.createElement("div",{className:"align-items-center d-flex status-card  ".concat(t.value," ").concat(t.value===e.props.selectedStatus?"selected":"")},s.a.createElement("div",{className:"align-items-center d-flex justify-content-center status-count"},e.state.expensesCountDetails[t.value]?e.state.expensesCountDetails[t.value].count:0),s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("label",null,t.label),s.a.createElement("span",null,e.state.expensesCountDetails[t.value]?e.state.expensesCountDetails[t.value].totalAmount:0))))}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isUpdateCount!==t.isUpdateCount?{isUpdateCount:e.isUpdateCount}:null}}]),t}(l.Component)),Je=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).showToast=function(e,t){a.props.showToast(e,t)},a.handleCloseDialog=function(e){a.props.handleCloseDialog(e)},a.state={initialValues:a.props.data?a.props.data:{Active:!1,Name:"",ParentRef:"",Type:"Service Item",ExpenseAccountRef:"",Description:"",PurchaseTaxIncluded:!1,ClassRef:"",Taxable:!1,PurchaseCost:"",UnitPrice:""},subClients:[],isLoading:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"list_task_add_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Task")))),s.a.createElement("div",{className:"card-body text-left"},this.state.isLoading&&s.a.createElement("div",{className:"centered loading-dialog"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(ae.a,{initialValues:this.state.initialValues,validate:function(e){var t={};return e.Name||(t.Name="Required"),t},onSubmit:function(t){var a;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.setState({isLoading:!0}),!t._id){n.next=7;break}return n.next=4,V.a.awrap(Q("task/update","PATCH",t));case 4:a=n.sent,n.next=10;break;case 7:return n.next=9,V.a.awrap(Q("task/add","POST",t));case 9:a=n.sent;case 10:a.success?(e.showToast("Task ".concat(t._id?"updated":"added"," successfully"),"success"),e.handleCloseDialog(a.data)):(e.setState({isLoading:!1}),e.showToast("Error while getting task","error"));case 11:case"end":return n.stop()}}))}},(function(t){var a=t.values,n=t.errors,l=t.touched,r=t.handleChange,o=t.handleSubmit,c=t.setFieldValue;t.resetForm;return s.a.createElement("form",{onSubmit:o},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customActive",type:"checkbox",value:a.Active,checked:!!a.Active,onChange:function(){c("Active",!a.Active)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customActive"},s.a.createElement("span",null,"Active?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Task",type:"text",placeholder:"Task",name:"Name",value:a.Name,onChange:function(e){c("Name",e.target.value)},showError:!(!n.Name||!l.Name),error:n.Name})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"sub_Item"},"Sub Items of"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"ParentRef",id:"sub_Item",value:a.ParentRef,onChange:r},s.a.createElement("option",{value:""}),(e.props.subItems||[]).map((function(e,t){return s.a.createElement("option",{value:e._id,key:t},e.task)}))),n.ParentRef&&l.ParentRef&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},n.ParentRef))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Task Type",type:"text",placeholder:"Task Type",name:"Type",value:a.Type,onChange:function(e){c("Type",e.target.value)},showError:!(!n.Type||!l.Type),error:n.Type})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"ExpenseAccountRef"},"Account"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"ExpenseAccountRef",id:"ExpenseAccountRef",value:a.ExpenseAccountRef,onChange:r},s.a.createElement("option",{value:""}),w.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}))),n.ExpenseAccountRef&&l.ExpenseAccountRef&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},n.ExpenseAccountRef))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Description",type:"text",placeholder:"Description",name:"Description",value:a.Description,onChange:function(e){c("Description",e.target.value)},showError:!(!n.Description||!l.Description),error:n.Description})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customBillable",type:"checkbox",value:a.PurchaseTaxIncluded,checked:!!a.PurchaseTaxIncluded,onChange:function(){c("PurchaseTaxIncluded",!a.PurchaseTaxIncluded)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customBillable"},s.a.createElement("span",null,"Billable?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Class",type:"text",placeholder:"Class",name:"ClassRef",value:a.ClassRef,onChange:function(e){c("ClassRef",e.target.value)},showError:!(!n.ClassRef||!l.ClassRef),error:n.ClassRef})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customTaxable",type:"checkbox",value:a.Taxable,checked:!!a.Taxable,onChange:function(){c("Taxable",!a.Taxable)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customTaxable"},s.a.createElement("span",null,"Taxable?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Cost Rate",type:"text",placeholder:"Cost Rate",name:"PurchaseCost",value:a.PurchaseCost,onChange:function(e){c("PurchaseCost",e.target.value)},showError:!(!n.PurchaseCost||!l.PurchaseCost),error:n.PurchaseCost})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Bill Rate",type:"text",placeholder:"Bill Rate",name:"UnitPrice",value:a.UnitPrice,onChange:function(e){c("UnitPrice",e.target.value)},showError:!(!n.UnitPrice||!l.UnitPrice),error:n.UnitPrice})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(){return e.handleCloseDialog(void 0)}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))})))))))))}}]),t}(l.Component),Xe=s.a.createContext(),Ke=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={open:!1,options:{},yesText:"",isHideCancel:!1,show:function(e,t,n,l,s){a.setState({open:!a.state.open,heading:e,body:t,successHandler:n,yesText:l,isHideCancel:s},(function(){window.$("#confirm_dialog").modal("show")}))}},a.handleCloseDialog=function(){a.setState({open:!1},(function(){window.$("#confirm_dialog").modal("hide")}))},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(Xe.Provider,{value:Object(z.a)({},this.state)},s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"confirm_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-md",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},this.state.heading)))),s.a.createElement("div",{className:"card-body text-left"},this.state.body),s.a.createElement("div",{className:"modal-footer"},!this.state.isHideCancel&&s.a.createElement("button",{type:"button",className:"btn btn-link  ml-auto",onClick:this.handleCloseDialog},"Cancel"),s.a.createElement("button",{onClick:function(){e.state.successHandler(),e.handleCloseDialog()},className:"btn btn-primary"},this.state.yesText||"Yes"))))))),this.props.children))}}]),t}(l.Component),Ze=function(e){return function(t){return s.a.createElement(Xe.Consumer,null,(function(a){return s.a.createElement(e,Object.assign({},t,{confirmDialog:a}))}))}},$e=Ze(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){return V.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.awrap(a.getTasksList());case 2:case"end":return e.stop()}}))},a.getTasksList=function(){var e,t,n,l;return V.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a.setState({isLoading:!0}),e=Object(z.a)({},a.state.search),s.next=4,V.a.awrap(Q("task/list","POST",e));case 4:(t=s.sent).success?(n=[],l=t.data.reduce((function(e,t){e[t._id]=t.task;var a=Object(z.a)({},t);return a.ParentRef&&a.ParentRef.value&&(a.ParentRef=a.ParentRef.value),a.ExpenseAccountRef&&a.ExpenseAccountRef.value&&(a.ExpenseAccountRef=a.ExpenseAccountRef.value),a.ClassRef&&a.ClassRef.value&&(a.ClassRef=a.ClassRef.value),n.push(a),e}),{}),a.setState({tasksList:n,allTasksList:n,tasksDic:l,hasMoreResults:t.data.length===a.state.search.size,isLoading:!1})):(a.setState({isLoading:!1}),a.showToast("Error while getting my tasks","error"));case 6:case"end":return s.stop()}}))},a.getTasksListFrom=function(e){a.setState((function(t){return{search:Object(z.a)({},t.search,{from:e})}}),a.getTasksList)},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.handleOpenTaskDialog=function(e,t){e||window.$("#list_task_add_dialog").modal("hide");var n=Object(W.a)(a.state.allTasksList);if(void 0!==t){var l=a.state.tasksList[t],s=n.findIndex((function(e){return e._id===l._id}));n.splice(s,1)}a.setState({taskDialog:{isOpen:e,data:void 0!==t?Object(z.a)({},a.state.tasksList[t]):void 0,editIndex:t,tasks:n}},(function(){e&&window.$("#list_task_add_dialog").modal("show")}))},a.handleCloseDialog=function(e){window.$("#list_task_add_dialog").modal("hide"),a.setState({taskDialog:{isOpen:!1,data:void 0,editIndex:-1,tasks:[]}},(function(){e&&a.getTasksListFrom(0)}))},a.handleDelete=function(e){a.canDeleteTask(a.state.tasksList[e])?a.props.confirmDialog.show("Are you sure","Do you want to delete",(function(){var t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({isLoading:!0}),n.next=3,V.a.awrap(Q("tasks/".concat(a.state.tasksList[e]._id),"DELETE"));case 3:n.sent.success?(a.showToast("Task deleted successfully","success"),(t=Object(W.a)(a.state.tasksList)).splice(e,1),a.setState({tasksList:t,isLoading:!1})):(a.setState({isLoading:!1}),a.showToast("Error while getting deleting tasks","error"));case 5:case"end":return n.stop()}}))})):a.props.confirmDialog.show("Can not Delete","It is linked with another task. You can make in active",(function(){return V.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))}),"Okay",!0)},a.handleStatusChange=function(e){var t=Object(z.a)({},e);a.setState((function(e){var a;return{search:Object(z.a)({},e.search,(a={},Object(m.a)(a,t.target.name,t.target.value),Object(m.a)(a,"from",0),a))}}),(function(){a.getTasksList()}))},a.canDeleteTask=function(e){return!e.subItem&&!(Object(W.a)(a.state.tasksList).filter((function(e){return""!==e.subItem&&void 0!==e.subItem})).map((function(e){return e.subItem})).indexOf(e._id)>-1)},a.state={isLoading:!1,allTasksList:[],tasksList:[],tasksDic:{},search:{from:0,size:10,status:""},hasMoreResults:!1,taskDialog:{isOpen:!1,data:void 0,editIndex:-1,tasks:[]}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("select",{name:"status",className:"mr-1",value:this.state.search.status,onChange:this.handleStatusChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"active"},"Active"),s.a.createElement("option",{value:"not-active"},"In Active")),s.a.createElement("button",{className:"btn btn-sm btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleOpenTaskDialog(!0)}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(b.a,{path:f.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Task"),s.a.createElement("th",{scope:"col"},"Type"),s.a.createElement("th",{scope:"col"},"Status"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.tasksList.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",null,t.Name)),s.a.createElement("td",null,s.a.createElement("div",{className:"d-flex align-items-center"},s.a.createElement("span",null,t.Type?t.Type:""))),s.a.createElement("td",null,t.Active?"Active":"Not Active"),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenTaskDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDelete(a)},className:"btn btn-sm btn-danger"},"Delete")))})),0===this.state.tasksList.length&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-center"},"No Tasks found"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getTasksListFrom(e.state.search.from-e.state.search.size)},disabled:0===this.state.search.from},"Previous"),s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getTasksListFrom(e.state.search.from+e.state.search.size)},disabled:!this.state.hasMoreResults},"Next")),this.state.taskDialog.isOpen&&s.a.createElement(Je,{subItems:this.state.taskDialog.tasks,data:this.state.taskDialog.data,showToast:this.showToast,handleCloseDialog:this.handleCloseDialog}))}}]),t}(l.Component)),et=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).showToast=function(e,t){a.props.showToast(e,t)},a.handleCloseDialog=function(e){a.props.handleCloseDialog(e)},a.state={initialValues:a.props.data?a.props.data:{Active:!1,Name:"",ParentRef:"",addressLine1:"",addressLine2:"",state:"",zipCode:""},subClients:[],isLoading:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"list_classes_add_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Class")))),s.a.createElement("div",{className:"card-body text-left"},this.state.isLoading&&s.a.createElement("div",{className:"centered loading-dialog"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(ae.a,{initialValues:this.state.initialValues,validate:function(e){var t={};return e.Name||(t.Name="Required"),t},onSubmit:function(t){var a;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.setState({isLoading:!0}),!t._id){n.next=7;break}return n.next=4,V.a.awrap(Q("class/update","PATCH",t));case 4:a=n.sent,n.next=10;break;case 7:return n.next=9,V.a.awrap(Q("class/add","POST",t));case 9:a=n.sent;case 10:a.success?(e.showToast("Class ".concat(t._id?"updated":"added"," successfully"),"success"),e.handleCloseDialog(a.data)):(e.setState({isLoading:!1}),e.showToast("Error while ".concat(t._id?"updating":"adding"," class"),"error"));case 11:case"end":return n.stop()}}))}},(function(t){var a=t.values,n=t.errors,l=t.touched,r=t.handleChange,o=t.handleSubmit,c=t.setFieldValue;t.resetForm;return s.a.createElement("form",{onSubmit:o},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customActive",type:"checkbox",value:a.Active,checked:!!a.Active,onChange:function(){c("Active",!a.Active)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customActive"},s.a.createElement("span",null,"Active?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Class",type:"text",placeholder:"Class",name:"Name",value:a.Name,onChange:function(e){c("Name",e.target.value)},showError:!(!n.Name||!l.Name),error:n.Name})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"sub_class"},"Sub Class"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"ParentRef",id:"sub_class",value:a.ParentRef,onChange:r},s.a.createElement("option",{value:""}),(e.props.classes||[]).map((function(e,t){return s.a.createElement("option",{value:e._id,key:t},e.Name)}))),n.ParentRef&&l.ParentRef&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},n.ParentRef)))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Address Line 1",type:"text",placeholder:"Address Line 1",name:"addressLine1",value:a.addressLine1,onChange:function(e){c("addressLine1",e.target.value)},showError:!(!n.addressLine1||!l.addressLine1),error:n.addressLine1})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Address Line 2",type:"text",placeholder:"Address Line 2",name:"addressLine2",value:a.addressLine2,onChange:function(e){c("addressLine2",e.target.value)},showError:!(!n.addressLine2||!l.addressLine2),error:n.addressLine2})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"State",type:"text",placeholder:"State",name:"state",value:a.state,onChange:function(e){c("state",e.target.value)},showError:!(!n.state||!l.state),error:n.state})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Zip Code",type:"number",placeholder:"Zip Code",name:"zipCode",value:a.zipCode,onChange:function(e){c("zipCode",e.target.value)},showError:!(!n.zipCode||!l.zipCode),error:n.zipCode})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(){return e.handleCloseDialog(void 0)}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))})))))))))}}]),t}(l.Component),tt=Ze(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){return V.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.awrap(a.getClassesList());case 2:case"end":return e.stop()}}))},a.getClassesList=function(){var e,t,n,l,s;return V.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a.setState({isLoading:!0}),e=Object(z.a)({},a.state.search),r.next=4,V.a.awrap(Q("class/list","POST",e));case 4:(t=r.sent).success?(n=t.data.reduce((function(e,t){return e[t._id]=t.class,e}),{}),l=Object(W.a)(t.data),s=Object(W.a)(t.data),a.state.search.status&&(s=s.filter((function(e){return"active"===a.state.search.status?!0===e.Active:!1===e.Active}))),a.setState({allClassesList:l,classesList:s,classesDic:n,hasMoreResults:t.data.length===a.state.search.size,isLoading:!1})):(a.setState({isLoading:!1}),a.showToast("Error while getting my classes","error"));case 6:case"end":return r.stop()}}))},a.getClassesListFrom=function(e){a.setState((function(t){return{search:Object(z.a)({},t.search,{from:e})}}),a.getClassesList)},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.handleOpenClassDialog=function(e,t){e||window.$("#list_classes_add_dialog").modal("hide");var n=Object(W.a)(a.state.allClassesList);if(void 0!==t){var l=a.state.classesList[t],s=n.findIndex((function(e){return e._id===l._id}));n.splice(s,1)}a.setState({addClassDialog:{isOpen:e,data:void 0!==t?Object(z.a)({},a.state.classesList[t]):void 0,editIndex:t,classes:n}},(function(){e&&window.$("#list_classes_add_dialog").modal("show")}))},a.handleCloseDialog=function(e){window.$("#list_classes_add_dialog").modal("hide"),a.setState({addClassDialog:{isOpen:!1,data:void 0,editIndex:-1,classes:[]}},(function(){e&&a.getClassesListFrom(0)}))},a.handleDelete=function(e){a.canDeleteClass(a.state.classesList[e])?a.props.confirmDialog.show("Are you sure","Do you want to delete",(function(){var t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({isLoading:!0}),n.next=3,V.a.awrap(Q("class/".concat(a.state.classesList[e]._id),"DELETE"));case 3:n.sent.success?(a.showToast("Class deleted successfully","success"),(t=Object(W.a)(a.state.classesList)).splice(e,1),a.setState({classesList:t,isLoading:!1})):(a.setState({isLoading:!1}),a.showToast("Error while getting deleting class","error"));case 5:case"end":return n.stop()}}))})):a.props.confirmDialog.show("Can not Delete","It is linked with another class. You can make in active",(function(){return V.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))}),"Okay",!0)},a.handleStatusChange=function(e){var t=Object(z.a)({},e),n=t.target.value,l=Object(W.a)(a.state.allClassesList);n&&(l=l.filter((function(e){return"active"===n?!0===e.Active:!1===e.Active}))),a.setState((function(e){var a;return{search:Object(z.a)({},e.search,(a={},Object(m.a)(a,t.target.name,t.target.value),Object(m.a)(a,"from",0),a)),classesList:l}}))},a.canDeleteClass=function(e){return console.log("can delete"),!e.subClass&&!(Object(W.a)(a.state.classesList).filter((function(e){return""!==e.subClass&&void 0!==e.subClass})).map((function(e){return e.subClass})).indexOf(e._id)>-1)},a.state={isLoading:!1,allClassesList:[],classesList:[],classesDic:{},search:{from:0,size:10,status:""},hasMoreResults:!1,addClassDialog:{isOpen:!1,data:void 0,editIndex:-1,classes:[]}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("select",{name:"status",className:"mr-1",value:this.state.search.status,onChange:this.handleStatusChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"active"},"Active"),s.a.createElement("option",{value:"not-active"},"In Active")),s.a.createElement("button",{className:"btn btn-sm btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleOpenClassDialog(!0)}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(b.a,{path:f.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Class"),s.a.createElement("th",null,"Sub Class Of"),s.a.createElement("th",{scope:"col"},"Status"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.classesList.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",null,t.FullyQualifiedName)),s.a.createElement("td",null,t.subClass?e.state.classesDic[t.subClass]:"N/A"),s.a.createElement("td",null,t.Active?"Active":"Not Active"),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenClassDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDelete(a)},className:"btn btn-sm btn-danger"},"Delete")))})),0===this.state.classesList.length&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-center"},"No classes found"))))),s.a.createElement("br",null),this.state.addClassDialog.isOpen&&s.a.createElement(et,{classes:this.state.addClassDialog.classes,data:this.state.addClassDialog.data,showToast:this.showToast,handleCloseDialog:this.handleCloseDialog}))}}]),t}(l.Component)),at=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getClassesList=function(){var e,t,n;return V.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a.setState({isLoading:!0}),l.next=3,V.a.awrap(Q("class/list","POST",{}));case 3:(e=l.sent).success?(t=e.data.reduce((function(e,t){return e[t._id]=t.Name,e}),{}),n=e.data.filter((function(e){return!0===e.Active})),a.setState({classesList:n,classesDic:t,isLoading:!1})):(a.setState({isLoading:!1}),a.showToast("Error while getting my classes","error"));case 5:case"end":return l.stop()}}))},a.showToast=function(e,t){a.props.showToast(e,t)},a.handleCloseDialog=function(e){a.props.handleCloseDialog(e)},a.state={initialValues:a.props.data?a.props.data:{isActive:!1,account:"",subAccountOf:"",accountType:"",accountNo:"",spendLimit:"",class:"",isPerDay:!1,isAllowExpense:!1,isMustEnterQnRate:!1,defaultRate:"",vat:"",attendeesOption:"",trackNonBillable:"",trackBillable:""},subClients:[],isLoading:!1,classesList:[],classesDic:{}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getClassesList()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"list_expense_add_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Class")))),s.a.createElement("div",{className:"card-body text-left"},this.state.isLoading&&s.a.createElement("div",{className:"centered loading-dialog"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(ae.a,{initialValues:this.state.initialValues,validate:function(e){var t={};return e.account||(t.account="Required"),e.accountType||(t.accountType="Required"),t},onSubmit:function(t){var a;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.setState({isLoading:!0}),!t._id){n.next=7;break}return n.next=4,V.a.awrap(Q("list/expense-item","PATCH",t));case 4:a=n.sent,n.next=10;break;case 7:return n.next=9,V.a.awrap(Q("list/expense-item-add","POST",t));case 9:a=n.sent;case 10:a.success?(e.showToast("Expense ".concat(t._id?"updated":"added"," successfully"),"success"),e.handleCloseDialog(a.data)):(e.setState({isLoading:!1}),e.showToast("Error while ".concat(t._id?"updating":"adding"," expense"),"error"));case 11:case"end":return n.stop()}}))}},(function(t){var a=t.values,n=t.errors,l=t.touched,r=t.handleChange,o=t.handleSubmit,c=t.setFieldValue;t.resetForm;return s.a.createElement("form",{onSubmit:o},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customActive",type:"checkbox",value:a.isActive,checked:!!a.isActive,onChange:function(){c("isActive",!a.isActive)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customActive"},s.a.createElement("span",null,"Active?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Account Name",type:"text",placeholder:"Account Name",name:"account",value:a.account,onChange:function(e){c("account",e.target.value)},showError:!(!n.account||!l.account),error:n.account})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"sub_account_of"},"Sub Account of"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"subAccountOf",id:"sub_account_of",value:a.subAccountOf,onChange:r},s.a.createElement("option",{value:""}),w.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}))),n.subAccountOf&&l.subAccountOf&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},n.subAccountOf))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"account_type"},"Account Type"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"accountType",id:"account_type",value:a.accountType,onChange:r},s.a.createElement("option",{value:""}),A.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}))),n.accountType&&l.accountType&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},n.accountType))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Account No",type:"text",placeholder:"Account No",name:"accountNo",value:a.accountNo,onChange:function(e){c("accountNo",e.target.value)},showError:!(!n.accountNo||!l.accountNo),error:n.accountNo})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Spend Limit",type:"number",placeholder:"Spend Limit",name:"spendLimit",value:a.spendLimit,onChange:function(e){c("spendLimit",e.target.value)},showError:!(!n.spendLimit||!l.spendLimit),error:n.spendLimit})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"class"},"Class"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"class",id:"class",value:a.class,onChange:r},s.a.createElement("option",{value:""}),e.state.classesList.map((function(t,a){return s.a.createElement("option",{value:t._id,key:a},e.state.classesDic[t._id])}))),n.class&&l.class&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},n.class))))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customIsPerDay",type:"checkbox",value:a.isPerDay,checked:!!a.isPerDay,onChange:function(){c("isPerDay",!a.isPerDay)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customIsPerDay"},s.a.createElement("span",null,"Per Day"))))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customAllowExpense",type:"checkbox",value:a.isAllowExpense,checked:!!a.isAllowExpense,onChange:function(){c("isAllowExpense",!a.isAllowExpense)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customAllowExpense"},s.a.createElement("span",null,"Allow Expense"))))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customMustEnter",type:"checkbox",value:a.isMustEnterQnRate,checked:!!a.isMustEnterQnRate,onChange:function(){c("isMustEnterQnRate",!a.isMustEnterQnRate)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customMustEnter"},s.a.createElement("span",null,"Must Enter Quantity and Rate"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Default Rate",type:"number",placeholder:"Default Rate",name:"defaultRate",value:a.defaultRate,onChange:function(e){c("defaultRate",e.target.value)},showError:!(!n.defaultRate||!l.defaultRate),error:n.defaultRate})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customLockRate",type:"checkbox",value:a.isLockRate,checked:!!a.isLockRate,onChange:function(){c("isLockRate",!a.isLockRate)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customLockRate"},s.a.createElement("span",null,"Lock Rate"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Vat",type:"number",placeholder:"Vat",name:"vat",value:a.vat,onChange:function(e){c("vat",e.target.value)},showError:!(!n.vat||!l.vat),error:n.vat})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("label",null,"Attendees Option"),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex"},s.a.createElement("div",{class:"radio"},s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"attendeesOption",checked:"not-required"===a.attendeesOption,onChange:function(){return c("attendeesOption","not-required")}}),"Not Required"))," \xa0\xa0",s.a.createElement("div",{class:"radio"},s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"attendeesOption",checked:"required"===a.attendeesOption,onChange:function(){return c("attendeesOption","required")}}),"Required")),"\xa0\xa0",s.a.createElement("div",{class:"radio"},s.a.createElement("label",null,s.a.createElement("input",{type:"radio",name:"attendeesOption",checked:"optional"===a.attendeesOption,onChange:function(){return c("attendeesOption","optional")}}),"Optional")))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("p",{className:"mt-4"},"For non billable expense, track in Account")),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"non_billable"},"Non billable"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"trackNonBillable",id:"non_billable",value:a.trackNonBillable,onChange:r},s.a.createElement("option",{value:""}),w.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}))),n.trackNonBillable&&l.trackNonBillable&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},n.trackNonBillable))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("p",{className:"mt-4"},"For billable expense, track in Account")),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",htmlFor:"billable"},"Billable"),s.a.createElement("select",{className:"form-control input-group input-group-alternative",name:"trackBillable",id:"billable",value:a.trackBillable,onChange:r},s.a.createElement("option",{value:""}),w.map((function(e,t){return s.a.createElement("option",{value:e,key:t},e)}))),n.trackBillable&&l.trackBillable&&s.a.createElement("div",null,s.a.createElement("small",{className:"text-danger"},n.trackBillable))))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(){return e.handleCloseDialog(void 0)}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))})))))))))}}]),t}(l.Component),nt=Ze(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){return V.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.awrap(a.getExpenseList());case 2:case"end":return e.stop()}}))},a.getExpenseList=function(){var e,t,n,l;return V.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a.setState({isLoading:!0}),e=Object(z.a)({},a.state.search),s.next=4,V.a.awrap(Q("list/expense-item-list","POST",e));case 4:(t=s.sent).success?(n=Object(W.a)(t.data),l=Object(W.a)(t.data),a.setState({allExpenseList:n,expenseList:l,hasMoreResults:t.data.length===a.state.search.size,isLoading:!1})):(a.setState({isLoading:!1}),a.showToast("Error while getting expense list","error"));case 6:case"end":return s.stop()}}))},a.getExpenseListFrom=function(e){a.setState((function(t){return{search:Object(z.a)({},t.search,{from:e})}}),a.getExpenseList)},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.handleOpenExpenseDialog=function(e,t){e||window.$("#list_expense_add_dialog").modal("hide");var n=Object(W.a)(a.state.allExpenseList);if(void 0!==t){var l=a.state.expenseList[t],s=n.findIndex((function(e){return e._id===l._id}));n.splice(s,1)}a.setState({addExpenseDialog:{isOpen:e,data:void 0!==t?Object(z.a)({},a.state.expenseList[t]):void 0,editIndex:t,expenses:n}},(function(){e&&window.$("#list_expense_add_dialog").modal("show")}))},a.handleCloseDialog=function(e){window.$("#list_expense_add_dialog").modal("hide"),a.setState({addExpenseDialog:{isOpen:!1,data:void 0,editIndex:-1,expenses:[]}},(function(){e&&a.getExpenseListFrom(0)}))},a.handleDelete=function(e){a.props.confirmDialog.show("Are you sure","Do you want to delete",(function(){var t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({isLoading:!0}),n.next=3,V.a.awrap(Q("list/expense-item/".concat(a.state.expenseList[e]._id),"DELETE"));case 3:n.sent.success?(a.showToast("Expense list deleted successfully","success"),(t=Object(W.a)(a.state.expenseList)).splice(e,1),a.setState({expenseList:t,isLoading:!1})):(a.setState({isLoading:!1}),a.showToast("Error while getting deleting expense list","error"));case 5:case"end":return n.stop()}}))}))},a.handleStatusChange=function(e){var t=Object(z.a)({},e);a.setState((function(e){var a;return{search:Object(z.a)({},e.search,(a={},Object(m.a)(a,t.target.name,t.target.value),Object(m.a)(a,"from",0),a))}}),a.getExpenseList)},a.state={isLoading:!1,allExpenseList:[],expenseList:[],search:{from:0,size:10,status:""},hasMoreResults:!1,addExpenseDialog:{isOpen:!1,data:void 0,editIndex:-1,expenses:[]}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("select",{name:"status",className:"mr-1",value:this.state.search.status,onChange:this.handleStatusChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"active"},"Active"),s.a.createElement("option",{value:"not-active"},"Not Active")),s.a.createElement("button",{className:"btn btn-sm btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleOpenExpenseDialog(!0)}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(b.a,{path:f.v,title:"Dashboard",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Account"),s.a.createElement("th",null,"Account type"),s.a.createElement("th",{scope:"col"},"Allow expense"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.expenseList.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",null,t.account)),s.a.createElement("td",null,t.accountType),s.a.createElement("td",null,t.isAllowExpense?"Active":"Not Active"),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenExpenseDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDelete(a)},className:"btn btn-sm btn-danger"},"Delete")))})),0===this.state.expenseList.length&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"text-center"},"No expenses found"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getExpenseListFrom(e.state.search.from-e.state.search.size)},disabled:0===this.state.search.from},"Previous"),s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getExpenseListFrom(e.state.search.from+e.state.search.size)},disabled:!this.state.hasMoreResults},"Next")),this.state.addExpenseDialog.isOpen&&s.a.createElement(at,{expenses:this.state.addExpenseDialog.expenses,data:this.state.addExpenseDialog.data,showToast:this.showToast,handleCloseDialog:this.handleCloseDialog}))}}]),t}(l.Component)),lt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).showToast=function(e,t){a.props.showToast(e,t)},a.handleCloseDialog=function(e){a.props.handleCloseDialog(e)},a.state={initialValues:a.props.data?a.props.data:{Active:!1,DisplayName:"",group:"",Title:"",Fax:"",firstName:"",GivenName:"",FamilyName:"",FreeFormNumber:"",PrimaryEmailAddr:"",extension:"",CompanyName:"",WebAddr:"",BillRate:""},isLoading:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"modal fade",id:"list_vendor_add_dialog","data-backdrop":"static","data-keyboard":"false",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-form","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal- modal-dialog-centered modal-lg",role:"document"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-body p-0"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Class")))),s.a.createElement("div",{className:"card-body text-left"},this.state.isLoading&&s.a.createElement("div",{className:"centered loading-dialog"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(ae.a,{initialValues:this.state.initialValues,validate:function(e){var t={};return e.DisplayName||(t.DisplayName="Required"),t},onSubmit:function(t){var a;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.setState({isLoading:!0}),!t._id){n.next=7;break}return n.next=4,V.a.awrap(Q("vendor/update","Patch",t));case 4:a=n.sent,n.next=10;break;case 7:return n.next=9,V.a.awrap(Q("vendor/add","POST",t));case 9:a=n.sent;case 10:a.success?(e.showToast("Vendor ".concat(t._id?"updated":"added"," successfully"),"success"),e.handleCloseDialog(a.data)):(e.setState({isLoading:!1}),e.showToast("Error while ".concat(t._id?"updating":"adding"," vendor"),"error"));case 11:case"end":return n.stop()}}))}},(function(t){var a=t.values,n=t.errors,l=t.touched,r=(t.handleChange,t.handleSubmit),o=t.setFieldValue;t.resetForm;return s.a.createElement("form",{onSubmit:r},s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-12"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:" customActive",type:"checkbox",value:a.Active,checked:!!a.Active,onChange:function(){o("Active",!a.Active)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:" customActive"},s.a.createElement("span",null,"Active?"))))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Name",type:"text",placeholder:"Name",name:"DisplayName",value:a.DisplayName,onChange:function(e){o("DisplayName",e.target.value)},showError:!(!n.DisplayName||!l.DisplayName),error:n.DisplayName})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Group",type:"text",placeholder:"Group",name:"group",value:a.group,onChange:function(e){o("group",e.target.value)},showError:!(!n.group||!l.group),error:n.group})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Title",type:"text",placeholder:"Title",name:"Title",value:a.Title,onChange:function(e){o("Title",e.target.value)},showError:!(!n.Title||!l.Title),error:n.Title})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Fax No.",type:"text",placeholder:"Fax No.",name:"Fax",value:a.Fax,onChange:function(e){o("Fax",e.target.value)},showError:!(!n.Fax||!l.Fax),error:n.Fax})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"First Name",type:"text",placeholder:"First Name",name:"firstName",value:a.firstName,onChange:function(e){o("firstName",e.target.value)},showError:!(!n.firstName||!l.firstName),error:n.firstName})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Contact Name",type:"text",placeholder:"Contact Name",name:"GivenName",value:a.GivenName,onChange:function(e){o("GivenName",e.target.value)},showError:!(!n.GivenName||!l.GivenName),error:n.GivenName})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Last Name",type:"text",placeholder:"Last Name",name:"FamilyName",value:a.FamilyName,onChange:function(e){o("FamilyName",e.target.value)},showError:!(!n.FamilyName||!l.FamilyName),error:n.FamilyName})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Cell Phone",type:"text",placeholder:"Cell Phone",name:"FreeFormNumber",value:a.FreeFormNumber,onChange:function(e){o("FreeFormNumber",e.target.value)},showError:!(!n.FreeFormNumber||!l.FreeFormNumber),error:n.FreeFormNumber})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Email",type:"text",placeholder:"Email",name:"emPrimaryEmailAddrail",value:a.PrimaryEmailAddr,onChange:function(e){o("PrimaryEmailAddr",e.target.value)},showError:!(!n.PrimaryEmailAddr||!l.PrimaryEmailAddr),error:n.PrimaryEmailAddr})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Extension",type:"text",placeholder:"Extension",name:"extension",value:a.extension,onChange:function(e){o("extension",e.target.value)},showError:!(!n.extension||!l.extension),error:n.extension})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Company Name",type:"text",placeholder:"Company Name",name:"CompanyName",value:a.CompanyName,onChange:function(e){o("CompanyName",e.target.value)},showError:!(!n.CompanyName||!l.CompanyName),error:n.CompanyName})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Website",type:"text",placeholder:"Website",name:"WebAddr",value:a.WebAddr,onChange:function(e){o("WebAddr",e.target.value)},showError:!(!n.WebAddr||!l.WebAddr),error:n.WebAddr})),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement(X,{label:"Hourly Rate",type:"number",placeholder:"Hourly Rate",name:"BillRate",value:a.BillRate,onChange:function(e){o("BillRate",e.target.value)},showError:!(!n.BillRate||!l.BillRate),error:n.BillRate})))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link ",onClick:function(){return e.handleCloseDialog(void 0)}},"Close"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save")))})))))))))}}]),t}(l.Component),st=Ze(function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){return V.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.awrap(a.getVendorsList());case 2:case"end":return e.stop()}}))},a.getVendorsList=function(){var e,t,n,l;return V.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a.setState({isLoading:!0}),e=Object(z.a)({},a.state.search),s.next=4,V.a.awrap(Q("vendor/list","POST",e));case 4:(t=s.sent).success?(n=Object(W.a)(t.data),l=Object(W.a)(t.data).map((function(e){return e.PrimaryPhone&&e.PrimaryPhone.FreeFormNumber&&(e.FreeFormNumber=e.PrimaryPhone.FreeFormNumber),e.PrimaryEmailAddr&&e.PrimaryEmailAddr.Address&&(e.PrimaryEmailAddr=e.PrimaryEmailAddr.Address),e.WebAddr&&e.WebAddr.URI&&(e.WebAddr=e.WebAddr.URI),e})),a.setState({allVendorsList:n,vendorsList:l,hasMoreResults:t.data.length===a.state.search.size,isLoading:!1})):(a.setState({isLoading:!1}),a.showToast("Error while getting vendors list","error"));case 6:case"end":return s.stop()}}))},a.getVendorListFrom=function(e){a.setState((function(t){return{search:Object(z.a)({},t.search,{from:e})}}),a.getVendorsList)},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.handleOpenVendorDialog=function(e,t){e||window.$("#list_vendor_add_dialog").modal("hide");var n=Object(W.a)(a.state.allVendorsList);if(void 0!==t){var l=a.state.vendorsList[t],s=n.findIndex((function(e){return e._id===l._id}));n.splice(s,1)}a.setState({addVendorDialog:{isOpen:e,data:void 0!==t?Object(z.a)({},a.state.vendorsList[t]):void 0,editIndex:t,vendors:n}},(function(){e&&window.$("#list_vendor_add_dialog").modal("show")}))},a.handleCloseDialog=function(e){window.$("#list_vendor_add_dialog").modal("hide"),a.setState({addVendorDialog:{isOpen:!1,data:void 0,editIndex:-1,vendors:[]}},(function(){e&&a.getVendorListFrom(0)}))},a.handleDelete=function(e){a.props.confirmDialog.show("Are you sure","Do you want to delete",(function(){var t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({isLoading:!0}),n.next=3,V.a.awrap(Q("vendor/".concat(a.state.vendorsList[e]._id),"DELETE"));case 3:n.sent.success?(a.showToast("Vendor deleted successfully","success"),(t=Object(W.a)(a.state.vendorsList)).splice(e,1),a.setState({vendorsList:t,isLoading:!1})):(a.setState({isLoading:!1}),a.showToast("Error while getting deleting vendor","error"));case 5:case"end":return n.stop()}}))}))},a.handleStatusChange=function(e){var t=Object(z.a)({},e);a.setState((function(e){var a;return{search:Object(z.a)({},e.search,(a={},Object(m.a)(a,t.target.name,t.target.value),Object(m.a)(a,"from",0),a))}}),a.getVendorsList)},a.state={isLoading:!1,allVendorsList:[],vendorsList:[],search:{from:0,size:10,status:""},hasMoreResults:!1,addVendorDialog:{isOpen:!1,data:void 0,editIndex:-1,vendors:[]}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"text-right"},s.a.createElement("select",{name:"status",className:"mr-1",value:this.state.search.status,onChange:this.handleStatusChange},s.a.createElement("option",{value:""},"All"),s.a.createElement("option",{value:"active"},"Active"),s.a.createElement("option",{value:"not-active"},"Not Active")),s.a.createElement("button",{className:"btn btn-sm btn-icon btn-3 btn-primary text-right",type:"button",onClick:function(){return e.handleOpenVendorDialog(!0)}},s.a.createElement("span",{className:"btn-inner--icon"},s.a.createElement(b.a,{path:f.v,title:"Add",size:1,horizontal:!0,vertical:!0,rotate:180,color:"#ffffff"})),s.a.createElement("span",{className:"btn-inner--text"},"Add"))),s.a.createElement("div",{className:"table-responsive"},s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Name"),s.a.createElement("th",{scope:"col"},"Status"),s.a.createElement("th",{scope:"col"},"Actions"))),s.a.createElement("tbody",null,this.state.vendorsList.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,s.a.createElement("span",null,t.DisplayName)),s.a.createElement("td",null,t.Active?"Active":"Not Active"),s.a.createElement("td",null,s.a.createElement("button",{type:"button",onClick:function(){return e.handleOpenVendorDialog(!0,a)},className:"btn btn-sm btn-primary"},"Edit"),s.a.createElement("button",{type:"button",onClick:function(){return e.handleDelete(a)},className:"btn btn-sm btn-danger"},"Delete")))})),0===this.state.vendorsList.length&&s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"3",className:"text-center"},"No Vendors found"))))),s.a.createElement("br",null),s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getVendorListFrom(e.state.search.from-e.state.search.size)},disabled:0===this.state.search.from},"Previous"),s.a.createElement("button",{className:"btn btn-outline-danger pagination-btn",onClick:function(){return e.getVendorListFrom(e.state.search.from+e.state.search.size)},disabled:!this.state.hasMoreResults},"Next")),this.state.addVendorDialog.isOpen&&s.a.createElement(lt,{expenses:this.state.addVendorDialog.vendors,data:this.state.addVendorDialog.data,showToast:this.showToast,handleCloseDialog:this.handleCloseDialog}))}}]),t}(l.Component)),rt=(a(152),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},"Approved"===this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:!this.props.timesheetData,onClick:function(){return e.props.changeStatusTimesheets(L.WITH_APPROVER)}},"UnApprove")))):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!this.props.timesheetData,onClick:function(){return e.props.changeStatusTimesheets(L.APPROVED)}},"Approve")))),s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-danger",disabled:!this.props.timesheetData,onClick:function(){return e.props.changeStatusTimesheets(L.REJECTED)}},"Reject")))))))))}}]),t}(l.Component)),ot=(a(101),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).displayImages=function(e,t){t.preventDefault();var n=[];e.forEach((function(e){n.push({src:e.startsWith("http")?e:"".concat(D).concat(e)})})),a.setState({displayImages:n,viewerIsOpen:!0})},a.gotoPrev=function(){a.setState({currImg:a.state.currImg-1})},a.gotoNext=function(){a.setState({currImg:a.state.currImg+1})},a.gotoImg=function(e){a.setState({currImg:e})},a.openImgsViewer=function(e,t){t.preventDefault(),a.setState({currImg:e,viewerIsOpen:!0})},a.closeImgsViewer=function(){a.setState({currImg:0,displayImages:[],viewerIsOpen:!1})},a.handleClickImg=function(){a.state.currImg!==a.displayImages.length-1&&a.gotoNext()},a.renderGallery=function(){if(a.state.displayImages){var e=a.state.displayImages.filter((function(e){return e.useForDemo})).map((function(e,t){return s.a.createElement("a",{href:e.src,className:Object(Ce.css)(mt.thumbnail,mt[e.orientation]),key:t,onClick:function(e){return a.openImgsViewer(t,e)}},s.a.createElement("img",{src:e.thumbnail,className:Object(Ce.css)(mt.source),alt:""}))}));return s.a.createElement("div",{className:Object(Ce.css)(mt.gallery)},e)}},a.state={content:"",timesheetIds:[],selectedStatus:"",displayImages:[],viewerIsOpen:!1,currImg:0,images:[],selectAll:!1},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"addOrRemoveTimesheets",value:function(e){var t=e.target.name,a=e.target.checked,n=this.props.timesheetData,l=Object.keys(n);console.log(Object);var s=this.state.timesheetIds;if(!t.includes("cust")&&t.includes("table")){var r=t.split("_")[1],o=n[l[r]].value;(d=Object.keys(o)).forEach((function(e){o[e].value.forEach((function(e){a?(s.push(e._id),document.getElementsByName(e._id)[0].checked=!0):-1!==s.indexOf(e._id)&&(s.splice(s.indexOf(e._id),1),document.getElementsByName(e._id)[0].checked=!1)}))})),document.querySelectorAll("[name^=table_"+r+"]").forEach((function(e){return e.checked=a}))}else if(t.includes("cust")&&t.includes("table")){var c=t.split("_"),i=c[1],m=c[3],d=(o=n[l[i]].value,Object.keys(o));o[d[m]].value.forEach((function(e){a?(s.push(e._id),document.getElementsByName(e._id)[0].checked=!0):-1!==s.indexOf(e._id)&&(s.splice(s.indexOf(e._id),1),document.getElementsByName(e._id)[0].checked=!1)})),a||(document.getElementsByName("table_"+i)[0].checked=!1)}else a?s.push(t):-1!==s.indexOf(t)?s.splice(s.indexOf(t),1):s=s;document.getElementById("selectAll")&&(document.getElementById("selectAll").checked=!1),this.setState({timesheetIds:s}),this.props.setTimesheetIds(s)}},{key:"selectAll",value:function(e){var t=this.props.timesheetData,a=e.target.checked,n=[];Object.keys(t).forEach((function(e,l){var s=t[e].value;Object.keys(s).forEach((function(e){s[e].value.forEach((function(e){a?(n.push(e._id),document.getElementsByName(e._id)[0].checked=!0):-1!==n.indexOf(e._id)&&(n.splice(n.indexOf(e._id),1),document.getElementsByName(e._id)[0].checked=!1)}))}))})),this.setState({timesheetIds:n}),this.props.setTimesheetIds(n),document.querySelectorAll("[name^=table_]").forEach((function(e){return e.checked=a}))}},{key:"constructMainTable",value:function(){var e=this,t=[],a=this.props.timesheetData?Object.keys(this.props.timesheetData):[];console.log("Error");var n=this.props.timesheetData[0];n=JSON.stringify(n),console.log(n),console.log(a.length);for(var l=0;l<a.length;l++)t.push(s.a.createElement("table",{className:"table align-items-center table-flush mt-2"},s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col",colspan:"3"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"table_"+l,type:"checkbox",name:"table_"+l,onChange:function(t){return e.addOrRemoveTimesheets(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"table_"+l},this.props.timesheetData[a[l]].key))))))),s.a.createElement("tbody",{class:"list"},this.getCustomerTable(this.props.timesheetData[a[l]],l))));return t}},{key:"getCustomerTable",value:function(e,t){var a=this,n=[];console.log("test"),console.log(t);var l=Object.keys(e);console.log(l.length);for(var r=0;r<l.length;r++)n.push(s.a.createElement(s.a.Fragment,null,s.a.createElement("tr",{className:"thead-light"},s.a.createElement("th",{scope:"row",colspan:"3"},s.a.createElement("div",{className:"container withoutMargin"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-8"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"table_"+t+"_cust_"+r,type:"checkbox",name:"table_"+t+"_cust_"+r,onChange:function(e){return a.addOrRemoveTimesheets(e)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"table_"+t+"_cust_"+r},e[l[r]].key)))),s.a.createElement("div",{className:"col-1"},s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("span",{name:"table"+t+"_cust"+t,onClick:function(e){return a.showContent(e)},className:"accordion"}))))))),s.a.createElement("tr",{className:"removeContent",id:"table"+t+"_cust"+t},s.a.createElement("table",null,s.a.createElement("tbody",null,this.buildTimesheetDetails(e))))));return n}},{key:"buildTimesheetDetails",value:function(e){var t=this;console.log("custDetails"),console.log(e);var a=e;return s.a.createElement(s.a.Fragment,null,(function(){return t.renderGallery()}),s.a.createElement(xe.a,{backdropCloseable:!0,currImg:this.state.currImg,imgs:this.state.displayImages,isOpen:this.state.viewerIsOpen,onClickImg:this.handleClickImg,onClickNext:this.gotoNext,onClickPrev:this.gotoPrev,onClickThumbnail:this.gotoImg,onClose:this.closeImgsViewer,showThumbnails:!0}),s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:a._id,type:"checkbox",name:a._id,onChange:function(e){return t.addOrRemoveTimesheets(e)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:a._id})))),s.a.createElement("td",null,s.a.createElement("div",null,s.a.createElement("span",null,"Start Time"),s.a.createElement("p",null,re()(a.StartTime).format("Do MMM dddd YYYY"))),s.a.createElement("div",null,s.a.createElement("span",null,"Client")),a.Description?s.a.createElement("div",null,s.a.createElement("span",null,"Description"),s.a.createElement("p",null,a.Description)):"",s.a.createElement("div",null,s.a.createElement("span",null,"Variation"),s.a.createElement("p",null,a.BillableStatus)),a.notes?s.a.createElement("div",null,s.a.createElement("span",null,"Variation Notes"),s.a.createElement("p",null,a.notes)):"",a.images&&a.images.length?s.a.createElement("div",null,s.a.createElement("span",null,"Attachements"),s.a.createElement("div",{class:"avatar-group",onClick:function(e){return t.displayImages(a.images,e)}},a.images.length>0?a.images.map((function(e,t){return s.a.createElement("a",{href:"/",class:"avatar avatar-sm",key:t,"data-toggle":"tooltip","data-original-title":"Ryan Tompson"},s.a.createElement("img",{alt:"",src:e.startsWith("http")?e:"".concat(D).concat(e),class:"rounded-circle"}))})):"N/A")):""),s.a.createElement("td",null,s.a.createElement("span",null,"Hours"),s.a.createElement("p",null,a.Hours))))}},{key:"showContent",value:function(e){document.getElementById(e.target.getAttribute("name")).classList.toggle("removeContent"),e.target.classList.toggle("active")}},{key:"componentDidMount",value:function(){this.setState({timesheetIds:[]})}},{key:"componentDidUpdate",value:function(e,t){if(e.selectedStatus!==this.state.selectedStatus){this.setState({timesheetIds:[]});for(var a=document.querySelectorAll("input[type='checkbox']"),n=0;n<a.length;n++)a[n].checked=!1}}},{key:"render",value:function(){var e=this;return console.log("props",this.props.selectedStatus),s.a.createElement(s.a.Fragment,null,this.props.timesheetData?s.a.createElement("div",null,s.a.createElement("div",{className:"form-group mt-4"},s.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},s.a.createElement("input",{className:"custom-control-input",id:"selectAll",type:"checkbox",name:this.state.selectAll,onChange:function(t){return e.selectAll(t)}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"selectAll"},"Select All"))),s.a.createElement("div",{className:"table-responsive"},this.constructMainTable())):s.a.createElement("p",null,"No Timesheet details available!"))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.selectedStatus!==t.selectedStatus?{selectedStatus:e.selectedStatus}:null}}]),t}(l.Component)),ct=2,it=4,mt=Ce.StyleSheet.create({gallery:{marginRight:-ct,overflow:"hidden","@media (min-width: 500px)":{marginRight:-it}},thumbnail:{boxSizing:"border-box",display:"block",float:"left",lineHeight:0,paddingRight:ct,paddingBottom:ct,overflow:"hidden","@media (min-width: 500px)":{paddingRight:it,paddingBottom:it}},landscape:{width:"30%"},square:{paddingBottom:it,width:"40%","@media (min-width: 500px)":{paddingBottom:it}},source:{border:0,display:"block",height:"auto",maxWidth:"100%",width:"auto"}}),dt=ot,ut=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getTimesheetsApprovalList=function(){var e,t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object(E.a)(a),a.setState({isLoading:!0}),n.next=4,V.a.awrap(Q("timesheet/getTimesheetsForApproval","POST",Object(z.a)({},a.state.timesheets.search,{status:a.state.selectedApprovalStatus})));case 4:t=n.sent,console.log(t),t.success?e.setState((function(e){return{timesheets:Object(z.a)({},e.timesheets,{data:t.data}),hasMoreResults:a.state.timesheets.search.size===t.data?t.data.length:0,isLoading:!1,timesheetIds:[]}})):(a.setState({isLoading:!1}),a.showToast("Error while getting my timesheets","error"));case 7:case"end":return n.stop()}}))},a.getTimesheetsFrom=function(e){a.setState((function(t){return{timesheets:Object(z.a)({},t.timesheets,{search:Object(z.a)({},t.timesheets.search,{from:e})})}}),a.getTimesheetsList)},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.setTimesheetIds=function(e){a.setState({timesheetIds:e})},a.changeStatusTimesheets=function(e){var t=Object(E.a)(a),n="";if("Rejected"!=e||!!window.confirm("Rejecting the timesheet will send a notification to the employee and timesheet has to be resubmitted for approval!")){a.setState({isLoading:!0});var l={token:localStorage.getItem("token"),timeSheetIds:a.state.timesheetIds,status:e};n=k+"timesheet/changeTimesheetsStatus";y.a.post(n,l).then((function(e){e.data.success?P.ToastsStore.success(e.data.message):P.ToastsStore.error(e.data.message),t.setState({isLoading:!1}),window.location.reload(!1)})).catch((function(e){P.ToastsStore.error(e.message),t.setState({isLoading:!1})}))}},a.state={isLoading:!1,timesheetCountDetails:{},timesheets:{data:[],search:{from:0,size:10}},hasMoreResults:!1,timesheetDialog:{isOpen:!1,data:void 0},selectedApprovalStatus:"",timesheetIds:[]},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.selectedApprovalStatus!==this.state.selectedApprovalStatus&&(console.log("status updated"),this.setState((function(e){return{selectedApprovalStatus:a.props.selectedApprovalStatus,timesheets:Object(z.a)({},e.timesheets,{search:Object(z.a)({},e.timesheets.search,{from:0})})}}),this.getTimesheetsApprovalList))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-6"})),s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement(rt,{selectedStatus:this.state.selectedApprovalStatus,changeStatusTimesheets:this.changeStatusTimesheets,timesheetData:this.state.timesheets.data}),s.a.createElement(dt,{selectedStatus:this.state.selectedApprovalStatus,timesheetData:this.state.timesheets.data,setTimesheetIds:this.setTimesheetIds}),s.a.createElement("br",null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.selectedApprovalStatus!==t.selectedApprovalStatus?{selectedApprovalStatus:e.selectedApprovalStatus}:null}}]),t}(l.Component),pt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){return V.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.awrap(a.getTimesheetCount());case 2:case"end":return e.stop()}}))},a.getTimesheetCount=function(){var e;return V.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({isLoading:!0}),t.next=3,V.a.awrap(Q("timesheet/countForApproval","GET"));case 3:(e=t.sent).success?(a.setState({timeSheetCountDetails:e.data,isLoading:!1}),a.props.selectedStatus?a.props.onStatusSelected(a.props.selectedStatus):a.props.onStatusSelected("pendingApproval")):(a.setState({isLoading:!1}),a.showToast("Error while getting my expenses","error"));case 5:case"end":return t.stop()}}))},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.state={timeSheetCountDetails:{}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"row"},I.map((function(t){return s.a.createElement("div",{key:t.value,className:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-xs-12",onClick:function(){return e.props.onStatusSelected(t.value)}},s.a.createElement("div",{className:"align-items-center d-flex status-card  ".concat(t.value," ").concat(t.value===e.props.selectedStatus?"selected":"")},s.a.createElement("div",{className:"align-items-center d-flex justify-content-center status-count"},e.state.timeSheetCountDetails&&e.state.timeSheetCountDetails[t.value]?e.state.timeSheetCountDetails[t.value].count:0),s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("label",null,t.label),s.a.createElement("span",null,e.state.timeSheetCountDetails&&e.state.timeSheetCountDetails[t.value]?e.state.timeSheetCountDetails[t.value].totalHours+" hours":0))))}))))}}]),t}(l.Component),ht=a(123),Et=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleListExpanded=function(){a.setState({isListExpanded:!a.state.isListExpanded})},a.isActive=function(e){return"nav-link "+(e===a.props.title?"active":"nav-link")},a.handleClick=function(e,t){e.preventDefault(),a.props.handleNavigation(t);var n=s.a.createElement(M,null),l=void 0;switch(t){default:case"dashboard":n=s.a.createElement(M,null),l=s.a.createElement(be,null);break;case"users":n=s.a.createElement(ge,null);break;case"about":n=s.a.createElement(ve,null);break;case"mytime":n=s.a.createElement(Ie,null);break;case"myexpenses":n=s.a.createElement(Be,null);break;case"customers":n=s.a.createElement(Ge,null);break;case"expenses":n=s.a.createElement(Ye,null),l=s.a.createElement(Qe,null);break;case"approve-timesheets":n=s.a.createElement(ut,null),l=s.a.createElement(pt,null);break;case"list-task":n=s.a.createElement($e,null);break;case"list-classes":n=s.a.createElement(tt,null);break;case"list-expenses":n=s.a.createElement(nt,null);break;case"suppliers":return s.a.createElement(st,null);case"employees":return s.a.createElement(ce,null)}a.props.setComponent(n,t,l)},a.handleLogout=function(e){e.preventDefault(),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("name"),a.props.setLogout()},a.state={isListExpanded:!1,accessLevels:localStorage.getItem("access"),role:localStorage.getItem("role")},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return console.log("Check"),console.log(this.state),console.log(this.state.accessLevels.indexOf("TIMESHEETS")),s.a.createElement("nav",{className:"navbar navbar-vertical fixed-left navbar-expand-md navbar-light bg-white",id:"sidenav-main"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#sidenav-collapse-main","aria-controls":"sidenav-main","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("a",{className:"navbar-brand pt-0",href:"/"},s.a.createElement("img",{src:ht,height:"500px",className:"navbar-brand-img h-100",alt:"..."})),s.a.createElement("ul",{className:"nav align-items-center d-md-none"},s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link",href:"/",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("div",{className:"media align-items-center"},s.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},s.a.createElement("img",{src:"../assets/img/theme/team-1-800x800.jpg",alt:""})))),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-arrow dropdown-menu-right"},s.a.createElement("div",{className:" dropdown-header noti-title"},s.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),s.a.createElement("a",{href:"./examples/profile.html",className:"dropdown-item"},s.a.createElement("i",{className:"ni ni-single-02"}),s.a.createElement("span",null,"My profile")),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement("a",{href:"#!",className:"dropdown-item"},s.a.createElement("i",{className:"ni ni-user-run"}),s.a.createElement("span",null,"Logout"))))),s.a.createElement("div",{className:"collapse navbar-collapse",id:"sidenav-collapse-main"},s.a.createElement("div",{className:"navbar-collapse-header d-md-none"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6 collapse-brand"},s.a.createElement("a",{href:"../index.html"},s.a.createElement("img",{src:"../assets/img/brand/blue.png",alt:""}))),s.a.createElement("div",{className:"col-6 collapse-close"},s.a.createElement("button",{type:"button",className:"navbar-toggler","data-toggle":"collapse","data-target":"#sidenav-collapse-main","aria-controls":"sidenav-main","aria-expanded":"false","aria-label":"Toggle sidenav"},s.a.createElement("span",null),s.a.createElement("span",null))))),s.a.createElement("h6",{className:"navbar-heading text-muted"},"My Workspace"),s.a.createElement("h5",null,"Trial"),s.a.createElement("ul",{className:"navbar-nav"},console.log(this.state.accessLevels),this.state.accessLevels?s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("mytime"),onClick:function(t){e.handleClick(t,"mytime")},href:"/"},s.a.createElement(b.a,{path:f.f,title:"mytime",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}),"My Time")):"",s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("myexpenses"),onClick:function(t){e.handleClick(t,"myexpenses")},href:"/"},s.a.createElement(b.a,{path:f.f,title:"myexpenses",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ffd600",className:"mr-2"}),"My Expenses")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("approve-timesheets"),onClick:function(t){e.handleClick(t,"approve-timesheets")},href:"/"},s.a.createElement(b.a,{path:f.f,title:"approve-timesheets",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ffd600",className:"mr-2"}),"Approve Timesheets"))),this.state.role&&"Admin"==this.state.role?s.a.createElement(s.a.Fragment,null,s.a.createElement("hr",{className:"my-3"}),s.a.createElement("h6",{className:"navbar-heading text-muted"},"Administration"),s.a.createElement("ul",{className:"navbar-nav mb-md-3"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("dashboard"),onClick:function(t){e.handleClick(t,"dashboard")},href:"/"},s.a.createElement(b.a,{path:f.r,title:"dashboard",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#e74c3c",className:"mr-2"}),"Dashboard")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("timesheets"),onClick:function(t){e.handleClick(t,"timesheets")},href:"/"},s.a.createElement(b.a,{path:f.n,title:"Timesheets",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#94d82d",className:"mr-2"}),"Timesheets")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("expenses"),onClick:function(t){e.handleClick(t,"expenses")},href:"/"},s.a.createElement(b.a,{path:f.g,title:"expenses",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#22b8cf",className:"mr-2"}),"Expenses")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("users"),onClick:function(t){e.handleClick(t,"users")},href:"/"},s.a.createElement(b.a,{path:f.b,title:"users",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#f06595",className:"mr-2"}),"Users")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("customers"),onClick:function(t){e.handleClick(t,"customers")},href:"/"},s.a.createElement(b.a,{path:f.b,title:"customers",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ff922b",className:"mr-2"}),"Add Customers")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("employees"),onClick:function(t){e.handleClick(t,"employees")},href:"/"},s.a.createElement(b.a,{path:f.b,title:"employees",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#00008b",className:"mr-2"}),"Add Employees")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("suppliers"),onClick:function(t){e.handleClick(t,"suppliers")},href:"/"},s.a.createElement(b.a,{path:f.b,title:"suppliers",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ff922b",className:"mr-2"}),"Add Suppliers")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("div",{className:"pr-0 pointer ".concat(this.isActive("list")),onClick:function(t){e.handleListExpanded()}},s.a.createElement("div",{className:"w-100 d-flex justify-content-between"},s.a.createElement("div",null,s.a.createElement(b.a,{path:f.l,title:"list",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#51cf66",className:"mr-2"}),"List"),s.a.createElement("div",null,s.a.createElement("i",{className:'"fa fa-user ni '.concat(!1===this.state.isListExpanded?"ni-bold-down":"ni-bold-up")})))),this.state.isListExpanded&&s.a.createElement("div",{className:"pl-3"},s.a.createElement("ul",{className:"navbar-nav mb-md-3 ml-0 mr-0"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("list-task"),onClick:function(t){e.handleClick(t,"list-task")},href:"/"},"Tasks")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("list-classes"),onClick:function(t){e.handleClick(t,"list-classes")},href:"/"},"Services")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("list-expenses"),onClick:function(t){e.handleClick(t,"list-expenses")},href:"/"},"Products")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("list-other-items"),onClick:function(t){e.handleClick(t,"list-other-items")},href:"/"},"Chart of Accounts"))))),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("reports"),onClick:function(t){e.handleClick(t,"reports")},href:"/"},s.a.createElement(b.a,{path:f.e,title:"reports",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ff6b6b",className:"mr-2"}),"Reports")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("setup"),onClick:function(t){e.handleClick(t,"setup")},href:"/"},s.a.createElement(b.a,{path:f.x,title:"setup",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ffd600",className:"mr-2"}),"Setup")),s.a.createElement("div",{className:"pl-3"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("quickbooks"),onClick:function(t){e.handleClick(t,"quickbooks")},href:"/"},s.a.createElement(b.a,{path:f.c,title:"quickbooks",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#ff922b",className:"mr-2"}),"Quickbooks"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:this.isActive("my account"),onClick:function(t){e.handleClick(t,"my account")},href:"/"},s.a.createElement(b.a,{path:f.f,title:"my account",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#94d82d",className:"mr-2"}),"My Account")))," "):"")))}}]),t}(l.Component),gt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleLogout=function(e){e.preventDefault(),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("name"),a.props.setLogout()},a.state={name:localStorage.getItem("name")},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("nav",{className:"navbar navbar-top navbar-expand-md navbar-dark",id:"navbar-main"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("a",{className:"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block",href:"/"},this.props.title),s.a.createElement("ul",{className:"navbar-nav align-items-center d-none d-md-flex"},s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link pr-0",href:"/",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},s.a.createElement("div",{className:"media align-items-center"},s.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},s.a.createElement("img",{src:"../assets/img/theme/team-4-800x800.jpg",alt:""})),s.a.createElement("div",{className:"media-body ml-2 d-none d-lg-block"},s.a.createElement("span",{className:"mb-0 text-sm  font-weight-bold"},this.state.name)))),s.a.createElement("div",{className:"dropdown-menu dropdown-menu-arrow dropdown-menu-right"},s.a.createElement("div",{className:" dropdown-header noti-title"},s.a.createElement("h6",{className:"text-overflow m-0"},"Welcome!")),s.a.createElement("a",{href:"/",className:"dropdown-item"},s.a.createElement("i",{className:"ni ni-single-02"}),s.a.createElement("span",null,"My profile")),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement("a",{href:"/",className:"dropdown-item",onClick:function(t){e.handleLogout(t)}},s.a.createElement("i",{className:"ni ni-user-run"}),s.a.createElement("span",null,"Logout")))))))}}]),t}(l.Component),vt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("footer",{className:"footer"},s.a.createElement("div",{className:"row align-items-center justify-content-md-between"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"copyright"},"\xa9 2019 \xa0",s.a.createElement("a",{href:"/",target:"_blank"},"Verd"),".")),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("ul",{className:"nav nav-footer justify-content-end"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/",className:"nav-link",target:"_blank"},"Verd")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/",className:"nav-link",target:"_blank"},"About Us")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{href:"/",className:"nav-link",target:"_blank"},"License"))))))}}]),t}(l.Component),bt=(a(381),l.Component,function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).deleteConfirm=function(){var e=Object(E.a)(a);window.confirm("By proceeding you will be deleting the record permanently!")&&e.props.changeStatusTimesheets("Delete")},a.state={},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},"Approved"===this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-3 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!this.props.timesheetData,onClick:this.props.sendToQuickBook},"Send To Quickbook")))):"","Approved"===this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-3 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:!this.props.timesheetData},"Download Timesheet")))):"","WithEmployee"==this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-info",onClick:this.props.sendRemainder,disabled:!this.props.timesheetData},"Send Remainder")))):"","WithEmployee"==this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-2 col-lg-2 col-md-6 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.props.changeStatusTimesheets(L.APPROVED)},disabled:!this.props.timesheetData},"Submit")))):"","WithApprover"==this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-info",onClick:this.props.sendRemainder,disabled:!this.props.timesheetData},"Send Remainder")))):"","Approved"==this.props.selectedStatus||"WithEmployee"==this.props.selectedStatus?s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:function(){return e.props.changeStatusTimesheets(L.ARCHIVED)},disabled:!this.props.timesheetData},"Move to Archive")))):"","Archived"==this.props.selectedStatus?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"col-xl-2 col-lg-4 col-md-7 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-secondary",disabled:!this.props.timesheetData},"Download Again")))),s.a.createElement("div",{className:"col-xl-2 col-lg-3 col-md-6 col-sm-6 col-xs-12 marginBottom"},s.a.createElement("div",{className:"align-items-center d-flex"},s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.deleteConfirm,disabled:!this.props.timesheetData},"Delete"))))):""))))}}]),t}(l.Component)),ft=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getTimesheetsList=function(){var e,t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object(E.a)(a),a.setState({isLoading:!0}),n.next=4,V.a.awrap(Q("timesheet/getTimesheetsForAdmin","POST",Object(z.a)({},a.state.timesheets.search,{status:a.state.selectedStatus})));case 4:t=n.sent,console.log(t),t.success?e.setState((function(e){return{timesheets:Object(z.a)({},e.timesheets,{data:t.data}),hasMoreResults:a.state.timesheets.search.size===t.data?t.data.length:0,isLoading:!1,timesheetIds:[]}})):(a.setState({isLoading:!1}),a.showToast("Error while getting my expenses","error"));case 7:case"end":return n.stop()}}))},a.getTimesheetsFrom=function(e){a.setState((function(t){return{timesheets:Object(z.a)({},t.timesheets,{search:Object(z.a)({},t.timesheets.search,{from:e})})}}),a.getTimesheetsList)},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.setTimesheetIds=function(e){a.setState({timesheetIds:e})},a.sendToQuickBook=function(){var e=Object(E.a)(a);a.setState({isLoading:!0});var t={token:localStorage.getItem("token"),timeSheetIds:a.state.timesheetIds};y.a.post("http://api.verd.com.au/timesheet/sendTimesheetsToQB",t).then((function(t){t.data.success?(P.ToastsStore.success(t.data.message),e.setState({isLoading:!1})):(P.ToastsStore.error(t.data.message),e.setState({isLoading:!1}))})).catch((function(t){P.ToastsStore.error(t.message),e.setState({isLoading:!1})}))},a.changeStatusTimesheets=function(e){var t=Object(E.a)(a);a.setState({isLoading:!0});var n={token:localStorage.getItem("token"),timeSheetIds:a.state.timesheetIds,status:e};y.a.post("http://api.verd.com.au/timesheet/changeTimesheetsStatus",n).then((function(e){e.data.success?P.ToastsStore.success(e.data.message):P.ToastsStore.error(e.data.message),t.setState({isLoading:!1}),window.location.reload(!1)})).catch((function(e){P.ToastsStore.error(e.message),t.setState({isLoading:!1})}))},a.sendRemainder=function(){var e,t;return V.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object(E.a)(a),a.setState({isLoading:!0}),n.next=4,V.a.awrap(Q("timesheet/sendRemainder","POST",{timesheetIds:a.state.timesheetIds}));case 4:t=n.sent,e.setState({isLoading:!1}),t.success?P.ToastsStore.success(t.message):P.ToastsStore.error(t.message);case 7:case"end":return n.stop()}}))},a.state={isLoading:!1,timesheetCountDetails:{},timesheets:{data:[],search:{from:0,size:10}},hasMoreResults:!1,timesheetDialog:{isOpen:!1,data:void 0},selectedStatus:"",timesheetIds:[]},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.selectedStatus!==this.state.selectedStatus&&(console.log("status updated"),this.setState((function(e){return{selectedStatus:a.props.selectedStatus,timesheets:Object(z.a)({},e.timesheets,{search:Object(z.a)({},e.timesheets.search,{from:0})})}}),this.getTimesheetsList))}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.isLoading&&s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-6"})),s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement(bt,{selectedStatus:this.state.selectedStatus,sendToQuickBook:this.sendToQuickBook,changeStatusTimesheets:this.changeStatusTimesheets,sendRemainder:this.sendRemainder,timesheetData:this.state.timesheets.data}),s.a.createElement(dt,{selectedStatus:this.state.selectedStatus,timesheetData:this.state.timesheets.data,setTimesheetIds:this.setTimesheetIds}),s.a.createElement("br",null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.selectedStatus!==t.selectedStatus?{selectedStatus:e.selectedStatus}:null}}]),t}(l.Component),Nt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).componentDidMount=function(){return V.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.awrap(a.getTimesheetCount());case 2:case"end":return e.stop()}}))},a.getTimesheetCount=function(){var e;return V.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({isLoading:!0}),t.next=3,V.a.awrap(Q("timesheet/count","GET"));case 3:(e=t.sent).success?(a.setState({timeSheetCountDetails:e.data,isLoading:!1}),a.props.selectedStatus?a.props.onStatusSelected(a.props.selectedStatus):a.props.onStatusSelected("WithEmployee")):(a.setState({isLoading:!1}),a.showToast("Error while getting my expenses","error"));case 5:case"end":return t.stop()}}))},a.showToast=function(e,t){"success"===t?P.ToastsStore.success(e):P.ToastsStore.error(e)},a.state={timeSheetCountDetails:{}},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.isUpdateCount!==this.state.isUpdateCount&&this.setState((function(e){return{isUpdateCount:a.props.isUpdateCount}}),this.getTimesheetCount)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"row"},T.map((function(t){return s.a.createElement("div",{key:t.value,className:"col-xl-3 col-lg-3 col-md-6 col-sm-6 col-xs-12",onClick:function(){return e.props.onStatusSelected(t.value)}},s.a.createElement("div",{className:"align-items-center d-flex status-card  ".concat(t.value," ").concat(t.value===e.props.selectedStatus?"selected":"")},s.a.createElement("div",{className:"align-items-center d-flex justify-content-center status-count"},e.state.timeSheetCountDetails&&e.state.timeSheetCountDetails[t.value]?e.state.timeSheetCountDetails[t.value].count:0),s.a.createElement("div",{className:"flex-column d-flex justify-content-center"},s.a.createElement("label",null,t.label),s.a.createElement("span",null,e.state.timeSheetCountDetails&&e.state.timeSheetCountDetails[t.value]?e.state.timeSheetCountDetails[t.value].totalHours+" hours":0))))}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isUpdateCount!==t.isUpdateCount?{isUpdateCount:e.isUpdateCount}:null}}]),t}(l.Component),yt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).getHeader=function(){var e=window.location.pathname;switch(e=e.slice(1)){default:case"dashboard":return s.a.createElement(be,null);case"expenses":return s.a.createElement(Qe,{isUpdateCount:a.state.isUpdateCount,selectedStatus:a.state.selectedStatus,onStatusSelected:a.onStatusSelected});case"timesheets":return s.a.createElement(Nt,{isUpdateCount:a.state.isTimesheetUpdateCount,selectedStatus:a.state.selectedTimeSheetStatus,onStatusSelected:a.onTimesheetStatusSelected});case"approve-timesheets":return s.a.createElement(pt,{selectedStatus:a.state.selectedApprovalStatus,onStatusSelected:a.onApprovalStatusSelected})}},a.getBody=function(){var e=window.location.pathname;switch(e=e.slice(1)){default:case"dashboard":return s.a.createElement(M,null);case"employees":return s.a.createElement(ce,null);case"users":return s.a.createElement(ge,null);case"about":return s.a.createElement(ve,null);case"mytime":return s.a.createElement(Ie,null);case"myexpenses":return s.a.createElement(Be,null);case"customers":return s.a.createElement(Ge,null);case"expenses":return s.a.createElement(Ye,{updateExpenseCount:a.updateExpenseCount,selectedStatus:a.state.selectedStatus});case"timesheets":return s.a.createElement(ft,{updateTimesheetCount:a.updateTimesheetCount,selectedStatus:a.state.selectedTimeSheetStatus});case"list-task":return s.a.createElement($e,null);case"list-classes":return s.a.createElement(tt,null);case"list-expenses":return s.a.createElement(nt,null);case"suppliers":return s.a.createElement(st,null);case"approve-timesheets":return s.a.createElement(ut,{selectedApprovalStatus:a.state.selectedApprovalStatus})}},a.updateExpenseCount=function(){a.setState({isUpdateCount:!a.state.isUpdateCount})},a.updateTimesheetCount=function(){a.setState({isTimesheetUpdateCount:!a.state.isTimesheetUpdateCount})},a.onStatusSelected=function(e){a.setState({selectedStatus:e})},a.onTimesheetStatusSelected=function(e){a.setState({selectedTimeSheetStatus:e})},a.onApprovalStatusSelected=function(e){a.setState({selectedApprovalStatus:e})},a.handleNavigation=function(e){a.props.history.push("/"+e)},a.getComponent=function(e,t,n){a.setState({component:e,title:t,header:n})},a.getLogout=function(){a.props.history.push("/")},a.state={selectedStatus:"",isUpdateCount:!1,selectedTimeSheetStatus:"",isTimesheetUpdateCount:!1,selectedApprovalStatus:"",accessLevels:localStorage.getItem("access")},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=window.location.pathname,t=s.a.createElement(M,null),a=void 0;switch(e=e.slice(1)){default:case"dashboard":t=s.a.createElement(M,null),a=s.a.createElement(be,null),e="dashboard";break;case"employees":t=s.a.createElement(ce,null);break;case"users":t=s.a.createElement(ge,null);break;case"about":t=s.a.createElement(ve,null);break;case"mytime":t=s.a.createElement(Ie,null);break;case"myexpenses":t=s.a.createElement(Be,null);break;case"customers":t=s.a.createElement(Ge,null);break;case"expenses":t=s.a.createElement(Ye,null),a=s.a.createElement(Qe,{selectedStatus:this.state.selectedStatus,onStatusSelected:this.onStatusSelected});break;case"timesheets":t=s.a.createElement(ft,null),a=s.a.createElement(Nt,{selectedStatus:this.state.selectedTimeSheetStatus,onStatusSelected:this.onTimesheetStatusSelected});break;case"list-task":t=s.a.createElement($e,null);break;case"list-classes":t=s.a.createElement(tt,null);break;case"list-expenses":t=s.a.createElement(ut,{selectedStatus:this.state.selectedApprovalStatus,onStatusSelected:this.onApprovalStatusSelected}),a=s.a.createElement(pt,null);break;case"suppliers":t=s.a.createElement(st,null)}this.setState({component:t,header:a,title:e})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Et,{title:this.state.title,setComponent:this.getComponent,handleNavigation:this.handleNavigation,setLogout:this.getLogout}),s.a.createElement("div",{className:"main-content"},s.a.createElement(gt,{title:this.state.title,setLogout:this.getLogout}),s.a.createElement("div",{className:"header bg-gradient-primary pb-8 pt-5 pt-md-8"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"header-body"},this.state.header?this.getHeader():""))),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row mt-64"},s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"card shadow"},s.a.createElement("div",{className:"card-body",style:{minHeight:"200px"}},this.getBody())))),s.a.createElement(vt,null))))}}]),t}(l.Component),xt=(a(153),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleChangePassword=function(e){e.preventDefault();var t=Object(E.a)(a);if(a.state.confirmPassword===a.state.password){var n={password:a.state.password,oldPassword:a.state.oldPassword,token:localStorage.getItem("token")};t.setState({isLoading:!0});y.a.post("http://api.verd.com.au/employee/changePassword",n).then((function(e){e.data.success?(P.ToastsStore.success("Password updated successfully"),localStorage.setItem("token",e.data.token),t.props.history.push("/")):(t.setState({isLoading:!1}),P.ToastsStore.error("Error occured while updating password"))})).catch((function(e){t.setState({isLoading:!1}),P.ToastsStore.error(e.message)}))}else P.ToastsStore.error("Password and confirm password must match")},a.state={isLoading:!1,password:"",confirmPassword:"",oldPassword:""},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){re.a.locale("en")}},{key:"render",value:function(){return this.state.isLoading?s.a.createElement("div",{className:"centered"},s.a.createElement(C.a,{type:"spin",color:"#2B70A0",height:"64px",width:"64px"})):s.a.createElement(s.a.Fragment,null,s.a.createElement(P.ToastsContainer,{store:P.ToastsStore,position:P.ToastsContainerPosition.TOP_RIGHT}),s.a.createElement("div",{className:"main-content"},s.a.createElement("div",{className:"header bg-gradient-primary pb-8 pt-5 pt-md-8"}),s.a.createElement("div",{className:"container-fluid mt-165"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-lg-5 col-md-5"},s.a.createElement("div",{className:"card shadow"},s.a.createElement("div",{className:"card-body p-4 m-4"},s.a.createElement("h4",{className:"mb-4"},"Change Password"),s.a.createElement("form",{htmlFor:"form",onSubmit:this.handleChangePassword},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("input",{className:"form-control",placeholder:"Old Password",type:"password",required:!0,name:"oldPassword",value:this.state.oldPassword,onChange:this.handleChange,title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("input",{className:"form-control",placeholder:"Password",type:"password",required:!0,name:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",value:this.state.password,onChange:this.handleChange,title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"}))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("input",{className:"form-control",placeholder:"Confirm Password",type:"password",required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange,title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"}))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-link","data-dismiss":"modal"},"Cancel"),s.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Confirm"))))))),s.a.createElement(vt,null))))}}]),t}(l.Component)),Ct=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(m.a)({},e.target.name,e.target.value))},a.handleHireDateChange=function(e){a.setState({HiredDate:e})},a.handleEndDateChange=function(e){a.setState({ReleasedDate:e})},a.handleSubmit=function(e){e.preventDefault();var t=Object(E.a)(a);t.setState({loading:!0});var n={token:localStorage.getItem("access-token"),FirstName:t.state.FirstName,FamilyName:t.state.FamilyName,Title:t.state.Title,PrimaryPhone:t.state.PrimaryPhone,familyName:t.state.familyName,CountrySubDivisionCode:t.state.CountrySubDivisionCode,City:t.state.City,PostalCode:t.state.PostalCode,Line1:t.state.Line1,email:t.state.email,HiredDate:t.state.HiredDate,ReleasedDate:t.state.ReleasedDate};y.a.post("http://api.verd.com.au/employee/register",n).then((function(e){e.data.success?(P.ToastsStore.success("Employee created successfully."),window.location.reload()):(t.setState({loading:!1}),P.ToastsStore.error(e.data.message))})).catch((function(e){t.setState({loading:!1}),P.ToastsStore.error(e.message)}))},a.state={FirstName:"",FamilyName:"",Title:"",PrimaryPhone:"",familyName:"",CountrySubDivisionCode:"",City:"",PostalCode:"",Line1:"",email:"",HiredDate:new Date,ReleasedDate:new Date},a}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"container-fluid mt--7 bg-secondary"},s.a.createElement("div",{className:"card bg-secondary shadow"},s.a.createElement("div",{className:"card-header bg-white border-0"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-8"},s.a.createElement("h3",{className:"mb-0"},"Add Employee")))),s.a.createElement("div",{className:"card-body"},s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("h6",{className:"heading-small text-muted mb-4 text-left"},"Employee information"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-2"},s.a.createElement("div",{className:"form-group text-left"},s.a.createElement("label",{className:"form-control-label text-right",for:"input-title"},"Title"),s.a.createElement("input",{type:"text",id:"input-title",className:"form-control form-control-alternative",placeholder:"Title",name:"Title",value:this.state.Title,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-first-name"},"First Name"),s.a.createElement("input",{type:"text",id:"input-first-name",className:"form-control form-control-alternative",placeholder:"First Name",name:"FirstName",value:this.state.FirstName,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-5"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-last-name"},"Last Name"),s.a.createElement("input",{type:"text",id:"input-last-name",className:"form-control form-control-alternative",placeholder:"Last Name",name:"FamilyName",value:this.state.FamilyName,onChange:this.handleChange,required:!0})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-email"},"Email"),s.a.createElement("input",{type:"email",id:"input-email",className:"form-control form-control-alternative",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-mobile"},"Mobile"),s.a.createElement("input",{type:"number",id:"input-mobile",className:"form-control form-control-alternative",placeholder:"Mobile",name:"PrimaryPhone",value:this.state.PrimaryPhone,onChange:this.handleChange,required:!0}))))),s.a.createElement("hr",{className:"my-4"}),s.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Contact information"),s.a.createElement("div",{className:"pl-lg-4"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-address"},"Address"),s.a.createElement("input",{id:"input-address",className:"form-control form-control-alternative",placeholder:"Home Address",name:"Line1",value:this.state.Line1,onChange:this.handleChange,type:"text"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-City"},"City"),s.a.createElement("input",{type:"text",id:"input-City",className:"form-control form-control-alternative",placeholder:"City",name:"City",value:this.state.City,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Country"),s.a.createElement("input",{type:"text",id:"input-country",className:"form-control form-control-alternative",placeholder:"Country",name:"CountrySubDivisionCode",value:this.state.CountrySubDivisionCode,onChange:this.handleChange}))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Postal code"),s.a.createElement("input",{type:"number",id:"input-postal-code",className:"form-control form-control-alternative",placeholder:"Postal code",name:"PostalCode",value:this.state.PostalCode,onChange:this.handleChange})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"Hire Date"),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(b.a,{path:f.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(U.a,{className:"form-control datepicker",selected:this.state.HiredDate,onChange:this.handleHireDateChange})))),s.a.createElement("div",{className:"col-lg-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"form-control-label",for:"input-country"},"End Date"),s.a.createElement("div",{className:"input-group input-group-alternative"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("span",{className:"input-group-text"},s.a.createElement(b.a,{path:f.d,title:"calendar",size:.9,horizontal:!0,vertical:!0,rotate:180,color:"#5e72e4",className:"mr-2"}))),s.a.createElement(U.a,{className:"form-control datepicker",selected:this.state.ReleasedDate,onChange:this.handleEndDateChange})))))),s.a.createElement("button",{className:"btn btn-lg btn-primary btn-block text-uppercase mb-4",type:"submit"},"Create"))))))}}]),t}(l.Component);a(382),a(383),a(384),a(385),a(386),a(387),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function kt(e){var t=e.component,a=Object(n.a)(e,["component"]);return s.a.createElement(i.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?s.a.createElement(t,e):s.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}o.a.render(s.a.createElement(Ke,null,s.a.createElement(c.a,null,s.a.createElement(i.d,null,s.a.createElement(i.b,{exact:!0,path:"/login",component:F}),s.a.createElement(i.b,{exact:!0,path:"/register",component:Ct}),s.a.createElement(kt,{exact:!0,path:"/changePassword",component:xt}),s.a.createElement(kt,{exact:!0,path:"/",component:yt}),s.a.createElement(kt,{exact:!0,path:"",component:yt})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},49:function(e,t,a){},70:function(e,t,a){}},[[165,1,2]]]);
//# sourceMappingURL=main.ee5c4d1e.chunk.js.map